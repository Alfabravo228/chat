/*! For license information please see main.af8475d1.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function z(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case S:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Se(e){if(e=mi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=gi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==_e||null!==Ie)&&(Ne(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=gi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Le=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Le=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Le=!1}function Oe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ve=!1,Ue=null,je={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Oe.apply(je,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,xt,_t,It,St=!1,Et=[],Tt=null,Ct=null,Nt=null,At=new Map,Rt=new Map,Pt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Ot(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ht(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){St=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),At.forEach(Vt),Rt.forEach(Vt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return jt(t,e)}if(0<Et.length){jt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&jt(Tt,e),null!==Ct&&jt(Ct,e),null!==Nt&&jt(Nt,e),At.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var Bt=b.ReactCurrentBatchConfig;function qt(e,t,n,r){var i=gt,a=Bt.transition;Bt.transition=null;try{gt=1,Gt(e,t,n,r)}finally{gt=i,Bt.transition=a}}function Wt(e,t,n,r){var i=gt,a=Bt.transition;Bt.transition=null;try{gt=4,Gt(e,t,n,r)}finally{gt=i,Bt.transition=a}}function Gt(e,t,n,r){var i=Ht(e,t,n,r);if(null===i)Br(e,t,r,Kt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Ot(Tt,e,t,n,r,i),!0;case"dragenter":return Ct=Ot(Ct,e,t,n,r,i),!0;case"mouseover":return Nt=Ot(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Ot(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Ot(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var a=mi(i);if(null!==a&&bt(a),null===(a=Ht(e,t,n,r))&&Br(e,t,r,Kt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Br(e,t,r,null,n)}var Kt=null;function Ht(e,t,n,r){if(Kt=null,null!==(e=vi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Yt=null,Jt=null;function Xt(){if(Jt)return Jt;var e,t,n=Yt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=nn(un),cn=F({},un,{view:0,detail:0}),ln=nn(cn),fn=F({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=nn(fn),dn=nn(F({},fn,{dataTransfer:0})),pn=nn(F({},cn,{relatedTarget:0})),vn=nn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=nn(mn),gn=nn(F({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function _n(){return xn}var In=F({},cn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=nn(In),En=nn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=nn(F({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Cn=nn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=nn(Nn),Rn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Dn=l&&"TextEvent"in window&&!Ln,On=l&&(!Pn||Ln&&8<Ln&&11>=Ln),Mn=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Kn(e){Mr(e,0)}function Hn(e){if(H(yi(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(l){var Yn;if(l){var Jn="oninput"in document;if(!Jn){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),Jn="function"===typeof Xn.oninput}Yn=Jn}else Yn=!1;$n=Yn&&(!document.documentMode||9<document.documentMode)}function Zn(){Wn&&(Wn.detachEvent("onpropertychange",er),Gn=Wn=null)}function er(e){if("value"===e.propertyName&&Hn(Gn)){var t=[];qn(t,Gn,e,we(e)),Re(Kn,t)}}function tr(e,t,n){"focusin"===e?(Zn(),Gn=n,(Wn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Hn(Gn)}function rr(e,t){if("click"===e)return Hn(t)}function ir(e,t){if("input"===e||"change"===e)return Hn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=sr(n,a);var o=sr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=l&&"documentMode"in document&&11>=document.documentMode,pr=null,vr=null,mr=null,yr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==pr||pr!==Q(r)||("selectionStart"in(r=pr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&or(mr,r)||(mr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},wr={},xr={};function _r(e){if(wr[e])return wr[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return wr[e]=n[t];return e}l&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Ir=_r("animationend"),Sr=_r("animationiteration"),Er=_r("animationstart"),Tr=_r("transitionend"),Cr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Cr.set(e,t),s(t,[e])}for(var Rr=0;Rr<Nr.length;Rr++){var Pr=Nr[Rr];Ar(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Ar(Ir,"onAnimationEnd"),Ar(Sr,"onAnimationIteration"),Ar(Er,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ve||(Ve=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Or(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Or(i,u,c),a=s}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Fr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Vr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=vi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Cr.get(e);if(void 0!==u){var s=sn,c=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":s=Sn;break;case"focusin":c="focus",s=pn;break;case"focusout":c="blur",s=pn;break;case"beforeblur":case"afterblur":s=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Tn;break;case Ir:case Sr:case Er:s=vn;break;case Tr:s=Cn;break;case"scroll":s=ln;break;case"wheel":s=An;break;case"copy":case"cut":case"paste":s=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=En}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(qr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=hn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=En,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:yi(s),d=null==c?u:yi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,vi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Kr(o,u,s,l,!1),null!==c&&null!==f&&Kr(o,f,c,l,!0)}if("select"===(s=(u=r?yi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Qn;else if(Bn(u))if($n)m=ir;else{m=nr;var y=tr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=rr);switch(m&&(m=m(e,r))?qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?yi(r):window,e){case"focusin":(Bn(y)||"true"===y.contentEditable)&&(pr=y,vr=r,mr=null);break;case"focusout":mr=vr=pr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,gr(o,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else jn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(On&&"ko"!==n.locale&&(jn||"onCompositionStart"!==k?"onCompositionEnd"===k&&jn&&(g=Xt()):(Yt="value"in($t=i)?$t.value:$t.textContent,jn=!0)),0<(y=Wr(r,k)).length&&(k=new gn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Un(n))&&(k.data=g))),(g=Dn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=Xt(),Jt=Yt=$t=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new gn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Mr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Pe(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(qr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(qr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Hr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Hr,"\n").replace(Qr,"")}function Yr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Jr(){}var Xr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),ci="__reactFiber$"+si,li="__reactProps$"+si,fi="__reactContainer$"+si,hi="__reactEvents$"+si,di="__reactListeners$"+si,pi="__reactHandles$"+si;function vi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[ci])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function gi(e){return e[li]||null}var ki=[],bi=-1;function wi(e){return{current:e}}function xi(e){0>bi||(e.current=ki[bi],ki[bi]=null,bi--)}function _i(e,t){bi++,ki[bi]=e.current,e.current=t}var Ii={},Si=wi(Ii),Ei=wi(!1),Ti=Ii;function Ci(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){xi(Ei),xi(Si)}function Ri(e,t,n){if(Si.current!==Ii)throw Error(a(168));_i(Si,t),_i(Ei,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ti=Si.current,_i(Si,e),_i(Ei,Ei.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,xi(Ei),xi(Si),_i(Si,e)):xi(Ei),_i(Ei,n)}var Oi=null,Mi=!1,Fi=!1;function Vi(e){null===Oi?Oi=[e]:Oi.push(e)}function Ui(){if(!Fi&&null!==Oi){Fi=!0;var e=0,t=gt;try{var n=Oi;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Oi=null,Mi=!1}catch(i){throw null!==Oi&&(Oi=Oi.slice(e+1)),He(Ze,Ui),i}finally{gt=t,Fi=!1}}return null}var ji=b.ReactCurrentBatchConfig;function zi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Bi=wi(null),qi=null,Wi=null,Gi=null;function Ki(){Gi=Wi=qi=null}function Hi(e){var t=Bi.current;xi(Bi),e._currentValue=t}function Qi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $i(e,t){qi=e,Gi=Wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yu=!0),e.firstContext=null)}function Yi(e){var t=e._currentValue;if(Gi!==e)if(e={context:e,memoizedValue:t,next:null},null===Wi){if(null===qi)throw Error(a(308));Wi=e,qi.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var Ji=null,Xi=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=n.interleaved)?(t.next=t,null===Ji?Ji=[n]:Ji.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i=e.updateQueue;Xi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Xi=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ss|=o,e.lanes=o,e.memoizedState=f}}function oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ua=(new r.Component).refs;function sa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ca={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bs(),i=qs(e),a=ta(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bs(),i=qs(e),a=ta(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bs(),r=qs(e),i=ta(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),na(e,i),null!==(t=Ws(e,r,n))&&ra(t,e,r)}};function la(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function fa(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Yi(a):(i=Ni(t)?Ti:Si.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ci(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ca,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ca.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ua,Zi(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Yi(a):(a=Ni(t)?Ti:Si.current,i.context=Ci(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(sa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ca.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var pa=[],va=0,ma=null,ya=0,ga=[],ka=0,ba=null,wa=1,xa="";function _a(e,t){pa[va++]=ya,pa[va++]=ma,ma=e,ya=t}function Ia(e,t,n){ga[ka++]=wa,ga[ka++]=xa,ga[ka++]=ba,ba=e;var r=wa;e=xa;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wa=1<<32-ot(t)+i|n<<i|r,xa=a+e}else wa=1<<a|n<<i|r,xa=e}function Sa(e){null!==e.return&&(_a(e,1),Ia(e,1,0))}function Ea(e){for(;e===ma;)ma=pa[--va],pa[va]=null,ya=pa[--va],pa[va]=null;for(;e===ba;)ba=ga[--ka],ga[ka]=null,xa=ga[--ka],ga[ka]=null,wa=ga[--ka],ga[ka]=null}var Ta=null,Ca=null,Na=!1,Aa=null;function Ra(e,t){var n=bc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Pa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ta=e,Ca=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ta=e,Ca=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ba?{id:wa,overflow:xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=bc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ta=e,Ca=null,!0);default:return!1}}function La(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Da(e){if(Na){var t=Ca;if(t){var n=t;if(!Pa(e,t)){if(La(e))throw Error(a(418));t=oi(n.nextSibling);var r=Ta;t&&Pa(e,t)?Ra(r,n):(e.flags=-4097&e.flags|2,Na=!1,Ta=e)}}else{if(La(e))throw Error(a(418));e.flags=-4097&e.flags|2,Na=!1,Ta=e}}}function Oa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ta=e}function Ma(e){if(e!==Ta)return!1;if(!Na)return Oa(e),Na=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Ca)){if(La(e)){for(e=Ca;e;)e=oi(e.nextSibling);throw Error(a(418))}for(;t;)Ra(e,t),t=oi(t.nextSibling)}if(Oa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ca=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ca=null}}else Ca=Ta?oi(e.stateNode.nextSibling):null;return!0}function Fa(){Ca=Ta=null,Na=!1}function Va(e){null===Aa?Aa=[e]:Aa.push(e)}function Ua(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ja(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function za(e){return(0,e._init)(e._payload)}function Ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=xc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ec(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&za(a)===t.type)?((r=i(t,n.props)).ref=Ua(e,t,n),r.return=e,r):((r=_c(n.type,n.key,n.props,null,e.mode,r)).ref=Ua(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Tc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ec(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=_c(t.type,t.key,t.props,null,e.mode,n)).ref=Ua(e,null,t),n.return=e,n;case x:return(t=Tc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Ic(t,e.mode,n,null)).return=e,t;ja(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:f(e,t,n,r,null);ja(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return f(t,e=e.get(n)||null,r,i,null);ja(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),Na&&_a(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Na&&_a(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Na&&_a(i,v),c}function m(i,u,s,c){var l=O(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),Na&&_a(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Na&&_a(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Na&&_a(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&za(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ua(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Ic(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=_c(o.type,o.key,o.props,null,r.mode,s)).ref=Ua(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Tc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(O(o))return m(r,a,o,s);ja(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ec(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var qa=Ba(!0),Wa=Ba(!1),Ga={},Ka=wi(Ga),Ha=wi(Ga),Qa=wi(Ga);function $a(e){if(e===Ga)throw Error(a(174));return e}function Ya(e,t){switch(_i(Qa,t),_i(Ha,e),_i(Ka,Ga),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Ka),_i(Ka,t)}function Ja(){xi(Ka),xi(Ha),xi(Qa)}function Xa(e){$a(Qa.current);var t=$a(Ka.current),n=se(t,e.type);t!==n&&(_i(Ha,e),_i(Ka,n))}function Za(e){Ha.current===e&&(xi(Ka),xi(Ha))}var eo=wi(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=b.ReactCurrentDispatcher,ao=b.ReactCurrentBatchConfig,oo=0,uo=null,so=null,co=null,lo=!1,fo=!1,ho=0,po=0;function vo(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,i,o){if(oo=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Zo:eu,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,co=so=null,t.updateQueue=null,io.current=tu,e=n(r,i)}while(fo)}if(io.current=Xo,t=null!==so&&null!==so.next,oo=0,co=so=uo=null,lo=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?uo.memoizedState=co=e:co=co.next=e,co}function bo(){if(null===so){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===co?uo.memoizedState:co.next;if(null!==t)co=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===co?uo.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((oo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,uo.lanes|=f,Ss|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ar(r,t.memoizedState)||(yu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,uo.lanes|=o,Ss|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ar(o,t.memoizedState)||(yu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Io(){}function So(e,t){var n=uo,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,yu=!0),r=r.queue,Mo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,Ro(9,To.bind(null,n,r,i,t),void 0,null),null===gs)throw Error(a(349));0!==(30&oo)||Eo(n,t,i)}return i}function Eo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function To(e,t,n,r){t.value=n,t.getSnapshot=r,No(t)&&Ws(e,1,-1)}function Co(e,t,n){return n((function(){No(t)&&Ws(e,1,-1)}))}function No(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ao(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ho.bind(null,uo,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Po(){return bo().memoizedState}function Lo(e,t,n,r){var i=ko();uo.flags|=e,i.memoizedState=Ro(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=bo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Ro(t,n,a,r))}uo.flags|=e,i.memoizedState=Ro(1|t,n,a,r)}function Oo(e,t){return Lo(8390656,8,e,t)}function Mo(e,t){return Do(2048,8,e,t)}function Fo(e,t){return Do(4,2,e,t)}function Vo(e,t){return Do(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function jo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Uo.bind(null,t,e),n)}function zo(){}function Bo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{gt=n,ao.transition=r}}function Go(){return bo().memoizedState}function Ko(e,t,n){var r=qs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e)?$o(t,n):(Yo(e,t,n),null!==(e=Ws(e,r,n=Bs()))&&Jo(e,t,r))}function Ho(e,t,n){var r=qs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))$o(t,i);else{Yo(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ar(u,o))return}catch(s){}null!==(e=Ws(e,r,n=Bs()))&&Jo(e,t,r)}}function Qo(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function $o(e,t){fo=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=t.interleaved)?(n.next=n,null===Ji?Ji=[t]:Ji.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Jo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xo={readContext:Yi,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},Zo={readContext:Yi,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Yi,useEffect:Oo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Lo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lo(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:Ao,useDebugValue:zo,useDeferredValue:function(e){var t=Ao(e),n=t[0],r=t[1];return Oo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){var e=Ao(!1),t=e[0];return e=Wo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,i=ko();if(Na){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===gs)throw Error(a(349));0!==(30&oo)||Eo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Oo(Co.bind(null,r,o,e),[e]),r.flags|=2048,Ro(9,To.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=gs.identifierPrefix;if(Na){var n=xa;t=":"+t+"R"+(n=(wa&~(1<<32-ot(wa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eu={readContext:Yi,useCallback:Bo,useContext:Yi,useEffect:Mo,useImperativeHandle:jo,useInsertionEffect:Fo,useLayoutEffect:Vo,useMemo:qo,useReducer:xo,useRef:Po,useState:function(){return xo(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=xo(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:Io,useSyncExternalStore:So,useId:Go,unstable_isNewReconciler:!1},tu={readContext:Yi,useCallback:Bo,useContext:Yi,useEffect:Mo,useImperativeHandle:jo,useInsertionEffect:Fo,useLayoutEffect:Vo,useMemo:qo,useReducer:_o,useRef:Po,useState:function(){return _o(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=_o(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[_o(wo)[0],bo().memoizedState]},useMutableSource:Io,useSyncExternalStore:So,useId:Go,unstable_isNewReconciler:!1};function nu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ru(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var iu,au,ou,uu="function"===typeof WeakMap?WeakMap:Map;function su(e,t,n){(n=ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ps||(Ps=!0,Ls=r),ru(0,t)},n}function cu(e,t,n){(n=ta(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ru(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ru(0,t),"function"!==typeof r&&(null===Ds?Ds=new Set([this]):Ds.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function lu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function fu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ta(-1,1)).tag=2,na(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function du(e,t){if(!Na)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vu(e,t,n){var r=t.pendingProps;switch(Ea(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pu(t),null;case 1:case 17:return Ni(t.type)&&Ai(),pu(t),null;case 3:return r=t.stateNode,Ja(),xi(Ei),xi(Si),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ma(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Aa&&($s(Aa),Aa=null))),pu(t),null;case 5:Za(t);var i=$a(Qa.current);if(n=t.type,null!==e&&null!=t.stateNode)au(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return pu(t),null}if(e=$a(Ka.current),Ma(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ci]=t,r[li]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(Yr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Fr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ci]=t,e[li]=r,iu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return pu(t),null;case 6:if(e&&null!=t.stateNode)ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=$a(Qa.current),$a(Ka.current),Ma(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(o=r.nodeValue!==n)&&null!==(e=Ta))switch(s=0!==(1&e.mode),e.tag){case 3:Yr(r.nodeValue,n,s);break;case 5:!0!==e.memoizedProps[void 0]&&Yr(r.nodeValue,n,s)}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return pu(t),null;case 13:if(xi(eo),r=t.memoizedState,Na&&null!==Ca&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ca;r;)r=oi(r.nextSibling);return Fa(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ma(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[ci]=t}else Fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return pu(t),null}return null!==Aa&&($s(Aa),Aa=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ma(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===_s&&(_s=3):ic())),null!==t.updateQueue&&(t.flags|=4),pu(t),null);case 4:return Ja(),null===e&&jr(t.stateNode.containerInfo),pu(t),null;case 10:return Hi(t.type._context),pu(t),null;case 19:if(xi(eo),null===(o=t.memoizedState))return pu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)du(o,!1);else{if(0!==_s||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=to(e))){for(t.flags|=128,du(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Rs&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),du(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Na)return pu(t),null}else 2*Je()-o.renderingStartTime>Rs&&1073741824!==n&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=eo.current,_i(eo,r?1&n|2:1&n),t):(pu(t),null);case 22:case 23:return ec(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ws)&&(pu(t),6&t.subtreeFlags&&(t.flags|=8192)):pu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}iu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},au=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$a(Ka.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var mu=b.ReactCurrentOwner,yu=!1;function gu(e,t,n,r){t.child=null===e?Wa(t,null,n,r):qa(t,e.child,n,r)}function ku(e,t,n,r,i){n=n.render;var a=t.ref;return $i(t,i),r=yo(e,t,n,r,a,i),n=go(),null===e||yu?(Na&&n&&Sa(t),t.flags|=1,gu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uu(e,t,i))}function bu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||wc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=_c(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return Uu(e,t,i)}return t.flags|=1,(e=xc(a,r)).ref=t.ref,e.return=t,t.child=e}function wu(e,t,n,r,i){if(null!==e&&or(e.memoizedProps,r)&&e.ref===t.ref){if(yu=!1,0===(e.lanes&i))return t.lanes=e.lanes,Uu(e,t,i);0!==(131072&e.flags)&&(yu=!0)}return Iu(e,t,n,r,i)}function xu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},_i(xs,ws),ws|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,_i(xs,ws),ws|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,_i(xs,ws),ws|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(xs,ws),ws|=r;return gu(e,t,i,n),t.child}function _u(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Iu(e,t,n,r,i){var a=Ni(n)?Ti:Si.current;return a=Ci(t,a),$i(t,i),n=yo(e,t,n,r,a,i),r=go(),null===e||yu?(Na&&r&&Sa(t),t.flags|=1,gu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uu(e,t,i))}function Su(e,t,n,r,i){if(Ni(n)){var a=!0;Li(t)}else a=!1;if($i(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fa(t,n,r),da(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Yi(c):c=Ci(t,c=Ni(n)?Ti:Si.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ha(t,o,r,c),Xi=!1;var h=t.memoizedState;o.state=h,aa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ei.current||Xi?("function"===typeof l&&(sa(t,n,l,r),s=t.memoizedState),(u=Xi||la(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ea(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:zi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Yi(s):s=Ci(t,s=Ni(n)?Ti:Si.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ha(t,o,r,s),Xi=!1,h=t.memoizedState,o.state=h,aa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ei.current||Xi?("function"===typeof d&&(sa(t,n,d,r),p=t.memoizedState),(c=Xi||la(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Eu(e,t,n,r,a,i)}function Eu(e,t,n,r,i,a){_u(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Di(t,n,!1),Uu(e,t,a);r=t.stateNode,mu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,u,a)):gu(e,t,u,a),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function Tu(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),Ya(e,t.containerInfo)}function Cu(e,t,n,r,i){return Fa(),Va(i),t.flags|=256,gu(e,t,n,r),t.child}var Nu={dehydrated:null,treeContext:null,retryLane:0};function Au(e){return{baseLanes:e,cachePool:null}}function Ru(e,t,n){var r,i=t.pendingProps,o=eo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(eo,1&o),null===e)return Da(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Sc(o,i,0,null),e=Ic(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Au(n),t.memoizedState=Nu,e):Pu(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Ou(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Sc({mode:"visible",children:i.children},o,0,null),(u=Ic(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&qa(t,e.child,null,n),t.child.memoizedState=Au(n),t.memoizedState=Nu,u);if(0===(1&t.mode))t=Ou(e,t,n,null);else if("$!"===r.data)t=Ou(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),yu||i){if(null!==(i=gs)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Ws(e,i,-1))}ic(),t=Ou(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=mc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ca=oi(r.nextSibling),Ta=t,Na=!0,Aa=null,null!==n&&(ga[ka++]=wa,ga[ka++]=xa,ga[ka++]=ba,wa=n.id,xa=n.overflow,ba=t),(t=Pu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Du(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Au(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Nu,i):(n=Lu(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Du(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Au(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Nu,i):(n=Lu(e,t,i.children,n),t.memoizedState=null,n)}function Pu(e,t){return(t=Sc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Lu(e,t,n,r){var i=e.child;return e=i.sibling,n=xc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Du(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=xc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=xc(o,r):(r=Ic(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Ou(e,t,n,r){return null!==r&&Va(r),qa(t,e.child,null,n),(e=Pu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Qi(e.return,t,n)}function Fu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(gu(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mu(e,n,t);else if(19===e.tag)Mu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fu(t,!0,n,null,a);break;case"together":Fu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ss|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=xc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=xc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ju(e,t){switch(Ea(t),t.tag){case 1:return Ni(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ja(),xi(Ei),xi(Si),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(xi(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(eo),null;case 4:return Ja(),null;case 10:return Hi(t.type._context),null;case 22:case 23:return ec(),null;default:return null}}var zu=!1,Bu=!1,qu="function"===typeof WeakSet?WeakSet:Set,Wu=null;function Gu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){dc(e,t,r)}else n.current=null}function Ku(e,t,n){try{n()}catch(r){dc(e,t,r)}}var Hu=!1;function Qu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Ku(t,n,a)}i=i.next}while(i!==r)}}function $u(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Ju(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Ku(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Gu(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){dc(t,n,o)}break;case 5:Gu(t,n);break;case 4:is(e,t,n)}}function Xu(e){var t=e.alternate;null!==t&&(e.alternate=null,Xu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[li],delete t[hi],delete t[di],delete t[pi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zu(e){return 5===e.tag||3===e.tag||4===e.tag}function es(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Zu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ts(e){e:{for(var t=e.return;null!==t;){if(Zu(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(he(t,""),n.flags&=-33),rs(e,n=es(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,ns(e,n=es(e),t);break;default:throw Error(a(161))}}function ns(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ns(e,t,n),e=e.sibling;null!==e;)ns(e,t,n),e=e.sibling}function rs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(rs(e,t,n),e=e.sibling;null!==e;)rs(e,t,n),e=e.sibling}function is(e,t,n){for(var r,i,o=t,u=!1;;){if(!u){u=o.return;e:for(;;){if(null===u)throw Error(a(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===o.tag||6===o.tag){e:for(var s=e,c=o,l=n,f=c;;)if(Ju(s,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,c=o.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(o.stateNode)}else if(18===o.tag)i?(s=r,c=o.stateNode,8===s.nodeType?ai(s.parentNode,c):1===s.nodeType&&ai(s,c),zt(s)):ai(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Ju(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(u=!1)}o.sibling.return=o.return,o=o.sibling}}function as(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Qu(3,t,t.return),$u(3,t),void Qu(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===r.type&&null!=r.name&&J(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?me(n,s):"dangerouslySetInnerHTML"===u?fe(n,s):"children"===u?he(n,s):k(n,u,s,t)}switch(e){case"input":X(n,r);break;case"textarea":ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ne(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[li]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&zt(t.stateNode.containerInfo));case 13:case 19:return void os(t)}throw Error(a(163))}function os(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qu),t.forEach((function(t){var r=yc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function us(e,t,n){Wu=e,ss(e,t,n)}function ss(e,t,n){for(var r=0!==(1&e.mode);null!==Wu;){var i=Wu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||zu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Bu;u=zu;var c=Bu;if(zu=o,(Bu=s)&&!c)for(Wu=i;null!==Wu;)s=(o=Wu).child,22===o.tag&&null!==o.memoizedState?fs(i):null!==s?(s.return=o,Wu=s):fs(i);for(;null!==a;)Wu=a,ss(a,t,n),a=a.sibling;Wu=i,zu=u,Bu=c}cs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Wu=a):cs(e)}}function cs(e){for(;null!==Wu;){var t=Wu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Bu||$u(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Bu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&oa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}oa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Bu||512&t.flags&&Yu(t)}catch(d){dc(t,t.return,d)}}if(t===e){Wu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}function ls(e){for(;null!==Wu;){var t=Wu;if(t===e){Wu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Wu=n;break}Wu=t.return}}function fs(e){for(;null!==Wu;){var t=Wu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$u(4,t)}catch(s){dc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){dc(t,i,s)}}var a=t.return;try{Yu(t)}catch(s){dc(t,a,s)}break;case 5:var o=t.return;try{Yu(t)}catch(s){dc(t,o,s)}}}catch(s){dc(t,t.return,s)}if(t===e){Wu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Wu=u;break}Wu=t.return}}var hs,ds=Math.ceil,ps=b.ReactCurrentDispatcher,vs=b.ReactCurrentOwner,ms=b.ReactCurrentBatchConfig,ys=0,gs=null,ks=null,bs=0,ws=0,xs=wi(0),_s=0,Is=null,Ss=0,Es=0,Ts=0,Cs=null,Ns=null,As=0,Rs=1/0,Ps=!1,Ls=null,Ds=null,Os=!1,Ms=null,Fs=0,Vs=0,Us=null,js=-1,zs=0;function Bs(){return 0!==(6&ys)?Je():-1!==js?js:js=Je()}function qs(e){return 0===(1&e.mode)?1:0!==(2&ys)&&0!==bs?bs&-bs:null!==ji.transition?(0===zs&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),zs=e),zs):0!==(e=gt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function Ws(e,t,n){if(50<Vs)throw Vs=0,Us=null,Error(a(185));var r=Gs(e,t);return null===r?null:(mt(r,t,n),0!==(2&ys)&&r===gs||(r===gs&&(0===(2&ys)&&(Es|=t),4===_s&&Ys(r,bs)),Ks(r,n),1===t&&0===ys&&0===(1&e.mode)&&(Rs=Je()+500,Mi&&Ui())),r)}function Gs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Ks(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===gs?bs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Mi=!0,Vi(e)}(Js.bind(null,e)):Vi(Js.bind(null,e)),ri((function(){0===ys&&Ui()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=gc(n,Hs.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hs(e,t){if(js=-1,zs=0,0!==(6&ys))throw Error(a(327));var n=e.callbackNode;if(fc()&&e.callbackNode!==n)return null;var r=ht(e,e===gs?bs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ac(e,r);else{t=r;var i=ys;ys|=2;var o=rc();for(gs===e&&bs===t||(Rs=Je()+500,tc(e,t));;)try{uc();break}catch(s){nc(e,s)}Ki(),ps.current=o,ys=i,null!==ks?t=0:(gs=null,bs=0,t=_s)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=Qs(e,i))),1===t)throw n=Is,tc(e,0),Ys(e,r),Ks(e,Je()),n;if(6===t)Ys(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ac(e,r))&&(0!==(o=pt(e))&&(r=o,t=Qs(e,o))),1===t))throw n=Is,tc(e,0),Ys(e,r),Ks(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:lc(e,Ns);break;case 3:if(Ys(e,r),(130023424&r)===r&&10<(t=As+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Bs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(lc.bind(null,e,Ns),t);break}lc(e,Ns);break;case 4:if(Ys(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ds(r/1960))-r)){e.timeoutHandle=ei(lc.bind(null,e,Ns),r);break}lc(e,Ns);break;default:throw Error(a(329))}}}return Ks(e,Je()),e.callbackNode===n?Hs.bind(null,e):null}function Qs(e,t){var n=Cs;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),2!==(e=ac(e,t))&&(t=Ns,Ns=n,null!==t&&$s(t)),e}function $s(e){null===Ns?Ns=e:Ns.push.apply(Ns,e)}function Ys(e,t){for(t&=~Ts,t&=~Es,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Js(e){if(0!==(6&ys))throw Error(a(327));fc();var t=ht(e,0);if(0===(1&t))return Ks(e,Je()),null;var n=ac(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=Qs(e,r))}if(1===n)throw n=Is,tc(e,0),Ys(e,t),Ks(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lc(e,Ns),Ks(e,Je()),null}function Xs(e,t){var n=ys;ys|=1;try{return e(t)}finally{0===(ys=n)&&(Rs=Je()+500,Mi&&Ui())}}function Zs(e){null!==Ms&&0===Ms.tag&&0===(6&ys)&&fc();var t=ys;ys|=1;var n=ms.transition,r=gt;try{if(ms.transition=null,gt=1,e)return e()}finally{gt=r,ms.transition=n,0===(6&(ys=t))&&Ui()}}function ec(){ws=xs.current,xi(xs)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==ks)for(n=ks.return;null!==n;){var r=n;switch(Ea(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:Ja(),xi(Ei),xi(Si),ro();break;case 5:Za(r);break;case 4:Ja();break;case 13:case 19:xi(eo);break;case 10:Hi(r.type._context);break;case 22:case 23:ec()}n=n.return}if(gs=e,ks=e=xc(e.current,null),bs=ws=t,_s=0,Is=null,Ts=Es=Ss=0,Ns=Cs=null,null!==Ji){for(t=0;t<Ji.length;t++)if(null!==(r=(n=Ji[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ji=null}return e}function nc(e,t){for(;;){var n=ks;try{if(Ki(),io.current=Xo,lo){for(var r=uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(oo=0,co=so=uo=null,fo=!1,ho=0,vs.current=null,null===n||null===n.return){_s=1,Is=t,ks=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=bs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=fu(u);if(null!==p){p.flags&=-257,hu(p,u,s,0,t),1&p.mode&&lu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){lu(o,l,t),ic();break e}c=Error(a(426))}else if(Na&&1&s.mode){var y=fu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),hu(y,u,s,0,t),Va(c);break e}}o=c,4!==_s&&(_s=2),null===Cs?Cs=[o]:Cs.push(o),c=nu(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ia(s,su(0,c,t));break e;case 1:o=c;var g=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ds||!Ds.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,ia(s,cu(s,o,t));break e}}s=s.return}while(null!==s)}cc(n)}catch(b){t=b,ks===n&&null!==n&&(ks=n=n.return);continue}break}}function rc(){var e=ps.current;return ps.current=Xo,null===e?Xo:e}function ic(){0!==_s&&3!==_s&&2!==_s||(_s=4),null===gs||0===(268435455&Ss)&&0===(268435455&Es)||Ys(gs,bs)}function ac(e,t){var n=ys;ys|=2;var r=rc();for(gs===e&&bs===t||tc(e,t);;)try{oc();break}catch(i){nc(e,i)}if(Ki(),ys=n,ps.current=r,null!==ks)throw Error(a(261));return gs=null,bs=0,_s}function oc(){for(;null!==ks;)sc(ks)}function uc(){for(;null!==ks&&!$e();)sc(ks)}function sc(e){var t=hs(e.alternate,e,ws);e.memoizedProps=e.pendingProps,null===t?cc(e):ks=t,vs.current=null}function cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=vu(n,t,ws)))return void(ks=n)}else{if(null!==(n=ju(n,t)))return n.flags&=32767,void(ks=n);if(null===e)return _s=6,void(ks=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ks=t);ks=t=e}while(null!==t);0===_s&&(_s=5)}function lc(e,t){var n=gt,r=ms.transition;try{ms.transition=null,gt=1,function(e,t,n){do{fc()}while(null!==Ms);if(0!==(6&ys))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===gs&&(ks=gs=null,bs=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Os||(Os=!0,gc(tt,(function(){return fc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=ms.transition,ms.transition=null;var u=gt;gt=1;var s=ys;ys|=4,vs.current=null,function(e,t){if(fr(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xr={focusedElem:e,selectionRange:n},Wu=t;null!==Wu;)if(e=(t=Wu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Wu=e;else for(;null!==Wu;){t=Wu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:zi(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){dc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Wu=e;break}Wu=t.return}v=Hu,Hu=!1}(e,r),function(e,t){for(Wu=t;null!==Wu;){var n=(t=Wu).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{is(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(I){dc(i,t,I)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Wu=n;else for(;null!==Wu;){t=Wu;try{var o=t.flags;if(32&o&&he(t.stateNode,""),512&o){var u=t.alternate;if(null!==u){var s=u.ref;null!==s&&("function"===typeof s?s(null):s.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(As=Je())}break;case 22:var l=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;e:{i=l;for(var d=null,p=r=n=t;;){if(5===p.tag){if(null===d){d=p;var v=p.stateNode;if(i){var m=v.style;"function"===typeof m.setProperty?m.setProperty("display","none","important"):m.display="none"}else{var y=p.stateNode,g=p.memoizedProps.style,k=void 0!==g&&null!==g&&g.hasOwnProperty("display")?g.display:null;y.style.display=ve("display",k)}}}else if(6===p.tag)null===d&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}if(l&&!h&&0!==(1&n.mode)){Wu=n;for(var b=n.child;null!==b;){for(n=Wu=b;null!==Wu;){var w=(r=Wu).child;switch(r.tag){case 0:case 11:case 14:case 15:Qu(4,r,r.return);break;case 1:Gu(r,r.return);var x=r.stateNode;if("function"===typeof x.componentWillUnmount){var _=r.return;try{x.props=r.memoizedProps,x.state=r.memoizedState,x.componentWillUnmount()}catch(I){dc(r,_,I)}}break;case 5:Gu(r,r.return);break;case 22:if(null!==r.memoizedState){ls(n);continue}}null!==w?(w.return=r,Wu=w):ls(n)}b=b.sibling}}}switch(4102&o){case 2:ts(t),t.flags&=-3;break;case 6:ts(t),t.flags&=-3,as(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,as(t.alternate,t);break;case 4:as(t.alternate,t)}}catch(I){dc(t,t.return,I)}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}}(e,r),hr(Xr),Xr=null,e.current=r,us(r,e,i),Ye(),ys=s,gt=u,ms.transition=o}else e.current=r;if(Os&&(Os=!1,Ms=e,Fs=i),0===(o=e.pendingLanes)&&(Ds=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Ks(e,Je()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Ps)throw Ps=!1,e=Ls,Ls=null,e;0!==(1&Fs)&&0!==e.tag&&fc(),0!==(1&(o=e.pendingLanes))?e===Us?Vs++:(Vs=0,Us=e):Vs=0,Ui()}(e,t,n)}finally{ms.transition=r,gt=n}return null}function fc(){if(null!==Ms){var e=kt(Fs),t=ms.transition,n=gt;try{if(ms.transition=null,gt=16>e?16:e,null===Ms)var r=!1;else{if(e=Ms,Ms=null,Fs=0,0!==(6&ys))throw Error(a(331));var i=ys;for(ys|=4,Wu=e.current;null!==Wu;){var o=Wu,u=o.child;if(0!==(16&Wu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Wu=l;null!==Wu;){var f=Wu;switch(f.tag){case 0:case 11:case 15:Qu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Wu=h;else for(;null!==Wu;){var d=(f=Wu).sibling,p=f.return;if(Xu(f),f===l){Wu=null;break}if(null!==d){d.return=p,Wu=d;break}Wu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Wu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Wu=u;else e:for(;null!==Wu;){if(0!==(2048&(o=Wu).flags))switch(o.tag){case 0:case 11:case 15:Qu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Wu=g;break e}Wu=o.return}}var k=e.current;for(Wu=k;null!==Wu;){var b=(u=Wu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Wu=b;else e:for(u=k;null!==Wu;){if(0!==(2048&(s=Wu).flags))try{switch(s.tag){case 0:case 11:case 15:$u(9,s)}}catch(x){dc(s,s.return,x)}if(s===u){Wu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Wu=w;break e}Wu=s.return}}if(ys=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{gt=n,ms.transition=t}}return!1}function hc(e,t,n){na(e,t=su(0,t=nu(n,t),1)),t=Bs(),null!==(e=Gs(e,1))&&(mt(e,1,t),Ks(e,t))}function dc(e,t,n){if(3===e.tag)hc(e,e,n);else for(;null!==t;){if(3===t.tag){hc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ds||!Ds.has(r))){na(t,e=cu(t,e=nu(n,e),1)),e=Bs(),null!==(t=Gs(t,1))&&(mt(t,1,e),Ks(t,e));break}}t=t.return}}function pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Bs(),e.pingedLanes|=e.suspendedLanes&n,gs===e&&(bs&n)===n&&(4===_s||3===_s&&(130023424&bs)===bs&&500>Je()-As?tc(e,0):Ts|=n),Ks(e,t)}function vc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Bs();null!==(e=Gs(e,t))&&(mt(e,t,n),Ks(e,n))}function mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vc(e,n)}function yc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),vc(e,n)}function gc(e,t){return He(e,t)}function kc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bc(e,t,n,r){return new kc(e,t,n,r)}function wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xc(e,t){var n=e.alternate;return null===n?((n=bc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _c(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)wc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Ic(n.children,i,o,t);case I:u=8,i|=8;break;case S:return(e=bc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=bc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=bc(19,n,t,i)).elementType=A,e.lanes=o,e;case L:return Sc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case R:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=bc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ic(e,t,n,r){return(e=bc(7,e,r,t)).lanes=n,e}function Sc(e,t,n,r){return(e=bc(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={},e}function Ec(e,t,n){return(e=bc(6,e,null,t)).lanes=n,e}function Tc(e,t,n){return(t=bc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nc(e,t,n,r,i,a,o,u,s){return e=new Cc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=bc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Zi(a),e}function Ac(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Rc(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Pi(e,n,t)}return t}function Pc(e,t,n,r,i,a,o,u,s){return(e=Nc(n,r,!0,e,0,a,0,u,s)).context=Rc(null),n=e.current,(a=ta(r=Bs(),i=qs(n))).callback=void 0!==t&&null!==t?t:null,na(n,a),e.current.lanes=i,mt(e,i,r),Ks(e,r),e}function Lc(e,t,n,r){var i=t.current,a=Bs(),o=qs(i);return n=Rc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ta(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),na(i,t),null!==(e=Ws(i,o,a))&&ra(e,i,o),o}function Dc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Oc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Mc(e,t){Oc(e,t),(e=e.alternate)&&Oc(e,t)}hs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ei.current)yu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yu=!1,function(e,t,n){switch(t.tag){case 3:Tu(t),Fa();break;case 5:Xa(t);break;case 1:Ni(t.type)&&Li(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(Bi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ru(e,t,n):(_i(eo,1&eo.current),null!==(e=Uu(e,t,n))?e.sibling:null);_i(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,xu(e,t,n)}return Uu(e,t,n)}(e,t,n);yu=0!==(131072&e.flags)}else yu=!1,Na&&0!==(1048576&t.flags)&&Ia(t,ya,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ci(t,Si.current);$i(t,n),i=yo(null,t,r,e,i,n);var o=go();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Zi(t),i.updater=ca,t.stateNode=i,i._reactInternals=t,da(t,r,e,n),t=Eu(null,t,r,!0,o,n)):(t.tag=0,Na&&o&&Sa(t),gu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return wc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=zi(r,e),i){case 0:t=Iu(null,t,r,e,n);break e;case 1:t=Su(null,t,r,e,n);break e;case 11:t=ku(null,t,r,e,n);break e;case 14:t=bu(null,t,r,zi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 3:e:{if(Tu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ea(e,t),aa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Cu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Cu(e,t,r,n,i=Error(a(424)));break e}for(Ca=oi(t.stateNode.containerInfo.firstChild),Ta=t,Na=!0,Aa=null,n=Wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fa(),r===i){t=Uu(e,t,n);break e}gu(e,t,r,n)}t=t.child}return t;case 5:return Xa(t),null===e&&Da(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,Zr(r,i)?u=null:null!==o&&Zr(r,o)&&(t.flags|=32),_u(e,t),gu(e,t,u,n),t.child;case 6:return null===e&&Da(t),null;case 13:return Ru(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qa(t,null,r,n):gu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ku(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 7:return gu(e,t,t.pendingProps,n),t.child;case 8:case 12:return gu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,_i(Bi,r._currentValue),r._currentValue=u,null!==o)if(ar(o.value,u)){if(o.children===i.children&&!Ei.current){t=Uu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ta(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Qi(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Qi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}gu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$i(t,n),r=r(i=Yi(i)),t.flags|=1,gu(e,t,r,n),t.child;case 14:return i=zi(r=t.type,t.pendingProps),bu(e,t,r,i=zi(r.type,i),n);case 15:return wu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ni(r)?(e=!0,Li(t)):e=!1,$i(t,n),fa(t,r,i),da(t,r,i,n),Eu(null,t,r,!0,e,n);case 19:return Vu(e,t,n);case 22:return xu(e,t,n)}throw Error(a(156,t.tag))};var Fc="function"===typeof reportError?reportError:function(e){console.error(e)};function Vc(e){this._internalRoot=e}function Uc(e){this._internalRoot=e}function jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Bc(){}function qc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Dc(o);u.call(e)}}Lc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Dc(o);a.call(e)}}var o=Pc(t,r,e,0,null,!1,0,"",Bc);return e._reactRootContainer=o,e[fi]=o.current,jr(8===e.nodeType?e.parentNode:e),Zs(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Dc(s);u.call(e)}}var s=Nc(e,0,!1,null,0,!1,0,"",Bc);return e._reactRootContainer=s,e[fi]=s.current,jr(8===e.nodeType?e.parentNode:e),Zs((function(){Lc(t,s,n,r)})),s}(n,t,e,i,r);return Dc(o)}Uc.prototype.render=Vc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Lc(e,t,null,null)},Uc.prototype.unmount=Vc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zs((function(){Lc(null,e,null,null)})),t[fi]=null}},Uc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),Ks(t,Je()),0===(6&ys)&&(Rs=Je()+500,Ui()))}break;case 13:var r=Bs();Zs((function(){return Ws(e,1,r)})),Mc(e,1)}},wt=function(e){13===e.tag&&(Ws(e,134217728,Bs()),Mc(e,134217728))},xt=function(e){if(13===e.tag){var t=Bs(),n=qs(e);Ws(e,n,t),Mc(e,n)}},_t=function(){return gt},It=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gi(r);if(!i)throw Error(a(90));H(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=Xs,Ne=Zs;var Wc={usingClientEntryPoint:!1,Events:[mi,yi,gi,Ee,Te,Xs]},Gc={findFiberByHostInstance:vi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Kc={bundleType:Gc.bundleType,version:Gc.version,rendererPackageName:Gc.rendererPackageName,rendererConfig:Gc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:Gc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{it=Hc.inject(Kc),at=Hc}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!jc(t))throw Error(a(200));return Ac(e,t,null,n)},t.createRoot=function(e,t){if(!jc(e))throw Error(a(299));var n=!1,r="",i=Fc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Nc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,jr(8===e.nodeType?e.parentNode:e),new Vc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return Zs(e)},t.hydrate=function(e,t,n){if(!zc(t))throw Error(a(200));return qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Fc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Pc(t,null,e,1,null!=n?n:null,i,0,o,u),e[fi]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Uc(t)},t.render=function(e,t,n){if(!zc(t))throw Error(a(200));return qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!zc(e))throw Error(a(40));return!!e._reactRootContainer&&(Zs((function(){qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=Xs,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return qc(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},L={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:L,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(I.prototype),s(I.prototype,o,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,L(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,S=null,E=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?_():(I=!1,S=null)}}else I=!1}if("function"===typeof k)_=function(){k(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=A,_=function(){P.postMessage(null)}}else _=function(){y(A,0)};function L(e){S=e,I||(I=!0,_())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,L(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/react_task_3/";var r={};!function(){"use strict";n.d(r,{_:function(){return OR}});var e={};n.r(e),n.d(e,{FirebaseError:function(){return ua},SDK_VERSION:function(){return ro},_DEFAULT_ENTRY_NAME:function(){return Wa},_addComponent:function(){return Qa},_addOrOverwriteComponent:function(){return $a},_apps:function(){return Ka},_clearComponents:function(){return Za},_components:function(){return Ha},_getProvider:function(){return Ja},_registerComponent:function(){return Ya},_removeServiceInstance:function(){return Xa},deleteApp:function(){return uo},getApp:function(){return ao},getApps:function(){return oo},initializeApp:function(){return io},onLog:function(){return lo},registerVersion:function(){return co},setLogLevel:function(){return fo}});var t,i=n(791),a=n(164);function o(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||s(e,t)||c()}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var h=function(e){return e};var d="beforeunload",p="popstate";function v(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=b(r.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,u=e.hash,s=void 0===u?"":u,c=i.state||{};return[c.idx,h({pathname:n,search:o,hash:s,state:c.usr||null,key:c.key||"default"})]}var o=null;function u(){if(o)x.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(x.length){if(null!=r){var u=l-r;u&&(o={action:e,location:i,retry:function(){C(-1*u)}},C(u))}}else T(e)}}r.addEventListener(p,u),r.addEventListener("hashchange",(function(){k(a()[1])!==k(v)&&u()}));var s=t.Pop,c=a(),l=c[0],v=c[1],w=y(),x=y();function _(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=r.location.href,i=n.indexOf("#");t=-1===i?n:n.slice(0,i)}return t}()+"#"+("string"===typeof e?e:k(e))}function I(e,t){return void 0===t&&(t=null),h(f({pathname:v.pathname,hash:"",search:""},"string"===typeof e?b(e):e,{state:t,key:g()}))}function S(e,t){return[{usr:e.state,key:e.key,idx:t},_(e)]}function E(e,t,n){return!x.length||(x.call({action:e,location:t,retry:n}),!1)}function T(e){s=e;var t=a();l=t[0],v=t[1],w.call({action:s,location:v})}function C(e){i.go(e)}null==l&&(l=0,i.replaceState(f({},i.state,{idx:l}),""));var N={get action(){return s},get location(){return v},createHref:_,push:function e(n,a){var o=t.Push,u=I(n,a);if(E(o,u,(function(){e(n,a)}))){var s=S(u,l+1),c=s[0],f=s[1];try{i.pushState(c,"",f)}catch(h){r.location.assign(f)}T(o)}},replace:function e(n,r){var a=t.Replace,o=I(n,r);if(E(a,o,(function(){e(n,r)}))){var u=S(o,l),s=u[0],c=u[1];i.replaceState(s,"",c),T(a)}},go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(e){return w.push(e)},block:function(e){var t=x.push(e);return 1===x.length&&r.addEventListener(d,m),function(){t(),x.length||r.removeEventListener(d,m)}}};return N}function m(e){e.preventDefault(),e.returnValue=""}function y(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function g(){return Math.random().toString(36).substr(2,8)}function k(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function b(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var w=(0,i.createContext)(null);var x=(0,i.createContext)(null);var _=(0,i.createContext)({outlet:null,matches:[]});function I(e,t){if(!e)throw new Error(t)}function S(e,t,n){void 0===n&&(n="/");var r=L(("string"===typeof t?b(t):t).pathname||"/",n);if(null==r)return null;var i=E(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=A(i[o],r);return a}function E(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||I(!1),a.relativePath=a.relativePath.slice(r.length));var o=D([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&I(!1),E(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:N(o,e.index),routesMeta:u})})),t}var T=/^:\w+$/,C=function(e){return"*"===e};function N(e,t){var n=e.split("/"),r=n.length;return n.some(C)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!C(e)})).reduce((function(e,t){return e+(T.test(t)?3:""===t?1:10)}),r)}function A(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=R({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:D([i,l.pathname]),pathnameBase:O(D([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=D([i,l.pathnameBase]))}return a}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{});return{params:f,pathname:u,pathnameBase:s,pattern:e}}function P(e,t,n){var r,i="string"===typeof e?b(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?b(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:M(a),hash:F(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var D=function(e){return e.join("/").replace(/\/\/+/g,"/")},O=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},M=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},F=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function V(){return null!=(0,i.useContext)(x)}function U(){return V()||I(!1),(0,i.useContext)(x).location}function j(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,a){return(0,i.createElement)(_.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function z(e){var t=e.to,n=e.replace,r=e.state;V()||I(!1);var a=function(){V()||I(!1);var e=(0,i.useContext)(w),t=e.basename,n=e.navigator,r=(0,i.useContext)(_).matches,a=U().pathname,o=JSON.stringify(r.map((function(e){return e.pathnameBase}))),u=(0,i.useRef)(!1);(0,i.useEffect)((function(){u.current=!0}));var s=(0,i.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=P(e,JSON.parse(o),a);"/"!==t&&(i.pathname=D([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}();return(0,i.useEffect)((function(){a(t,{replace:n,state:r})})),null}function B(e){I(!1)}function q(e){var n=e.basename,r=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;V()&&I(!1);var d=O(r),p=(0,i.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=b(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,_=v.hash,S=void 0===_?"":_,E=v.state,T=void 0===E?null:E,C=v.key,N=void 0===C?"default":C,A=(0,i.useMemo)((function(){var e=L(y,d);return null==e?null:{pathname:e,search:k,hash:S,state:T,key:N}}),[d,y,k,S,T,N]);return null==A?null:(0,i.createElement)(w.Provider,{value:p},(0,i.createElement)(x.Provider,{children:o,value:{location:A,navigationType:c}}))}function W(e){var t=e.children,n=e.location;return function(e,t){V()||I(!1);var n,r=(0,i.useContext)(_).matches,a=r[r.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,U());if(t){var c,l="string"===typeof t?b(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||I(!1),n=l}else n=s;var f=n.pathname||"/",h=S(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return j(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:D([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:D([u,e.pathnameBase])})})),r)}(G(t),n)}function G(e){var t=[];return i.Children.forEach(e,(function(e){if((0,i.isValidElement)(e))if(e.type!==i.Fragment){e.type!==B&&I(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=G(e.props.children)),t.push(n)}else t.push.apply(t,G(e.props.children))})),t}function K(e){var t=e.basename,n=e.children,r=e.window,a=(0,i.useRef)();null==a.current&&(a.current=v({window:r}));var o=a.current,u=l((0,i.useState)({action:o.action,location:o.location}),2),s=u[0],c=u[1];return(0,i.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,i.createElement)(q,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}function H(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Q(e,t){if(null==e)return{};var n,r,i=H(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=$(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Y(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=$(e))&&(r&&(r+=" "),r+=t);return r}var J=n(110),X=n.n(J),Z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee="object"===("undefined"===typeof window?"undefined":Z(window))&&"object"===("undefined"===typeof document?"undefined":Z(document))&&9===document.nodeType;function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t,n){return t&&te(e.prototype,t),n&&te(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function re(e,t){return re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},re(e,t)}function ie(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,re(e,t)}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var oe={}.constructor;function ue(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(ue);if(e.constructor!==oe)return e;var t={};for(var n in e)t[n]=ue(e[n]);return t}function se(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=ue(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var ce=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},le=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=ce(e[r]," ");else n=ce(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function fe(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function he(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function de(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var u=fe(n),s=u.linebreak,c=u.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=s),r+=he(h+":"+c+le(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=s),r+=he(p+":"+c+le(v)+";",a))}for(var m in t){var y=t[m];null!=y&&"fallbacks"!==m&&(r&&(r+=s),r+=he(m+":"+c+le(y)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+s+r+s),he(""+e+c+"{"+r,--a)+he("}",a)):r}var pe=/([[\].#*$><+~=|^:(),"'`\s])/g,ve="undefined"!==typeof CSS&&CSS.escape,me=function(e){return ve?ve(e):e.replace(pe,"\\$1")},ye=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var u=a&&o;if(u?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var s=this.options.sheet;return s&&s.attached,this},e}(),ge=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,u=r.sheet,s=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=s(ae(ae(i)),u),i.selectorText="."+me(i.id)),i}ie(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=le(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?f({},e,{allowEmpty:!0}):e;return de(this.selectorText,this.style,n)},ne(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(ye),ke={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new ge(e,t,n)}},be={indent:1,children:!0},we=/@([\w-]+)/,xe=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(we);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new Ke(f({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=be);var t=fe(e).linebreak;if(null==e.indent&&(e.indent=be.indent),null==e.children&&(e.children=be.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),_e=/@media|@supports\s+/,Ie={onCreateRule:function(e,t,n){return _e.test(e)?new xe(e,t,n):null}},Se={indent:1,children:!0},Ee=/@keyframes\s+([\w-]+)/,Te=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(Ee);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,a=n.sheet,o=n.generateId;for(var u in this.id=!1===i?this.name:me(o(this,a)),this.rules=new Ke(f({},n,{parent:this})),t)this.rules.add(u,t[u],f({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=Se);var t=fe(e).linebreak;if(null==e.indent&&(e.indent=Se.indent),null==e.children&&(e.children=Se.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),Ce=/@keyframes\s+/,Ne=/\$([\w-]+)/g,Ae=function(e,t){return"string"===typeof e?e.replace(Ne,(function(e,n){return n in t?t[n]:e})):e},Re=function(e,t,n){var r=e[t],i=Ae(r,n);i!==r&&(e[t]=i)},Pe={onCreateRule:function(e,t,n){return"string"===typeof e&&Ce.test(e)?new Te(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&Re(e,"animation-name",n.keyframes),"animation"in e&&Re(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return Ae(e,r.keyframes);default:return e}}},Le=function(e){function t(){return e.apply(this,arguments)||this}return ie(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?f({},e,{allowEmpty:!0}):e;return de(this.key,this.style,n)},t}(ye),De={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new Le(e,t,n):null}},Oe=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=fe(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=de(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return de(this.at,this.style,e)},e}(),Me=/@font-face/,Fe={onCreateRule:function(e,t,n){return Me.test(e)?new Oe(e,t,n):null}},Ve=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return de(this.key,this.style,e)},e}(),Ue={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new Ve(e,t,n):null}},je=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),ze={"@charset":!0,"@import":!0,"@namespace":!0},Be={onCreateRule:function(e,t,n){return e in ze?new je(e,t,n):null}},qe=[ke,Ie,Pe,De,Fe,Ue,Be],We={process:!0},Ge={force:!0,process:!0},Ke=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,a=r.sheet,o=r.jss,u=r.Renderer,s=r.generateId,c=r.scoped,l=f({classes:this.classes,parent:i,sheet:a,jss:o,Renderer:u,generateId:s,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(l.selector="."+me(this.classes[h]));var d=se(h,t,l);if(!d)return null;this.register(d);var p=void 0===l.index?this.index.length:l.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==i&&(a=f({},n,{index:i})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof ge?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof Te&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof ge?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof Te&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=We);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var u=t.style;if(a.onUpdate(n,t,o,r),r.process&&u&&u!==t.style){for(var s in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[s];c!==u[s]&&t.prop(s,c,Ge)}for(var l in u){var f=t.style[l],h=u[l];null==f&&f!==h&&t.prop(l,null,Ge)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=fe(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),He=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=f({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new Ke(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Qe=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),$e=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=H(t,["attached"]),i=fe(r).linebreak,a="",o=0;o<this.registry.length;o++){var u=this.registry[o];null!=n&&u.attached!==n||(a&&(a+=i),a+=u.toString(r))}return a},ne(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),Ye=new $e,Je="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),Xe="2f1acc6c3a606b082e5eef5e54414ffb";null==Je[Xe]&&(Je[Xe]=0);var Ze=Je[Xe]++,et=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+Ze+i+t:a+n.key+"-"+Ze+(i?"-"+i:"")+"-"+t}},tt=function(e){var t;return function(){return t||(t=e()),t}},nt=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},rt=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=le(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},it=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},at=function(e,t){return e.selectorText=t,e.selectorText===t},ot=tt((function(){return document.querySelector("head")}));function ut(e){var t=Ye.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=ot(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var st=tt((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),ct=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},lt=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ft=function(){function e(e){this.getPropertyValue=nt,this.setProperty=rt,this.removeProperty=it,this.setSelector=at,this.hasInsertedRules=!1,this.cssRules=[],e&&Ye.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=st();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=ut(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else ot().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=lt(n,t);if(!1===(i=ct(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var u=lt(n,t),s=ct(n,o,u);return!1!==s&&(this.hasInsertedRules=!0,this.refCssRule(e,u,s),s)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof He&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ht=0,dt=function(){function e(e){this.id=ht++,this.version="10.9.0",this.plugins=new Qe,this.options={id:{minify:!1},createGenerateId:et,Renderer:ee?ft:null,plugins:[]},this.generateId=et({minify:!1});for(var t=0;t<qe.length;t++)this.plugins.use(qe[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=f({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===Ye.index?0:Ye.index+1);var r=new He(e,f({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),Ye.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=f({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=se(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),pt=function(e){return new dt(e)},vt="object"===typeof CSS&&null!=CSS&&"number"in CSS;function mt(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=mt(r);a&&(t||(t={}),t[n]=a)}}return t}pt();function yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=f({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var gt={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},kt=gt;var bt=i.createContext(null);function wt(){return i.useContext(bt)}var xt="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",_t=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var It=Date.now(),St="fnValues"+It,Et="fnStyle"+ ++It,Tt=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=se(e,{},n);return r[Et]=t,r},onProcessStyle:function(e,t){if(St in t||Et in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[St]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Et];a&&(i.style=a(e)||{});var o=i[St];if(o)for(var u in o)i.prop(u,o[u](e),r)}}},Ct="@global",Nt="@global ",At=function(){function e(e,t,n){for(var r in this.type="global",this.at=Ct,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new Ke(f({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Rt=function(){function e(e,t,n){this.type="global",this.at=Ct,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(Nt.length);this.rule=n.jss.createRule(r,t,f({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Pt=/\s*,\s*/g;function Lt(e,t){for(var n=e.split(Pt),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Dt=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Ct)return new At(e,t,n);if("@"===e[0]&&e.substr(0,Nt.length)===Nt)return new Rt(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[Ct]:null;if(i){for(var a in i)t.addRule(a,i[a],f({},n,{selector:Lt(a,e.selector)}));delete r[Ct]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,Ct.length)===Ct){var a=Lt(i.substr(Ct.length),e.selector);t.addRule(a,r[i],f({},n,{selector:a})),delete r[i]}}(e,t))}}},Ot=/\s*,\s*/g,Mt=/&/g,Ft=/\$([\w-]+)/g;var Vt=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Ot),r=e.split(Ot),i="",a=0;a<n.length;a++)for(var o=n[a],u=0;u<r.length;u++){var s=r[u];i&&(i+=", "),i+=-1!==s.indexOf("&")?s.replace(Mt,o):o+" "+s}return i}function n(e,t,n){if(n)return f({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=f({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,a){if("style"!==i.type)return r;var o,u,s=i,c=s.options.parent;for(var l in r){var h=-1!==l.indexOf("&"),d="@"===l[0];if(h||d){if(o=n(s,c,o),h){var p=t(l,s.selector);u||(u=e(c,a)),p=p.replace(Ft,u);var v=s.key+"-"+l;"replaceRule"in c?c.replaceRule(v,r[l],f({},o,{selector:p})):c.addRule(v,r[l],f({},o,{selector:p}))}else d&&c.addRule(l,{},o).addRule(s.key,r[l],{selector:s.selector});delete r[l]}}return r}}},Ut=/[A-Z]/g,jt=/^ms-/,zt={};function Bt(e){return"-"+e.toLowerCase()}var qt=function(e){if(zt.hasOwnProperty(e))return zt[e];var t=e.replace(Ut,Bt);return zt[e]=jt.test(t)?"-"+t:t};function Wt(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:qt(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Wt):t.fallbacks=Wt(e.fallbacks)),t}var Gt=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Wt(e[t]);return e}return Wt(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=qt(t);return t===r?e:(n.prop(r,e),null)}}},Kt=vt&&CSS?CSS.px:"px",Ht=vt&&CSS?CSS.ms:"ms",Qt=vt&&CSS?CSS.percent:"%";function $t(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var Yt=$t({"animation-delay":Ht,"animation-duration":Ht,"background-position":Kt,"background-position-x":Kt,"background-position-y":Kt,"background-size":Kt,border:Kt,"border-bottom":Kt,"border-bottom-left-radius":Kt,"border-bottom-right-radius":Kt,"border-bottom-width":Kt,"border-left":Kt,"border-left-width":Kt,"border-radius":Kt,"border-right":Kt,"border-right-width":Kt,"border-top":Kt,"border-top-left-radius":Kt,"border-top-right-radius":Kt,"border-top-width":Kt,"border-width":Kt,"border-block":Kt,"border-block-end":Kt,"border-block-end-width":Kt,"border-block-start":Kt,"border-block-start-width":Kt,"border-block-width":Kt,"border-inline":Kt,"border-inline-end":Kt,"border-inline-end-width":Kt,"border-inline-start":Kt,"border-inline-start-width":Kt,"border-inline-width":Kt,"border-start-start-radius":Kt,"border-start-end-radius":Kt,"border-end-start-radius":Kt,"border-end-end-radius":Kt,margin:Kt,"margin-bottom":Kt,"margin-left":Kt,"margin-right":Kt,"margin-top":Kt,"margin-block":Kt,"margin-block-end":Kt,"margin-block-start":Kt,"margin-inline":Kt,"margin-inline-end":Kt,"margin-inline-start":Kt,padding:Kt,"padding-bottom":Kt,"padding-left":Kt,"padding-right":Kt,"padding-top":Kt,"padding-block":Kt,"padding-block-end":Kt,"padding-block-start":Kt,"padding-inline":Kt,"padding-inline-end":Kt,"padding-inline-start":Kt,"mask-position-x":Kt,"mask-position-y":Kt,"mask-size":Kt,height:Kt,width:Kt,"min-height":Kt,"max-height":Kt,"min-width":Kt,"max-width":Kt,bottom:Kt,left:Kt,top:Kt,right:Kt,inset:Kt,"inset-block":Kt,"inset-block-end":Kt,"inset-block-start":Kt,"inset-inline":Kt,"inset-inline-end":Kt,"inset-inline-start":Kt,"box-shadow":Kt,"text-shadow":Kt,"column-gap":Kt,"column-rule":Kt,"column-rule-width":Kt,"column-width":Kt,"font-size":Kt,"font-size-delta":Kt,"letter-spacing":Kt,"text-decoration-thickness":Kt,"text-indent":Kt,"text-stroke":Kt,"text-stroke-width":Kt,"word-spacing":Kt,motion:Kt,"motion-offset":Kt,outline:Kt,"outline-offset":Kt,"outline-width":Kt,perspective:Kt,"perspective-origin-x":Qt,"perspective-origin-y":Qt,"transform-origin":Qt,"transform-origin-x":Qt,"transform-origin-y":Qt,"transform-origin-z":Qt,"transition-delay":Ht,"transition-duration":Ht,"vertical-align":Kt,"flex-basis":Kt,"shape-margin":Kt,size:Kt,gap:Kt,grid:Kt,"grid-gap":Kt,"row-gap":Kt,"grid-row-gap":Kt,"grid-column-gap":Kt,"grid-template-rows":Kt,"grid-template-columns":Kt,"grid-auto-rows":Kt,"grid-auto-columns":Kt,"box-shadow-x":Kt,"box-shadow-y":Kt,"box-shadow-blur":Kt,"box-shadow-spread":Kt,"font-line-height":Kt,"text-shadow-x":Kt,"text-shadow-y":Kt,"text-shadow-blur":Kt});function Jt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=Jt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=Jt(i,t[i],n);else for(var a in t)t[a]=Jt(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||Yt[e];return!o||0===t&&o===Kt?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var Xt=function(e){void 0===e&&(e={});var t=$t(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=Jt(r,e[r],t);return e},onChangeValue:function(e,n){return Jt(n,e,t)}}};function Zt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function en(e){return function(e){if(Array.isArray(e))return u(e)}(e)||Zt(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var tn="",nn="",rn="",an="",on=ee&&"ontouchstart"in document.documentElement;if(ee){var un={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},sn=document.createElement("p").style;for(var cn in un)if(cn+"Transform"in sn){tn=cn,nn=un[cn];break}"Webkit"===tn&&"msHyphens"in sn&&(tn="ms",nn=un.ms,an="edge"),"Webkit"===tn&&"-apple-trailing-word"in sn&&(rn="apple")}var ln=tn,fn=nn,hn=rn,dn=an,pn=on;var vn={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ln?"-webkit-"+e:fn+e)}},mn={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ln?fn+"print-"+e:e)}},yn=/[-\s]+(.)?/g;function gn(e,t){return t?t.toUpperCase():""}function kn(e){return e.replace(yn,gn)}function bn(e){return kn("-"+e)}var wn,xn={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ln){var n="mask-image";if(kn(n)in t)return e;if(ln+bn(n)in t)return fn+e}return e}},_n={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==hn||pn?e:fn+e)}},In={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:fn+e)}},Sn={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:fn+e)}},En={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ln||"ms"===ln&&"edge"!==dn?fn+e:e)}},Tn={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ln||"ms"===ln||"apple"===hn?fn+e:e)}},Cn={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ln?"WebkitColumn"+bn(e)in t&&fn+"column-"+e:"Moz"===ln&&("page"+bn(e)in t&&"page-"+e))}},Nn={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ln)return e;var n=e.replace("-inline","");return ln+bn(n)in t&&fn+n}},An={supportedProperty:function(e,t){return kn(e)in t&&e}},Rn={supportedProperty:function(e,t){var n=bn(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:ln+n in t?fn+e:"Webkit"!==ln&&"Webkit"+n in t&&"-webkit-"+e}},Pn={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ln?""+fn+e:e)}},Ln={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ln?fn+"scroll-chaining":e)}},Dn={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},On={supportedProperty:function(e,t){var n=Dn[e];return!!n&&(ln+bn(n)in t&&fn+n)}},Mn={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Fn=Object.keys(Mn),Vn=function(e){return fn+e},Un={supportedProperty:function(e,t,n){var r=n.multiple;if(Fn.indexOf(e)>-1){var i=Mn[e];if(!Array.isArray(i))return ln+bn(i)in t&&fn+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(ln+bn(i[0])in t))return!1;return i.map(Vn)}return!1}},jn=[vn,mn,xn,_n,In,Sn,En,Tn,Cn,Nn,An,Rn,Pn,Ln,On,Un],zn=jn.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Bn=jn.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,en(t.noPrefill)),e}),[]),qn={};if(ee){wn=document.createElement("p");var Wn=window.getComputedStyle(document.documentElement,"");for(var Gn in Wn)isNaN(Gn)||(qn[Wn[Gn]]=Wn[Gn]);Bn.forEach((function(e){return delete qn[e]}))}function Kn(e,t){if(void 0===t&&(t={}),!wn)return e;if(null!=qn[e])return qn[e];"transition"!==e&&"transform"!==e||(t[e]=e in wn.style);for(var n=0;n<zn.length&&(qn[e]=zn[n](e,wn.style,t),!qn[e]);n++);try{wn.style[e]=""}catch(r){return!1}return qn[e]}var Hn,Qn={},$n={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Yn=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Jn(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Kn(t):", "+Kn(n);return r||(t||n)}function Xn(e,t){var n=t;if(!Hn||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Qn[r])return Qn[r];try{Hn.style[e]=n}catch(i){return Qn[r]=!1,!1}if($n[e])n=n.replace(Yn,Jn);else if(""===Hn.style[e]&&("-ms-flex"===(n=fn+n)&&(Hn.style[e]="-ms-flexbox"),Hn.style[e]=n,""===Hn.style[e]))return Qn[r]=!1,!1;return Hn.style[e]="",Qn[r]=n,Qn[r]}ee&&(Hn=document.createElement("p"));var Zn=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=Kn(n);a&&a!==n&&(i=!0);var o=!1,u=Xn(a,le(r));u&&u!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=u||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===ln?e:"@"+fn+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Xn(t,le(e))||e}}};var er=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var tr=pt({plugins:[Tt(),Dt(),Vt(),Gt(),Xt(),"undefined"===typeof window?null:Zn(),er()]}),nr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,u=""===o?"":"".concat(o,"-"),s=0,c=function(){return s+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==_t.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(u).concat(r,"-").concat(e.key);return t.options.theme[xt]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(u).concat(i).concat(c())}}(),rr={disableGeneration:!1,generateClassName:nr,jss:tr,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},ir=i.createContext(rr);var ar=-1e9;function or(){return ar+=1}function ur(e){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(e)}function sr(e){return e&&"object"===ur(e)&&e.constructor===Object}function cr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?f({},e):e;return sr(e)&&sr(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(sr(t[i])&&i in e?r[i]=cr(e[i],t[i],n):r[i]=t[i])})),r}function lr(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(u){throw u}if(!r||!n.overrides||!n.overrides[r])return i;var a=n.overrides[r],o=f({},i);return Object.keys(a).forEach((function(e){o[e]=cr(o[e],a[e])})),o},options:{}}}var fr={};function hr(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=yt({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function dr(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,a=e.stylesCreator,o=e.name;if(!i.disableGeneration){var u=kt.get(i.sheetsManager,a,r);u||(u={refs:0,staticSheet:null,dynamicStyles:null},kt.set(i.sheetsManager,a,r,u));var s=f({},a.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});s.generateId=s.serverGenerateClassName||s.generateClassName;var c=i.sheetsRegistry;if(0===u.refs){var l;i.sheetsCache&&(l=kt.get(i.sheetsCache,a,r));var h=a.create(r,o);l||((l=i.jss.createStyleSheet(h,f({link:!1},s))).attach(),i.sheetsCache&&kt.set(i.sheetsCache,a,r,l)),c&&c.add(l),u.staticSheet=l,u.dynamicStyles=mt(h)}if(u.dynamicStyles){var d=i.jss.createStyleSheet(u.dynamicStyles,f({link:!0},s));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=yt({baseClasses:u.staticSheet.classes,newClasses:d.classes}),c&&c.add(d)}else n.classes=u.staticSheet.classes;u.refs+=1}}function pr(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function vr(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=kt.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(kt.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function mr(e,t){var n,r=i.useRef([]),a=i.useMemo((function(){return{}}),t);r.current!==a&&(r.current=a,n=e()),i.useEffect((function(){return function(){n&&n()}}),[a])}function yr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,r=t.classNamePrefix,a=t.Component,o=t.defaultTheme,u=void 0===o?fr:o,s=Q(t,["name","classNamePrefix","Component","defaultTheme"]),c=lr(e),l=n||r||"makeStyles";c.options={index:or(),name:n,meta:l,classNamePrefix:l};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=wt()||u,r=f({},i.useContext(ir),s),o=i.useRef(),l=i.useRef();mr((function(){var i={name:n,state:{},stylesCreator:c,stylesOptions:r,theme:t};return dr(i,e),l.current=!1,o.current=i,function(){vr(i)}}),[t,c]),i.useEffect((function(){l.current&&pr(o.current,e),l.current=!0}));var h=hr(o.current,e.classes,a);return h};return h}function gr(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}var kr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=t.defaultTheme,a=t.withTheme,o=void 0!==a&&a,u=t.name,s=Q(t,["defaultTheme","withTheme","name"]);var c=u,l=yr(e,f({defaultTheme:r,Component:n,name:u||n.displayName,classNamePrefix:c},s)),h=i.forwardRef((function(e,t){e.classes;var a,s=e.innerRef,c=Q(e,["classes","innerRef"]),h=l(f({},n.defaultProps,e)),d=c;return("string"===typeof u||o)&&(a=wt()||r,u&&(d=gr({theme:a,name:u,props:c})),o&&!d.theme&&(d.theme=a)),i.createElement(n,f({ref:s||t,classes:h},d))}));return X()(h,n),h}},br=["xs","sm","md","lg","xl"];function wr(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=Q(e,["values","unit","step"]);function s(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function c(e,t){var r=br.indexOf(t);return r===br.length-1?s(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[br[r+1]]?n[br[r+1]]:t)-o/100).concat(i,")")}return f({keys:br,values:n,up:s,down:function(e){var t=br.indexOf(e)+1,r=n[br[t]];return t===br.length?s("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-o/100).concat(i,")")},between:c,only:function(e){return c(e,e)},width:function(e){return n[e]}},u)}function xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _r(e,t,n){var r;return f({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),f({paddingLeft:t(2),paddingRight:t(2)},n,xr({},e.up("sm"),f({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},xr(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),xr(r,e.up("sm"),{minHeight:64}),r)},n)}function Ir(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}var Sr={black:"#000",white:"#fff"},Er={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Tr={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Cr={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Nr={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ar={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Rr={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Pr={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Lr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Dr(e){if(e.type)return e;if("#"===e.charAt(0))return Dr(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Ir(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function Or(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function Mr(e){var t="hsl"===(e=Dr(e)).type?Dr(function(e){var t=(e=Dr(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),Or({type:u,values:s})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Fr(e,t){if(e=Dr(e),t=Lr(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Or(e)}function Vr(e,t){if(e=Dr(e),t=Lr(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return Or(e)}var Ur={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Sr.white,default:Er[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},jr={text:{primary:Sr.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Er[800],default:"#303030"},action:{active:Sr.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function zr(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Vr(e.main,i):"dark"===t&&(e.dark=Fr(e.main,a)))}function Br(e){var t=e.primary,n=void 0===t?{light:Tr[300],main:Tr[500],dark:Tr[700]}:t,r=e.secondary,i=void 0===r?{light:Cr.A200,main:Cr.A400,dark:Cr.A700}:r,a=e.error,o=void 0===a?{light:Nr[300],main:Nr[500],dark:Nr[700]}:a,u=e.warning,s=void 0===u?{light:Ar[300],main:Ar[500],dark:Ar[700]}:u,c=e.info,l=void 0===c?{light:Rr[300],main:Rr[500],dark:Rr[700]}:c,h=e.success,d=void 0===h?{light:Pr[300],main:Pr[500],dark:Pr[700]}:h,p=e.type,v=void 0===p?"light":p,m=e.contrastThreshold,y=void 0===m?3:m,g=e.tonalOffset,k=void 0===g?.2:g,b=Q(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function w(e){var t=function(e,t){var n=Mr(e),r=Mr(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,jr.text.primary)>=y?jr.text.primary:Ur.text.primary;return t}var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=f({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Ir(4,t));if("string"!==typeof e.main)throw new Error(Ir(5,JSON.stringify(e.main)));return zr(e,"light",n,k),zr(e,"dark",r,k),e.contrastText||(e.contrastText=w(e.main)),e},_={dark:jr,light:Ur};return cr(f({common:Sr,type:v,primary:x(n),secondary:x(i,"A400","A200","A700"),error:x(o),warning:x(s),info:x(l),success:x(d),grey:Er,contrastThreshold:y,getContrastText:w,augmentColor:x,tonalOffset:k},_[v]),b)}function qr(e){return Math.round(1e5*e)/1e5}function Wr(e){return qr(e)}var Gr={textTransform:"uppercase"},Kr='"Roboto", "Helvetica", "Arial", sans-serif';function Hr(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?Kr:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,l=void 0===c?400:c,h=n.fontWeightMedium,d=void 0===h?500:h,p=n.fontWeightBold,v=void 0===p?700:p,m=n.htmlFontSize,y=void 0===m?16:m,g=n.allVariants,k=n.pxToRem,b=Q(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var w=o/14,x=k||function(e){return"".concat(e/y*w,"rem")},_=function(e,t,n,r,a){return f({fontFamily:i,fontWeight:e,fontSize:x(t),lineHeight:n},i===Kr?{letterSpacing:"".concat(qr(r/t),"em")}:{},a,g)},I={h1:_(s,96,1.167,-1.5),h2:_(s,60,1.2,-.5),h3:_(l,48,1.167,0),h4:_(l,34,1.235,.25),h5:_(l,24,1.334,0),h6:_(d,20,1.6,.15),subtitle1:_(l,16,1.75,.15),subtitle2:_(d,14,1.57,.1),body1:_(l,16,1.5,.15),body2:_(l,14,1.43,.15),button:_(d,14,1.75,.4,Gr),caption:_(l,12,1.66,.4),overline:_(l,12,2.66,1,Gr)};return cr(f({htmlFontSize:y,pxToRem:x,round:Wr,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:l,fontWeightMedium:d,fontWeightBold:v},I),b,{clone:!1})}function Qr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var $r=["none",Qr(0,2,1,-1,0,1,1,0,0,1,3,0),Qr(0,3,1,-2,0,2,2,0,0,1,5,0),Qr(0,3,3,-2,0,3,4,0,0,1,8,0),Qr(0,2,4,-1,0,4,5,0,0,1,10,0),Qr(0,3,5,-1,0,5,8,0,0,1,14,0),Qr(0,3,5,-1,0,6,10,0,0,1,18,0),Qr(0,4,5,-2,0,7,10,1,0,2,16,1),Qr(0,5,5,-3,0,8,10,1,0,3,14,2),Qr(0,5,6,-3,0,9,12,1,0,3,16,2),Qr(0,6,6,-3,0,10,14,1,0,4,18,3),Qr(0,6,7,-4,0,11,15,1,0,4,20,3),Qr(0,7,8,-4,0,12,17,2,0,5,22,4),Qr(0,7,8,-4,0,13,19,2,0,5,24,4),Qr(0,7,9,-4,0,14,21,2,0,5,26,4),Qr(0,8,9,-5,0,15,22,2,0,6,28,5),Qr(0,8,10,-5,0,16,24,2,0,6,30,5),Qr(0,8,11,-5,0,17,26,2,0,6,32,5),Qr(0,9,11,-5,0,18,28,2,0,7,34,6),Qr(0,9,12,-6,0,19,29,2,0,7,36,6),Qr(0,10,13,-6,0,20,31,3,0,8,38,7),Qr(0,10,13,-6,0,21,33,3,0,8,40,7),Qr(0,10,14,-6,0,22,35,3,0,8,42,7),Qr(0,11,14,-7,0,23,36,3,0,9,44,8),Qr(0,11,15,-7,0,24,38,3,0,9,46,8)],Yr={borderRadius:4},Jr={xs:0,sm:600,md:960,lg:1280,xl:1920},Xr={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Jr[e],"px)")}};var Zr=function(e,t){return t?cr(e,t,{clone:!1}):e};var ei={m:"margin",p:"padding"},ti={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ni={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ri=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!ni[e])return[e];e=ni[e]}var t=l(e.split(""),2),n=t[0],r=t[1],i=ei[n],a=ti[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),ii=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function ai(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function oi(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function ui(e){var t=ai(e.theme);return Object.keys(e).map((function(n){if(-1===ii.indexOf(n))return null;var r=oi(ri(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||Xr;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===ur(t)){var i=e.theme.breakpoints||Xr;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(Zr,{})}ui.propTypes={},ui.filterProps=ii;function si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=ai({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var ci={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},li={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function fi(e){return"".concat(Math.round(e),"ms")}var hi={easing:ci,duration:li,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?li.standard:n,i=t.easing,a=void 0===i?ci.easeInOut:i,o=t.delay,u=void 0===o?0:o;Q(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:fi(r)," ").concat(a," ").concat("string"===typeof u?u:fi(u))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},di={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function pi(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,i=void 0===r?{}:r,a=e.palette,o=void 0===a?{}:a,u=e.spacing,s=e.typography,c=void 0===s?{}:s,l=Q(e,["breakpoints","mixins","palette","spacing","typography"]),f=Br(o),h=wr(n),d=si(u),p=cr({breakpoints:h,direction:"ltr",mixins:_r(h,d,i),overrides:{},palette:f,props:{},shadows:$r,typography:Hr(f,c),spacing:d,shape:Yr,transitions:hi,zIndex:di},l),v=arguments.length,m=new Array(v>1?v-1:0),y=1;y<v;y++)m[y-1]=arguments[y];return p=m.reduce((function(e,t){return cr(e,t)}),p)}var vi=pi,mi=vi();var yi=function(e,t){return kr(e,f({defaultTheme:mi},t))};function gi(e){if("string"!==typeof e)throw new Error(Ir(7));return e.charAt(0).toUpperCase()+e.slice(1)}var ki=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.component,o=void 0===a?"div":a,u=e.square,s=void 0!==u&&u,c=e.elevation,l=void 0===c?1:c,h=e.variant,d=void 0===h?"elevation":h,p=Q(e,["classes","className","component","square","elevation","variant"]);return i.createElement(o,f({className:Y(n.root,r,"outlined"===d?n.outlined:n["elevation".concat(l)],!s&&n.rounded),ref:t},p))})),bi=yi((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),f({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(ki),wi=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.color,o=void 0===a?"primary":a,u=e.position,s=void 0===u?"fixed":u,c=Q(e,["classes","className","color","position"]);return i.createElement(bi,f({square:!0,component:"header",elevation:4,className:Y(n.root,n["position".concat(gi(s))],n["color".concat(gi(o))],r,"fixed"===s&&"mui-fixed"),ref:t},c))})),xi=yi((function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}}),{name:"MuiAppBar"})(wi),_i=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.component,o=void 0===a?"div":a,u=e.disableGutters,s=void 0!==u&&u,c=e.variant,l=void 0===c?"regular":c,h=Q(e,["classes","className","component","disableGutters","variant"]);return i.createElement(o,f({className:Y(n.root,n[l],r,!s&&n.gutters),ref:t},h))})),Ii=yi((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:xr({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(_i),Si=[0,1,2,3,4,5,6,7,8,9,10],Ei=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function Ti(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var Ci=i.forwardRef((function(e,t){var n=e.alignContent,r=void 0===n?"stretch":n,a=e.alignItems,o=void 0===a?"stretch":a,u=e.classes,s=e.className,c=e.component,l=void 0===c?"div":c,h=e.container,d=void 0!==h&&h,p=e.direction,v=void 0===p?"row":p,m=e.item,y=void 0!==m&&m,g=e.justify,k=e.justifyContent,b=void 0===k?"flex-start":k,w=e.lg,x=void 0!==w&&w,_=e.md,I=void 0!==_&&_,S=e.sm,E=void 0!==S&&S,T=e.spacing,C=void 0===T?0:T,N=e.wrap,A=void 0===N?"wrap":N,R=e.xl,P=void 0!==R&&R,L=e.xs,D=void 0!==L&&L,O=e.zeroMinWidth,M=void 0!==O&&O,F=Q(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),V=Y(u.root,s,d&&[u.container,0!==C&&u["spacing-xs-".concat(String(C))]],y&&u.item,M&&u.zeroMinWidth,"row"!==v&&u["direction-xs-".concat(String(v))],"wrap"!==A&&u["wrap-xs-".concat(String(A))],"stretch"!==o&&u["align-items-xs-".concat(String(o))],"stretch"!==r&&u["align-content-xs-".concat(String(r))],"flex-start"!==(g||b)&&u["justify-content-xs-".concat(String(g||b))],!1!==D&&u["grid-xs-".concat(String(D))],!1!==E&&u["grid-sm-".concat(String(E))],!1!==I&&u["grid-md-".concat(String(I))],!1!==x&&u["grid-lg-".concat(String(x))],!1!==P&&u["grid-xl-".concat(String(P))]);return i.createElement(l,f({className:V,ref:t},F))})),Ni=yi((function(e){return f({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return Si.forEach((function(r){var i=e.spacing(r);0!==i&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(Ti(i,2)),width:"calc(100% + ".concat(Ti(i),")"),"& > $item":{padding:Ti(i,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var r={};Ei.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?f(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t}),{}))}),{name:"MuiGrid"})(Ci),Ai=Ni;function Ri(e){return Ri=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ri(e)}function Pi(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ri(e)););return e}function Li(){return Li="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Pi(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Li.apply(this,arguments)}function Di(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&re(e,t)}function Oi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Mi(e,t){if(t&&("object"===ur(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ae(e)}function Fi(e){var t=Oi();return function(){var n,r=Ri(e);if(t){var i=Ri(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Mi(this,n)}}function Vi(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Ui(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function ji(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ui(a,r,i,o,u,"next",e)}function u(e){Ui(a,r,i,o,u,"throw",e)}o(void 0)}))}}function zi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Bi=n(757),qi=n.n(Bi);function Wi(e,t,n){return Wi=Oi()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&re(i,n.prototype),i},Wi.apply(null,arguments)}function Gi(e){var t="function"===typeof Map?new Map:void 0;return Gi=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Wi(e,arguments,Ri(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),re(n,e)},Gi(e)}var Ki=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Hi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ki(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Qi=function(e){return function(e){var t=Ki(e);return Hi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},$i=function(e){try{return Hi.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Yi(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Ji(n)&&(e[n]=Yi(e[n],t[n]));return e}function Ji(e){return"__proto__"!==e}var Xi=function(){function e(){var t=this;zi(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ne(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Zi(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Qi(JSON.stringify({alg:"none",type:"JWT"})),Qi(JSON.stringify(a)),""].join(".")}function ea(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ta(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ea())}function na(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function ra(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ia(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function aa(){var e=ea();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function oa(){return"object"===typeof indexedDB}var ua=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a;return zi(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ae(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ae(a),sa.prototype.create),a}return ne(n)}(Gi(Error)),sa=function(){function e(t,n,r){zi(this,e),this.service=t,this.serviceName=n,this.errors=r}return ne(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ca(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new ua(n,a,t);return o}}]),e}();function ca(e,t){return e.replace(la,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var la=/\{\$([^}]+)}/g;function fa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ha(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(da(u)&&da(s)){if(!ha(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function da(e){return null!==e&&"object"===typeof e}function pa(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function va(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ma(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ya(e,t){var n=new ga(e,t);return n.subscribe.bind(n)}var ga=function(){function e(t,n){var r=this;zi(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ne(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Vi(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ka),void 0===r.error&&(r.error=ka),void 0===r.complete&&(r.complete=ka);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ka(){}function ba(e){return e&&e._delegate?e._delegate:e}function wa(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var xa=function(){function e(t){zi(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return ne(e,[{key:"transaction",value:function(e,t){return new _a(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new Ia(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),_a=function(){function e(t){var n=this;zi(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return ne(e,[{key:"objectStore",value:function(e){return new Ia(this._transaction.objectStore(e))}}]),e}(),Ia=function(){function e(t){zi(this,e),this._store=t}return ne(e,[{key:"index",value:function(e){return new Sa(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new Sa(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return wa(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return wa(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return wa(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return wa(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),Sa=function(){function e(t){zi(this,e),this._index=t}return ne(e,[{key:"get",value:function(e){return wa(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var Ea=function(){function e(t,n,r){zi(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ne(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ta="[DEFAULT]",Ca=function(){function e(t,n){zi(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ne(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Xi;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch(s){}var t,n=Vi(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ji(Bi.mark((function e(){var t;return Bi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(en(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),en(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Vi(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=l(i.value,2),s=u[0],c=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Vi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(KE){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ta?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(KE){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta;return this.component?this.component.multipleInstances?e:Ta:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Na,Aa,Ra=function(){function e(t){zi(this,e),this.name=t,this.providers=new Map}return ne(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ca(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Pa=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Aa||(Aa={}));var La,Da,Oa={debug:Aa.DEBUG,verbose:Aa.VERBOSE,info:Aa.INFO,warn:Aa.WARN,error:Aa.ERROR,silent:Aa.SILENT},Ma=Aa.INFO,Fa=(xr(Na={},Aa.DEBUG,"log"),xr(Na,Aa.VERBOSE,"log"),xr(Na,Aa.INFO,"info"),xr(Na,Aa.WARN,"warn"),xr(Na,Aa.ERROR,"error"),Na),Va=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Fa[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ua=function(){function e(t){zi(this,e),this.name=t,this._logLevel=Ma,this._logHandler=Va,this._userLogHandler=null,Pa.push(this)}return ne(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Aa))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Oa[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Aa.DEBUG].concat(t)),this._logHandler.apply(this,[this,Aa.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Aa.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Aa.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Aa.INFO].concat(t)),this._logHandler.apply(this,[this,Aa.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Aa.WARN].concat(t)),this._logHandler.apply(this,[this,Aa.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Aa.ERROR].concat(t)),this._logHandler.apply(this,[this,Aa.ERROR].concat(t))}}]),e}();var ja=function(){function e(t){zi(this,e),this.container=t}return ne(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var za="@firebase/app",Ba="0.7.20",qa=new Ua("@firebase/app"),Wa="[DEFAULT]",Ga=(xr(La={},za,"fire-core"),xr(La,"@firebase/app-compat","fire-core-compat"),xr(La,"@firebase/analytics","fire-analytics"),xr(La,"@firebase/analytics-compat","fire-analytics-compat"),xr(La,"@firebase/app-check","fire-app-check"),xr(La,"@firebase/app-check-compat","fire-app-check-compat"),xr(La,"@firebase/auth","fire-auth"),xr(La,"@firebase/auth-compat","fire-auth-compat"),xr(La,"@firebase/database","fire-rtdb"),xr(La,"@firebase/database-compat","fire-rtdb-compat"),xr(La,"@firebase/functions","fire-fn"),xr(La,"@firebase/functions-compat","fire-fn-compat"),xr(La,"@firebase/installations","fire-iid"),xr(La,"@firebase/installations-compat","fire-iid-compat"),xr(La,"@firebase/messaging","fire-fcm"),xr(La,"@firebase/messaging-compat","fire-fcm-compat"),xr(La,"@firebase/performance","fire-perf"),xr(La,"@firebase/performance-compat","fire-perf-compat"),xr(La,"@firebase/remote-config","fire-rc"),xr(La,"@firebase/remote-config-compat","fire-rc-compat"),xr(La,"@firebase/storage","fire-gcs"),xr(La,"@firebase/storage-compat","fire-gcs-compat"),xr(La,"@firebase/firestore","fire-fst"),xr(La,"@firebase/firestore-compat","fire-fst-compat"),xr(La,"fire-js","fire-js"),xr(La,"firebase","fire-js-all"),La),Ka=new Map,Ha=new Map;function Qa(e,t){try{e.container.addComponent(t)}catch(n){qa.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function $a(e,t){e.container.addOrOverwriteComponent(t)}function Ya(e){var t=e.name;if(Ha.has(t))return qa.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ha.set(t,e);var n,r=Vi(Ka.values());try{for(r.s();!(n=r.n()).done;){Qa(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ja(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Xa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wa;Ja(e,t).clearInstance(n)}function Za(){Ha.clear()}var eo=(xr(Da={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),xr(Da,"bad-app-name","Illegal App name: '{$appName}"),xr(Da,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),xr(Da,"app-deleted","Firebase App named '{$appName}' already deleted"),xr(Da,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),xr(Da,"invalid-log-argument","First argument to `onLog` must be null or a function."),xr(Da,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),xr(Da,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),xr(Da,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),xr(Da,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Da),to=new sa("app","Firebase",eo),no=function(){function e(t,n,r){var i=this;zi(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ea("app",(function(){return i}),"PUBLIC"))}return ne(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw to.create("app-deleted",{appName:this._name})}}]),e}(),ro="9.6.10";function io(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Wa,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw to.create("bad-app-name",{appName:String(i)});var a=Ka.get(i);if(a){if(ha(e,a.options)&&ha(r,a.config))return a;throw to.create("duplicate-app",{appName:i})}var o,u=new Ra(i),s=Vi(Ha.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new no(e,r,u);return Ka.set(i,l),l}function ao(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wa,t=Ka.get(e);if(!t)throw to.create("no-app",{appName:e});return t}function oo(){return Array.from(Ka.values())}function uo(e){return so.apply(this,arguments)}function so(){return(so=ji(Bi.mark((function e(t){var n;return Bi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ka.has(n)){e.next=6;break}return Ka.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function co(e,t,n){var r,i=null!==(r=Ga[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void qa.warn(u.join(" "))}Ya(new Ea("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function lo(e,t){if(null!==e&&"function"!==typeof e)throw to.create("invalid-log-argument");!function(e,t){var n,r=Vi(Pa);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Oa[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Aa[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function fo(e){var t;t=e,Pa.forEach((function(e){e.setLogLevel(t)}))}var ho="firebase-heartbeat-store",po=null;function vo(){var e,t,n;return po||(po=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(ho)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new xa(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new xa(a.result),e.oldVersion,e.newVersion,new _a(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw to.create("storage-open",{originalErrorMessage:e.message})}))),po}function mo(e){return yo.apply(this,arguments)}function yo(){return yo=ji(Bi.mark((function e(t){var n;return Bi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vo();case 3:return n=e.sent,e.abrupt("return",n.transaction(ho).objectStore(ho).get(bo(t)));case 7:throw e.prev=7,e.t0=e.catch(0),to.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),yo.apply(this,arguments)}function go(e,t){return ko.apply(this,arguments)}function ko(){return ko=ji(Bi.mark((function e(t,n){var r,i,a;return Bi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vo();case 3:return r=e.sent,i=r.transaction(ho,"readwrite"),a=i.objectStore(ho),e.next=8,a.put(n,bo(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),to.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),ko.apply(this,arguments)}function bo(e){return"".concat(e.name,"!").concat(e.options.appId)}var wo=function(){function e(t){var n=this;zi(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new So(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ne(e,[{key:"triggerHeartbeat",value:function(){var e=ji(Bi.mark((function e(){var t,n,r;return Bi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=xo(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ji(Bi.mark((function e(){var t,n,r,i,a;return Bi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=xo(),n=_o(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Qi(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function xo(){return(new Date).toISOString().substring(0,10)}function _o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Vi(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Eo(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Eo(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Io,So=function(){function e(t){zi(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ne(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ji(Bi.mark((function e(){return Bi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oa()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ji(Bi.mark((function e(){var t;return Bi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,mo(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ji(Bi.mark((function e(t){var n,r;return Bi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",go(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ji(Bi.mark((function e(t){var n,r;return Bi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",go(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(en(r.heartbeats),en(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Eo(e){return Qi(JSON.stringify({version:2,heartbeats:e})).length}Io="",Ya(new Ea("platform-logger",(function(e){return new ja(e)}),"PRIVATE")),Ya(new Ea("heartbeat",(function(e){return new wo(e)}),"PRIVATE")),co(za,Ba,Io),co(za,Ba,"esm2017"),co("fire-js","");function To(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Co;Object.create;var No="facebook.com",Ao="github.com",Ro="google.com",Po="password",Lo="twitter.com",Do="EMAIL_SIGNIN",Oo="PASSWORD_RESET",Mo="RECOVER_EMAIL",Fo="REVERT_SECOND_FACTOR_ADDITION",Vo="VERIFY_AND_CHANGE_EMAIL",Uo="VERIFY_EMAIL";function jo(){return xr({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var zo=function(){var e;return xr(e={},"admin-restricted-operation","This operation is restricted to administrators only."),xr(e,"argument-error",""),xr(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),xr(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),xr(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),xr(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),xr(e,"cordova-not-ready","Cordova framework is not ready."),xr(e,"cors-unsupported","This browser is not supported."),xr(e,"credential-already-in-use","This credential is already associated with a different user account."),xr(e,"custom-token-mismatch","The custom token corresponds to a different audience."),xr(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),xr(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),xr(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),xr(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),xr(e,"email-already-in-use","The email address is already in use by another account."),xr(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),xr(e,"expired-action-code","The action code has expired."),xr(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),xr(e,"internal-error","An internal AuthError has occurred."),xr(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),xr(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),xr(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),xr(e,"invalid-auth-event","An internal AuthError has occurred."),xr(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),xr(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),xr(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),xr(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),xr(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),xr(e,"invalid-email","The email address is badly formatted."),xr(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),xr(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),xr(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),xr(e,"invalid-credential","The supplied auth credential is malformed or has expired."),xr(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),xr(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),xr(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),xr(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),xr(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),xr(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),xr(e,"wrong-password","The password is invalid or the user does not have a password."),xr(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),xr(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),xr(e,"invalid-provider-id","The specified provider ID is invalid."),xr(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),xr(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),xr(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),xr(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),xr(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),xr(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),xr(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),xr(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),xr(e,"missing-continue-uri","A continue URL must be provided in the request."),xr(e,"missing-iframe-start","An internal AuthError has occurred."),xr(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),xr(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),xr(e,"missing-multi-factor-info","No second factor identifier is provided."),xr(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),xr(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),xr(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),xr(e,"app-deleted","This instance of FirebaseApp has been deleted."),xr(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),xr(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),xr(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),xr(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),xr(e,"no-auth-event","An internal AuthError has occurred."),xr(e,"no-such-provider","User was not linked to an account with the given provider."),xr(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),xr(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),xr(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),xr(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),xr(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),xr(e,"provider-already-linked","User can only be linked to one identity for the given provider."),xr(e,"quota-exceeded","The project's quota for this operation has been exceeded."),xr(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),xr(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),xr(e,"rejected-credential","The request contains malformed or mismatching credentials."),xr(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),xr(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),xr(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),xr(e,"timeout","The operation has timed out."),xr(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),xr(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),xr(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),xr(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),xr(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),xr(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),xr(e,"unverified-email","The operation requires a verified email."),xr(e,"user-cancelled","The user did not grant your application the permissions it requested."),xr(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),xr(e,"user-disabled","The user account has been disabled by an administrator."),xr(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),xr(e,"user-signed-out",""),xr(e,"weak-password","The password must be 6 characters long or more."),xr(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),xr(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Bo=jo,qo=new sa("auth","Firebase",jo()),Wo=new Ua("@firebase/auth");function Go(e){if(Wo.logLevel<=Aa.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Wo.error.apply(Wo,["Auth (".concat(ro,"): ").concat(e)].concat(n))}}function Ko(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Yo.apply(void 0,[e].concat(n))}function Ho(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Yo.apply(void 0,[e].concat(n))}function Qo(e,t,n){var r=Object.assign(Object.assign({},Bo()),xr({},t,n));return new sa("auth","Firebase",r).create(t,{appName:e.name})}function $o(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ko(e,"argument-error"),Qo(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Yo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=en(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(en(o)))}return qo.create.apply(qo,[e].concat(n))}function Jo(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Yo.apply(void 0,[t].concat(r))}}function Xo(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Go(t),new Error(t)}function Zo(e,t){e||Xo(t)}var eu=new Map;function tu(e){Zo(e instanceof Function,"Expected a class definition");var t=eu.get(e);return t?(Zo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,eu.set(e,t),t)}function nu(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ru(){return"http:"===iu()||"https:"===iu()}function iu(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var au=function(){function e(t,n){zi(this,e),this.shortDelay=t,this.longDelay=n,Zo(n>t,"Short delay should be less than long delay!"),this.isMobile=ta()||ia()}return ne(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ru()||ra()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ou(e,t){Zo(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var uu=function(){function e(){zi(this,e)}return ne(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Xo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Xo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Xo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),su=(xr(Co={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),xr(Co,"MISSING_CUSTOM_TOKEN","internal-error"),xr(Co,"INVALID_IDENTIFIER","invalid-email"),xr(Co,"MISSING_CONTINUE_URI","internal-error"),xr(Co,"INVALID_PASSWORD","wrong-password"),xr(Co,"MISSING_PASSWORD","internal-error"),xr(Co,"EMAIL_EXISTS","email-already-in-use"),xr(Co,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),xr(Co,"INVALID_IDP_RESPONSE","invalid-credential"),xr(Co,"INVALID_PENDING_TOKEN","invalid-credential"),xr(Co,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),xr(Co,"MISSING_REQ_TYPE","internal-error"),xr(Co,"EMAIL_NOT_FOUND","user-not-found"),xr(Co,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),xr(Co,"EXPIRED_OOB_CODE","expired-action-code"),xr(Co,"INVALID_OOB_CODE","invalid-action-code"),xr(Co,"MISSING_OOB_CODE","internal-error"),xr(Co,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),xr(Co,"INVALID_ID_TOKEN","invalid-user-token"),xr(Co,"TOKEN_EXPIRED","user-token-expired"),xr(Co,"USER_NOT_FOUND","user-token-expired"),xr(Co,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),xr(Co,"INVALID_CODE","invalid-verification-code"),xr(Co,"INVALID_SESSION_INFO","invalid-verification-id"),xr(Co,"INVALID_TEMPORARY_PROOF","invalid-credential"),xr(Co,"MISSING_SESSION_INFO","missing-verification-id"),xr(Co,"SESSION_EXPIRED","code-expired"),xr(Co,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),xr(Co,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),xr(Co,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),xr(Co,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),xr(Co,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),xr(Co,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),xr(Co,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),xr(Co,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),xr(Co,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),xr(Co,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),xr(Co,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Co),cu=new au(3e4,6e4);function lu(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function fu(e,t,n,r){return hu.apply(this,arguments)}function hu(){return hu=ji(qi().mark((function e(t,n,r,i){var a,o=arguments;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",du(t,a,ji(qi().mark((function e(){var a,o,u,s;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=pa(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",uu.fetch()(yu(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function du(e,t,n){return pu.apply(this,arguments)}function pu(){return pu=ji(qi().mark((function e(t,n,r){var i,a,o,u,s,c,f,h,d,p;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},su),n),e.prev=2,a=new gu(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw ku(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw ku(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw ku(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw Qo(t,p,d);case 30:Ko(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof ua)){e.next=37;break}throw e.t0;case 37:Ko(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),pu.apply(this,arguments)}function vu(e,t,n,r){return mu.apply(this,arguments)}function mu(){return mu=ji(qi().mark((function e(t,n,r,i){var a,o,u=arguments;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,fu(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Ko(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),mu.apply(this,arguments)}function yu(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ou(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var gu=function(){function e(t){var n=this;zi(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ho(n.auth,"network-request-failed"))}),cu.get())}))}return ne(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ku(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ho(e,t,r);return i.customData._tokenResponse=n,i}function bu(e,t){return wu.apply(this,arguments)}function wu(){return wu=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fu(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),wu.apply(this,arguments)}function xu(e,t){return _u.apply(this,arguments)}function _u(){return _u=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fu(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),_u.apply(this,arguments)}function Iu(e,t){return Su.apply(this,arguments)}function Su(){return Su=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fu(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Su.apply(this,arguments)}function Eu(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Tu(){return Tu=ji(qi().mark((function e(t){var n,r,i,a,o,u,s=arguments;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=ba(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Jo((a=Nu(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Eu(Cu(a.auth_time)),issuedAtTime:Eu(Cu(a.iat)),expirationTime:Eu(Cu(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Tu.apply(this,arguments)}function Cu(e){return 1e3*Number(e)}function Nu(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Go("JWT malformed, contained fewer than 3 sections"),null;try{var a=$i(r);return a?JSON.parse(a):(Go("Failed to decode base64 JWT payload"),null)}catch(o){return Go("Caught error parsing JWT payload as JSON",o),null}}function Au(e,t){return Ru.apply(this,arguments)}function Ru(){return Ru=ji(qi().mark((function e(t,n){var r=arguments;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ua&&Pu(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ru.apply(this,arguments)}function Pu(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Lu=function(){function e(t){zi(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ne(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ji(qi().mark((function t(){return qi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Du=function(){function e(t,n){zi(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ne(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ou(e){return Mu.apply(this,arguments)}function Mu(){return Mu=ji(qi().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Au(t,Iu(r,{idToken:i}));case 6:Jo(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Uu(o.providerUserInfo):[],s=Vu(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Du(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Mu.apply(this,arguments)}function Fu(){return(Fu=ji(qi().mark((function e(t){var n;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ba(t),e.next=3,Ou(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vu(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(en(n),en(t))}function Uu(e){return e.map((function(e){var t=e.providerId,n=To(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function ju(e,t){return zu.apply(this,arguments)}function zu(){return zu=ji(qi().mark((function e(t,n){var r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,du(t,{},ji(qi().mark((function e(){var r,i,a,o,u,s;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pa({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=yu(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",uu.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),zu.apply(this,arguments)}var Bu=function(){function e(){zi(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ne(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Jo(e.idToken,"internal-error"),Jo("undefined"!==typeof e.idToken,"internal-error"),Jo("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Nu(e);return Jo(t,"internal-error"),Jo("undefined"!==typeof t.exp,"internal-error"),Jo("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ji(qi().mark((function e(t){var n,r=arguments;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Jo(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ji(qi().mark((function e(t,n){var r,i,a,o;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ju(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Xo("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Jo("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Jo("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Jo("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function qu(e,t){Jo("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Wu=function(){function e(t){zi(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=To(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?en(a.providerData):[],this.metadata=new Du(a.createdAt||void 0,a.lastLoginAt||void 0)}return ne(e,[{key:"getIdToken",value:function(){var e=ji(qi().mark((function e(t){var n;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Au(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Jo(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Tu.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Fu.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Jo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Jo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ji(qi().mark((function e(t){var n,r,i=arguments;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ou(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ji(qi().mark((function e(){var t;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Au(this,bu(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Jo(k&&_,t,"internal-error");var I=Bu.fromJSON(this.name,_);Jo("string"===typeof k,t,"internal-error"),qu(f,t.name),qu(h,t.name),Jo("boolean"===typeof b,t,"internal-error"),Jo("boolean"===typeof w,t,"internal-error"),qu(d,t.name),qu(p,t.name),qu(v,t.name),qu(m,t.name),qu(y,t.name),qu(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=ji(qi().mark((function t(n,r){var i,a,o,u=arguments;return qi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Bu).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ou(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Gu=function(){function e(){zi(this,e),this.type="NONE",this.storage={}}return ne(e,[{key:"_isAvailable",value:function(){var e=ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ji(qi().mark((function e(t){var n;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Gu.type="NONE";var Ku=Gu;function Hu(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Qu=function(){function e(t,n,r){zi(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Hu(this.userKey,a.apiKey,o),this.fullPersistenceKey=Hu("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ne(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ji(qi().mark((function e(){var t;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Wu._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ji(qi().mark((function e(t){var n;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ji(qi().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return qi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(tu(Ku),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||tu(Ku),u=Hu(i,n.config.apiKey,n.name),s=null,c=Vi(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Wu._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function $u(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Zu(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Yu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ts(t))return"Blackberry";if(ns(t))return"Webos";if(Ju(t))return"Safari";if((t.includes("chrome/")||Xu(t))&&!t.includes("edge/"))return"Chrome";if(es(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Yu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea();return/firefox\//i.test(e)}function Ju(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Xu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea();return/crios\//i.test(e)}function Zu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea();return/iemobile/i.test(e)}function es(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea();return/android/i.test(e)}function ts(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea();return/blackberry/i.test(e)}function ns(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea();return/webos/i.test(e)}function rs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea();return/iphone|ipad|ipod/i.test(e)}function is(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea();return rs(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function as(){return aa()&&10===document.documentMode}function os(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea();return rs(e)||es(e)||ns(e)||ts(e)||/windows phone/i.test(e)||Zu(e)}function us(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=$u(ea());break;case"Worker":t="".concat($u(ea()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ro,"/").concat(r)}var ss=function(){function e(t,n,r){zi(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ls(this),this.idTokenSubscription=new ls(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qo,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return ne(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=tu(t)),this._initializationPromise=this.queue(ji(qi().mark((function r(){var i,a;return qi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Qu.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ji(qi().mark((function e(){var t;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ji(qi().mark((function e(t){var n,r,i,a,o;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Jo(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ji(qi().mark((function e(t){var n;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ou(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ji(qi().mark((function e(t){var n;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ba(t):null)&&Jo(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ji(qi().mark((function e(t){var n=this;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Jo(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ji(qi().mark((function n(){return qi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(tu(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new sa("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ji(qi().mark((function e(t,n){var r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ji(qi().mark((function e(t){var n;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Jo(n=t&&tu(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Qu.create(this,[tu(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ji(qi().mark((function e(t){var n,r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ji(qi().mark((function e(t){var n=this;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Jo(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Jo(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=us(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ji(qi().mark((function e(){var t,n,r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xr({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function cs(e){return ba(e)}var ls=function(){function e(t){var n=this;zi(this,e),this.auth=t,this.observer=null,this.addObserver=ya((function(e){return n.observer=e}))}return ne(e,[{key:"next",get:function(){return Jo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function fs(e,t,n){var r=cs(e);Jo(r._canInitEmulator,r,"emulator-config-failed"),Jo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=hs(t),o=function(e){var t=hs(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:ds(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:ds(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function hs(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ds(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ps=function(){function e(t,n){zi(this,e),this.providerId=t,this.signInMethod=n}return ne(e,[{key:"toJSON",value:function(){return Xo("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Xo("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Xo("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Xo("not implemented")}}]),e}();function vs(e,t){return ms.apply(this,arguments)}function ms(){return ms=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fu(t,"POST","/v1/accounts:resetPassword",lu(t,n)));case 1:case"end":return e.stop()}}),e)}))),ms.apply(this,arguments)}function ys(e,t){return gs.apply(this,arguments)}function gs(){return gs=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fu(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),gs.apply(this,arguments)}function ks(e,t){return bs.apply(this,arguments)}function bs(){return bs=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fu(t,"POST","/v1/accounts:update",lu(t,n)));case 1:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}function ws(e,t){return xs.apply(this,arguments)}function xs(){return xs=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,"POST","/v1/accounts:signInWithPassword",lu(t,n)));case 1:case"end":return e.stop()}}),e)}))),xs.apply(this,arguments)}function _s(e,t){return Is.apply(this,arguments)}function Is(){return Is=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fu(t,"POST","/v1/accounts:sendOobCode",lu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Is.apply(this,arguments)}function Ss(e,t){return Es.apply(this,arguments)}function Es(){return Es=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_s(t,n));case 1:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}function Ts(e,t){return Cs.apply(this,arguments)}function Cs(){return Cs=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_s(t,n));case 1:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}function Ns(e,t){return As.apply(this,arguments)}function As(){return As=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_s(t,n));case 1:case"end":return e.stop()}}),e)}))),As.apply(this,arguments)}function Rs(e,t){return Ps.apply(this,arguments)}function Ps(){return Ps=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_s(t,n));case 1:case"end":return e.stop()}}),e)}))),Ps.apply(this,arguments)}function Ls(e,t){return Ds.apply(this,arguments)}function Ds(){return Ds=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,"POST","/v1/accounts:signInWithEmailLink",lu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ds.apply(this,arguments)}function Os(e,t){return Ms.apply(this,arguments)}function Ms(){return Ms=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,"POST","/v1/accounts:signInWithEmailLink",lu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ms.apply(this,arguments)}var Fs=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return zi(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return ne(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ws(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ls(t,{email:this._email,oobCode:this._password}));case 5:Ko(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ys(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Os(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Ko(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ps);function Vs(e,t){return Us.apply(this,arguments)}function Us(){return Us=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,"POST","/v1/accounts:signInWithIdp",lu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Us.apply(this,arguments)}var js=function(e){Di(n,e);var t=Fi(n);function n(){var e;return zi(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ne(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Vs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Vs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Vs(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=pa(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ko("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=To(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ps);function zs(e,t){return Bs.apply(this,arguments)}function Bs(){return Bs=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fu(t,"POST","/v1/accounts:sendVerificationCode",lu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bs.apply(this,arguments)}function qs(){return qs=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,"POST","/v1/accounts:signInWithPhoneNumber",lu(t,n)));case 1:case"end":return e.stop()}}),e)}))),qs.apply(this,arguments)}function Ws(){return Ws=ji(qi().mark((function e(t,n){var r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vu(t,"POST","/v1/accounts:signInWithPhoneNumber",lu(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ku(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Ws.apply(this,arguments)}var Gs=xr({},"USER_NOT_FOUND","user-not-found");function Ks(){return Ks=ji(qi().mark((function e(t,n){var r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",vu(t,"POST","/v1/accounts:signInWithPhoneNumber",lu(t,r),Gs));case 2:case"end":return e.stop()}}),e)}))),Ks.apply(this,arguments)}var Hs=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return zi(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ne(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return qs.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ws.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ks.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ps);var Qs=function(){function e(t){var n,r,i,a,o,u;zi(this,e);var s=va(ma(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Jo(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return ne(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=va(ma(e)).link,n=t?va(ma(t)).deep_link_id:null,r=va(ma(e)).deep_link_id;return(r?va(ma(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(KE){return null}}}]),e}();var $s=function(){function e(){zi(this,e),this.providerId=e.PROVIDER_ID}return ne(e,null,[{key:"credential",value:function(e,t){return Fs._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Qs.parseLink(t);return Jo(n,"argument-error"),Fs._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();$s.PROVIDER_ID="password",$s.EMAIL_PASSWORD_SIGN_IN_METHOD="password",$s.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ys=function(){function e(t){zi(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ne(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Js=function(e){Di(n,e);var t=Fi(n);function n(){var e;return zi(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ne(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return en(this.scopes)}}]),n}(Ys),Xs=function(e){Di(n,e);var t=Fi(n);function n(){return zi(this,n),t.apply(this,arguments)}return ne(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Jo(e.idToken||e.accessToken,"argument-error"),js._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Jo("providerId"in t&&"signInMethod"in t,"argument-error"),js._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Js),Zs=function(e){Di(n,e);var t=Fi(n);function n(){return zi(this,n),t.call(this,"facebook.com")}return ne(n,null,[{key:"credential",value:function(e){return js._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(KE){return null}}}]),n}(Js);Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com",Zs.PROVIDER_ID="facebook.com";var ec=function(e){Di(n,e);var t=Fi(n);function n(){var e;return zi(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ne(n,null,[{key:"credential",value:function(e,t){return js._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(KE){return null}}}]),n}(Js);ec.GOOGLE_SIGN_IN_METHOD="google.com",ec.PROVIDER_ID="google.com";var tc=function(e){Di(n,e);var t=Fi(n);function n(){return zi(this,n),t.call(this,"github.com")}return ne(n,null,[{key:"credential",value:function(e){return js._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(KE){return null}}}]),n}(Js);tc.GITHUB_SIGN_IN_METHOD="github.com",tc.PROVIDER_ID="github.com";var nc=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return zi(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return ne(n,[{key:"_getIdTokenResponse",value:function(e){return Vs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Vs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Vs(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ps),rc=function(e){Di(n,e);var t=Fi(n);function n(e){return zi(this,n),Jo(e.startsWith("saml."),"argument-error"),t.call(this,e)}return ne(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=nc.fromJSON(e);return Jo(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return nc._create(r,n)}catch(i){return null}}}]),n}(Ys),ic=function(e){Di(n,e);var t=Fi(n);function n(){return zi(this,n),t.call(this,"twitter.com")}return ne(n,null,[{key:"credential",value:function(e,t){return js._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(KE){return null}}}]),n}(Js);function ac(e,t){return oc.apply(this,arguments)}function oc(){return oc=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,"POST","/v1/accounts:signUp",lu(t,n)));case 1:case"end":return e.stop()}}),e)}))),oc.apply(this,arguments)}ic.TWITTER_SIGN_IN_METHOD="twitter.com",ic.PROVIDER_ID="twitter.com";var uc=function(){function e(t){zi(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ne(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ji(qi().mark((function t(n,r,i){var a,o,u,s,c=arguments;return qi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Wu._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=sc(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ji(qi().mark((function t(n,r,i){var a;return qi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=sc(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function sc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function cc(){return cc=ji(qi().mark((function e(t){var n,r,i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cs(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new uc({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,ac(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,uc._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),cc.apply(this,arguments)}var lc=function(e){Di(n,e);var t=Fi(n);function n(e,r,i,a){var o,u;return zi(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(ae(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return ne(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ua);function fc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw lc._fromErrorAndOperation(e,n,t,r);throw n}))}function hc(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function dc(e,t){return pc.apply(this,arguments)}function pc(){return pc=ji(qi().mark((function e(t,n){var r,i,a,o;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ba(t),e.next=3,yc(!0,r,n);case 3:return e.t0=xu,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=hc(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),pc.apply(this,arguments)}function vc(e,t){return mc.apply(this,arguments)}function mc(){return mc=ji(qi().mark((function e(t,n){var r,i,a=arguments;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Au,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",uc._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),mc.apply(this,arguments)}function yc(e,t,n){return gc.apply(this,arguments)}function gc(){return(gc=ji(qi().mark((function e(t,n,r){var i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ou(n);case 2:i=hc(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Jo(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kc(e,t){return bc.apply(this,arguments)}function bc(){return bc=ji(qi().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Au(t,fc(i,a,n,t),r);case 6:return Jo((o=e.sent).idToken,i,"internal-error"),Jo(u=Nu(o.idToken),i,"internal-error"),s=u.sub,Jo(t.uid===s,i,"user-mismatch"),e.abrupt("return",uc._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Ko(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),bc.apply(this,arguments)}function wc(e,t){return xc.apply(this,arguments)}function xc(){return xc=ji(qi().mark((function e(t,n){var r,i,a,o,u=arguments;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,fc(t,i,n);case 4:return a=e.sent,e.next=7,uc._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),xc.apply(this,arguments)}function _c(e,t){return Ic.apply(this,arguments)}function Ic(){return Ic=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wc(cs(t),n));case 1:case"end":return e.stop()}}),e)}))),Ic.apply(this,arguments)}function Sc(e,t){return Ec.apply(this,arguments)}function Ec(){return(Ec=ji(qi().mark((function e(t,n){var r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ba(t),e.next=3,yc(!1,r,n.providerId);case 3:return e.abrupt("return",vc(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tc(e,t){return Cc.apply(this,arguments)}function Cc(){return(Cc=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kc(ba(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nc(e,t){return Ac.apply(this,arguments)}function Ac(){return Ac=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,"POST","/v1/accounts:signInWithCustomToken",lu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ac.apply(this,arguments)}function Rc(){return Rc=ji(qi().mark((function e(t,n){var r,i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cs(t),e.next=3,Nc(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,uc._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Rc.apply(this,arguments)}var Pc=function(){function e(t,n){zi(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return ne(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Lc._fromServerResponse(e,t):Ko(e,"internal-error")}}]),e}(),Lc=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return zi(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return ne(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Pc);function Dc(e,t,n){var r;Jo((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Jo("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Jo(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Jo(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Oc(){return Oc=ji(qi().mark((function e(t,n,r){var i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ba(t),a={requestType:"PASSWORD_RESET",email:n},r&&Dc(i,a,r),e.next=5,Ts(i,a);case 5:case"end":return e.stop()}}),e)}))),Oc.apply(this,arguments)}function Mc(){return Mc=ji(qi().mark((function e(t,n,r){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vs(ba(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Mc.apply(this,arguments)}function Fc(){return Fc=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ks(ba(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Fc.apply(this,arguments)}function Vc(e,t){return Uc.apply(this,arguments)}function Uc(){return Uc=ji(qi().mark((function e(t,n){var r,i,a,o;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ba(t),e.next=3,vs(r,{oobCode:n});case 3:i=e.sent,Jo(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Jo(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Jo(i.mfaInfo,r,"internal-error");case 13:Jo(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Pc._fromServerResponse(cs(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Uc.apply(this,arguments)}function jc(){return jc=ji(qi().mark((function e(t,n){var r,i;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vc(ba(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),jc.apply(this,arguments)}function zc(e,t,n){return Bc.apply(this,arguments)}function Bc(){return Bc=ji(qi().mark((function e(t,n,r){var i,a,o;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cs(t),e.next=3,ac(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,uc._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Bc.apply(this,arguments)}function qc(){return qc=ji(qi().mark((function e(t,n,r){var i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ba(t),a={requestType:"EMAIL_SIGNIN",email:n},Jo(r.handleCodeInApp,i,"argument-error"),r&&Dc(i,a,r),e.next=6,Ns(i,a);case 6:case"end":return e.stop()}}),e)}))),qc.apply(this,arguments)}function Wc(){return Wc=ji(qi().mark((function e(t,n,r){var i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ba(t),Jo((a=$s.credentialWithLink(n,r||nu()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",_c(i,a));case 4:case"end":return e.stop()}}),e)}))),Wc.apply(this,arguments)}function Gc(e,t){return Kc.apply(this,arguments)}function Kc(){return Kc=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fu(t,"POST","/v1/accounts:createAuthUri",lu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Kc.apply(this,arguments)}function Hc(){return Hc=ji(qi().mark((function e(t,n){var r,i,a,o;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ru()?nu():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Gc(ba(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Hc.apply(this,arguments)}function Qc(){return(Qc=ji(qi().mark((function e(t,n){var r,i,a,o;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ba(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Dc(r.auth,a,n),e.next=8,Ss(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $c(){return($c=ji(qi().mark((function e(t,n,r){var i,a,o,u;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ba(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Dc(i.auth,o,r),e.next=8,Rs(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yc(e,t){return Jc.apply(this,arguments)}function Jc(){return Jc=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fu(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Jc.apply(this,arguments)}function Xc(){return(Xc=ji(qi().mark((function e(t,n){var r,i,a,o,u,s,c;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ba(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Au(a,Yc(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zc(e,t,n){return el.apply(this,arguments)}function el(){return el=ji(qi().mark((function e(t,n,r){var i,a,o,u;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Au(t,ys(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),el.apply(this,arguments)}var tl=ne((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};zi(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),nl=function(e){Di(n,e);var t=Fi(n);function n(e,r,i,a){var o;return zi(this,n),(o=t.call(this,e,r,i)).username=a,o}return ne(n)}(tl),rl=function(e){Di(n,e);var t=Fi(n);function n(e,r){return zi(this,n),t.call(this,e,"facebook.com",r)}return ne(n)}(tl),il=function(e){Di(n,e);var t=Fi(n);function n(e,r){return zi(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return ne(n)}(nl),al=function(e){Di(n,e);var t=Fi(n);function n(e,r){return zi(this,n),t.call(this,e,"google.com",r)}return ne(n)}(tl),ol=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){return zi(this,n),t.call(this,e,"twitter.com",r,i)}return ne(n)}(nl);function ul(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Nu(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new tl(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new rl(a,i);case"github.com":return new il(a,i);case"google.com":return new al(a,i);case"twitter.com":return new ol(a,i,e.screenName||null);case"custom":case"anonymous":return new tl(a,null);default:return new tl(a,r,i)}}(n)}var sl=function(){function e(t,n){zi(this,e),this.type=t,this.credential=n}return ne(e,[{key:"toJSON",value:function(){return{multiFactorSession:xr({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),cl=function(){function e(t,n,r){zi(this,e),this.session=t,this.hints=n,this.signInResolver=r}return ne(e,[{key:"resolveSignIn",value:function(){var e=ji(qi().mark((function e(t){var n;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=cs(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Pc._fromServerResponse(r,e)}));Jo(i.mfaPendingCredential,r,"internal-error");var o=sl._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=ji(qi().mark((function e(t){var a,u,s;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,uc._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Jo(n.user,r,"internal-error"),e.abrupt("return",uc._forOperation(n.user,n.operationType,u));case 17:Ko(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function ll(e,t){return fu(e,"POST","/v2/accounts/mfaEnrollment:start",lu(e,t))}function fl(e,t){return fu(e,"POST","/v2/accounts/mfaEnrollment:withdraw",lu(e,t))}var hl=function(){function e(t){var n=this;zi(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Pc._fromServerResponse(t.auth,e)})))}))}return ne(e,[{key:"getSession",value:function(){var e=ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=sl,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=ji(qi().mark((function e(t,n){var r,i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Au(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=ji(qi().mark((function e(t){var n,r,i;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Au(this.user,fl(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),dl=new WeakMap;var pl="__sak",vl=function(){function e(t,n){zi(this,e),this.storageRetriever=t,this.type=n}return ne(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(pl,"1"),this.storage.removeItem(pl),Promise.resolve(!0)):Promise.resolve(!1)}catch(KE){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ml=function(e){Di(n,e);var t=Fi(n);function n(){var e;return zi(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ea();return Ju(e)||rs(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=os(),e._shouldAllowMigration=!0,e}return ne(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);as()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ji(qi().mark((function e(t,r){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li(Ri(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ji(qi().mark((function e(t){var r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li(Ri(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li(Ri(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(vl);ml.type="LOCAL";var yl=ml,gl=function(e){Di(n,e);var t=Fi(n);function n(){return zi(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ne(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(vl);gl.type="SESSION";var kl=gl;function bl(e){return Promise.all(e.map(function(){var e=ji(qi().mark((function e(t){var n;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var wl=function(){function e(t){zi(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ne(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ji(qi().mark((function e(t){var n,r,i,a,o,u,s,c;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,bl(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function xl(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}wl.receivers=[];var _l=function(){function e(t){zi(this,e),this.target=t,this.handlers=new Set}return ne(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ji(qi().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=xl("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Il(){return window}function Sl(){return"undefined"!==typeof Il().WorkerGlobalScope&&"function"===typeof Il().importScripts}function El(){return Tl.apply(this,arguments)}function Tl(){return(Tl=ji(qi().mark((function e(){var t;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Cl(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Nl="firebaseLocalStorageDb",Al="firebaseLocalStorage",Rl="fbase_key",Pl=function(){function e(t){zi(this,e),this.request=t}return ne(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ll(e,t){return e.transaction([Al],t?"readwrite":"readonly").objectStore(Al)}function Dl(){var e=indexedDB.deleteDatabase(Nl);return new Pl(e).toPromise()}function Ol(){var e=indexedDB.open(Nl,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Al,{keyPath:Rl})}catch(r){n(r)}})),e.addEventListener("success",ji(qi().mark((function n(){var r;return qi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Al)){n.next=12;break}return r.close(),n.next=5,Dl();case 5:return n.t0=t,n.next=8,Ol();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ml(e,t,n){return Fl.apply(this,arguments)}function Fl(){return Fl=ji(qi().mark((function e(t,n,r){var i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ll(t,!0).put((xr(i={},Rl,n),xr(i,"value",r),i)),e.abrupt("return",new Pl(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Fl.apply(this,arguments)}function Vl(e,t){return Ul.apply(this,arguments)}function Ul(){return Ul=ji(qi().mark((function e(t,n){var r,i;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ll(t,!1).get(n),e.next=3,new Pl(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}function jl(e,t){var n=Ll(e,!0).delete(t);return new Pl(n).toPromise()}var zl=function(){function e(){zi(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ne(e,[{key:"_openDb",value:function(){var e=ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ol();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ji(qi().mark((function e(t){var n,r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sl()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ji(qi().mark((function e(){var t=this;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=wl._getInstance(Sl()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ji(qi().mark((function e(n,r){var i;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ji(qi().mark((function e(){var t,n,r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,El();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new _l(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Cl()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ji(qi().mark((function e(){var t;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ol();case 5:return t=e.sent,e.next=8,Ml(t,pl,"1");case 8:return e.next=10,jl(t,pl);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ji(qi().mark((function e(t,n){var r=this;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ml(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ji(qi().mark((function e(t){var n;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Vl(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ji(qi().mark((function e(t){var n=this;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return jl(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ji(qi().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ll(e,!1).getAll();return new Pl(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Vi(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ji(qi().mark((function t(){return qi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();zl.type="LOCAL";var Bl=zl;function ql(e,t){return fu(e,"POST","/v2/accounts/mfaSignIn:start",lu(e,t))}function Wl(e){return Gl.apply(this,arguments)}function Gl(){return Gl=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fu(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Gl.apply(this,arguments)}function Kl(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ho("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Hl(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Ql=1e12,$l=function(){function e(t){zi(this,e),this.auth=t,this.counter=Ql,this._widgets=new Map}return ne(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Yl(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Ql;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Ql;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=ji(qi().mark((function e(t){var n,r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Ql,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Yl=function(){function e(t,n,r){var i=this;zi(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Jo(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return ne(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Jl=Hl("rcb"),Xl=new au(3e4,6e4),Zl="https://www.google.com/recaptcha/api.js?",ef=function(){function e(){zi(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Il().grecaptcha}return ne(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Jo(tf(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Il().grecaptcha):new Promise((function(r,i){var a=Il().setTimeout((function(){i(Ho(e,"network-request-failed"))}),Xl.get());Il()[Jl]=function(){Il().clearTimeout(a),delete Il()[Jl];var o=Il().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ho(e,"internal-error"))},Kl("".concat(Zl,"?").concat(pa({onload:Jl,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ho(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Il().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function tf(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var nf=function(){function e(){zi(this,e)}return ne(e,[{key:"load",value:function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new $l(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),rf="recaptcha",af={theme:"light",type:"image"},of=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},af),r=arguments.length>2?arguments[2]:void 0;zi(this,e),this.parameters=n,this.type=rf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=cs(r),this.isInvisible="invisible"===this.parameters.size,Jo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Jo(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nf:new ef,this.validateStartingState()}return ne(e,[{key:"verify",value:function(){var e=ji(qi().mark((function e(){var t,n,r,i=this;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Jo(!this.parameters.sitekey,this.auth,"argument-error"),Jo(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Jo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Il()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Jo(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=ji(qi().mark((function e(){var t,n;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=ji(qi().mark((function e(){var t;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jo(ru()&&!Sl(),this.auth,"internal-error"),e.next=3,uf();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Wl(this.auth);case 8:Jo(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Jo(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function uf(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var sf=function(){function e(t,n){zi(this,e),this.verificationId=t,this.onConfirmation=n}return ne(e,[{key:"confirm",value:function(e){var t=Hs._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function cf(){return cf=ji(qi().mark((function e(t,n,r){var i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cs(t),e.next=3,df(i,n,ba(r));case 3:return a=e.sent,e.abrupt("return",new sf(a,(function(e){return _c(i,e)})));case 5:case"end":return e.stop()}}),e)}))),cf.apply(this,arguments)}function lf(e,t,n){return ff.apply(this,arguments)}function ff(){return(ff=ji(qi().mark((function e(t,n,r){var i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ba(t),e.next=3,yc(!1,i,"phone");case 3:return e.next=5,df(i.auth,n,ba(r));case 5:return a=e.sent,e.abrupt("return",new sf(a,(function(e){return Sc(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hf(){return(hf=ji(qi().mark((function e(t,n,r){var i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ba(t),e.next=3,df(i.auth,n,ba(r));case 3:return a=e.sent,e.abrupt("return",new sf(a,(function(e){return Tc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function df(e,t,n){return pf.apply(this,arguments)}function pf(){return pf=ji(qi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Jo("string"===typeof a,t,"argument-error"),Jo(r.type===rf,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Jo("enroll"===u.type,t,"internal-error"),e.next=13,ll(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Jo("signin"===u.type,t,"internal-error"),Jo(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ql(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,zs(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),pf.apply(this,arguments)}function vf(){return(vf=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vc(ba(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mf=function(){function e(t){zi(this,e),this.providerId=e.PROVIDER_ID,this.auth=cs(t)}return ne(e,[{key:"verifyPhoneNumber",value:function(e,t){return df(this.auth,e,ba(t))}}],[{key:"credential",value:function(e,t){return Hs._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Hs._fromTokenResponse(n,r):null}}]),e}();function yf(e,t){return t?tu(t):(Jo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}mf.PROVIDER_ID="phone",mf.PHONE_SIGN_IN_METHOD="phone";var gf=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return zi(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ne(n,[{key:"_getIdTokenResponse",value:function(e){return Vs(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Vs(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Vs(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ps);function kf(e){return wc(e.auth,new gf(e),e.bypassAuthState)}function bf(e){var t=e.auth,n=e.user;return Jo(n,t,"internal-error"),kc(n,new gf(e),e.bypassAuthState)}function wf(e){return xf.apply(this,arguments)}function xf(){return xf=ji(qi().mark((function e(t){var n,r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Jo(r=t.user,n,"internal-error"),e.abrupt("return",vc(r,new gf(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),xf.apply(this,arguments)}var _f=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];zi(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ne(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ji(qi().mark((function t(n,r){return qi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ji(qi().mark((function e(t){var n,r,i,a,o,u,s;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kf;case"linkViaPopup":case"linkViaRedirect":return wf;case"reauthViaPopup":case"reauthViaRedirect":return bf;default:Ko(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),If=new au(2e3,1e4);function Sf(e,t,n){return Ef.apply(this,arguments)}function Ef(){return Ef=ji(qi().mark((function e(t,n,r){var i,a,o;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cs(t),$o(t,n,Ys),a=yf(i,r),o=new Af(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Ef.apply(this,arguments)}function Tf(){return(Tf=ji(qi().mark((function e(t,n,r){var i,a,o;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $o((i=ba(t)).auth,n,Ys),a=yf(i.auth,r),o=new Af(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cf(e,t,n){return Nf.apply(this,arguments)}function Nf(){return(Nf=ji(qi().mark((function e(t,n,r){var i,a,o;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $o((i=ba(t)).auth,n,Ys),a=yf(i.auth,r),o=new Af(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Af=function(e){Di(n,e);var t=Fi(n);function n(e,r,i,a,o){var u;return zi(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=ae(u),u}return ne(n,[{key:"executeNotNull",value:function(){var e=ji(qi().mark((function e(){var t;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Jo(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ji(qi().mark((function e(){var t,n=this;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zo(1===this.filter.length,"Popup operations only handle one event"),t=xl(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ho(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ho(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ho(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,If.get())}()}}]),n}(_f);Af.currentPopupAction=null;var Rf=new Map,Pf=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return zi(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return ne(n,[{key:"execute",value:function(){var e=ji(qi().mark((function e(){var t,r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Rf.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Lf(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Li(Ri(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Rf.set(this.auth._key(),t);case 21:return this.bypassAuthState||Rf.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ji(qi().mark((function e(t){var r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Li(Ri(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Li(Ri(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(_f);function Lf(e,t){return Df.apply(this,arguments)}function Df(){return Df=ji(qi().mark((function e(t,n){var r,i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vf(n),i=Ff(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Df.apply(this,arguments)}function Of(e,t){return Mf.apply(this,arguments)}function Mf(){return Mf=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ff(t)._set(Vf(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Mf.apply(this,arguments)}function Ff(e){return tu(e._redirectPersistence)}function Vf(e){return Hu("pendingRedirect",e.config.apiKey,e.name)}function Uf(e,t,n){return function(e,t,n){return jf.apply(this,arguments)}(e,t,n)}function jf(){return jf=ji(qi().mark((function e(t,n,r){var i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cs(t),$o(t,n,Ys),a=yf(i,r),e.next=5,Of(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),jf.apply(this,arguments)}function zf(e,t,n){return function(e,t,n){return Bf.apply(this,arguments)}(e,t,n)}function Bf(){return(Bf=ji(qi().mark((function e(t,n,r){var i,a,o;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $o((i=ba(t)).auth,n,Ys),a=yf(i.auth,r),e.next=5,Of(a,i.auth);case 5:return e.next=7,$f(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qf(e,t,n){return function(e,t,n){return Wf.apply(this,arguments)}(e,t,n)}function Wf(){return(Wf=ji(qi().mark((function e(t,n,r){var i,a,o;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $o((i=ba(t)).auth,n,Ys),a=yf(i.auth,r),e.next=5,yc(!1,i,n.providerId);case 5:return e.next=7,Of(a,i.auth);case 7:return e.next=9,$f(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gf(e,t){return Kf.apply(this,arguments)}function Kf(){return Kf=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cs(t)._initializationPromise;case 2:return e.abrupt("return",Hf(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Kf.apply(this,arguments)}function Hf(e,t){return Qf.apply(this,arguments)}function Qf(){return Qf=ji(qi().mark((function e(t,n){var r,i,a,o,u,s=arguments;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=cs(t),a=yf(i,n),o=new Pf(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Qf.apply(this,arguments)}function $f(e){return Yf.apply(this,arguments)}function Yf(){return(Yf=ji(qi().mark((function e(t){var n;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xl("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jf=function(){function e(t){zi(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ne(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zf(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Zf(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ho(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xf(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Xf(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Xf(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Zf(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function eh(e){return th.apply(this,arguments)}function th(){return th=ji(qi().mark((function e(t){var n,r=arguments;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",fu(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),th.apply(this,arguments)}var nh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rh=/^https?/;function ih(){return ih=ji(qi().mark((function e(t){var n,r,i,a,o;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,eh(t);case 4:n=e.sent,r=n.authorizedDomains,i=Vi(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!ah(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Ko(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),ih.apply(this,arguments)}function ah(e){var t=nu(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!rh.test(r))return!1;if(nh.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var oh=new au(3e4,6e4);function uh(){var e=Il().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=en(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var sh=null;function ch(e){return sh=sh||function(e){return new Promise((function(t,n){var r,i,a;function o(){uh(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){uh(),n(Ho(e,"network-request-failed"))},timeout:oh.get()})}if(null===(i=null===(r=Il().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Il().gapi)||void 0===a?void 0:a.load)){var u=Hl("iframefcb");return Il()[u]=function(){gapi.load?o():n(Ho(e,"network-request-failed"))},Kl("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw sh=null,e}))}(e),sh}var lh=new au(5e3,15e3),fh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dh(e){var t=e.config;Jo(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ou(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ro},i=hh.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(pa(r).slice(1))}function ph(e){return vh.apply(this,arguments)}function vh(){return vh=ji(qi().mark((function e(t){var n,r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ch(t);case 2:return n=e.sent,Jo(r=Il().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:dh(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fh,dontclear:!0},(function(e){return new Promise(function(){var n=ji(qi().mark((function n(r,i){var a,o,u;return qi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Il().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ho(t,"network-request-failed"),o=Il().setTimeout((function(){i(a)}),lh.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),vh.apply(this,arguments)}var mh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yh="_blank",gh="http://localhost",kh=function(){function e(t){zi(this,e),this.window=t,this.associatedEvent=null}return ne(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function bh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},mh),{width:r.toString(),height:i.toString(),top:a,left:o}),c=ea().toLowerCase();n&&(u=Xu(c)?yh:n),Yu(c)&&(t=t||gh,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(is(c)&&"_self"!==u)return wh(t||"",u),new kh(null);var h=window.open(t||"",u,f);Jo(h,e,"popup-blocked");try{h.focus()}catch(d){}return new kh(h)}function wh(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var xh="__/auth/handler",_h="emulator/auth/handler";function Ih(e,t,n,r,i,a){Jo(e.config.authDomain,e,"auth-domain-config-required"),Jo(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ro,eventId:i};if(t instanceof Ys){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=l(s[u],2),f=c[0],h=c[1];o[f]=h}}if(t instanceof Js){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(xh);return ou(t,_h)}(e),"?").concat(pa(p).slice(1))}var Sh="webStorageSupport",Eh=function(){function e(){zi(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kl,this._completeRedirectFn=Hf}return ne(e,[{key:"_openPopup",value:function(){var e=ji(qi().mark((function e(t,n,r,i){var a,o;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zo(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Ih(t,n,r,nu(),i),e.abrupt("return",bh(t,o,xl()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ji(qi().mark((function e(t,n,r,i){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Ih(t,n,r,nu(),i),Il().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Zo(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ji(qi().mark((function e(t){var n,r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ph(t);case 2:return n=e.sent,r=new Jf(t),n.register("authEvent",(function(e){return Jo(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Sh,{type:Sh},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Ko(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ih.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return os()||Ju()||rs()}}]),e}(),Th=Eh,Ch=function(){function e(t){zi(this,e),this.factorId=t}return ne(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Xo("unexpected MultiFactorSessionType")}}}]),e}(),Nh=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return zi(this,n),(r=t.call(this,"phone")).credential=e,r}return ne(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return fu(e,"POST","/v2/accounts/mfaEnrollment:finalize",lu(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return fu(e,"POST","/v2/accounts/mfaSignIn:finalize",lu(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Ch),Ah=function(){function e(){zi(this,e)}return ne(e,null,[{key:"assertion",value:function(e){return Nh._fromCredential(e)}}]),e}();Ah.FACTOR_ID="phone";var Rh,Ph="@firebase/auth",Lh="0.19.11",Dh=function(){function e(t){zi(this,e),this.auth=t,this.internalListeners=new Map}return ne(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ji(qi().mark((function e(t){var n;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Jo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Oh(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function Mh(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Rh="Browser",Ya(new Ea("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Jo(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Jo(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Rh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:us(Rh)},i=new ss(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(tu);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ya(new Ea("auth-internal",(function(e){return function(e){return new Dh(e)}(cs(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),co(Ph,Lh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Rh)),co(Ph,Lh,"esm2017");var Fh,Vh=function(){return Vh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Vh.apply(this,arguments)},Uh=function(e){return{loading:void 0===e||null===e,value:e}},jh=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return Vh(Vh({},e),{error:t.error,loading:!1,value:void 0});case"reset":return Uh(t.defaultValue);case"value":return Vh(Vh({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),Uh(t)),r=n[0],a=n[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:s,value:r.value}}),[r.error,r.loading,o,u,s,r.value])},zh=function(e,t){var n=jh((function(){return e.currentUser})),r=n.error,a=n.loading,o=n.setError,u=n.setValue,s=n.value;(0,i.useEffect)((function(){var n=function(e,t,n,r){return ba(e).onAuthStateChanged(t,n,r)}(e,(function(e){return Oh(void 0,void 0,void 0,(function(){var n;return Mh(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){n()}}),[e]);var c=[s,a,r];return(0,i.useMemo)((function(){return c}),c)},Bh=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.component,o=void 0===a?"div":a,u=e.disableGutters,s=void 0!==u&&u,c=e.fixed,l=void 0!==c&&c,h=e.maxWidth,d=void 0===h?"lg":h,p=Q(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return i.createElement(o,f({className:Y(n.root,r,l&&n.fixed,s&&n.disableGutters,!1!==d&&n["maxWidth".concat(gi(String(d)))]),ref:t},p))})),qh=yi((function(e){return{root:xr({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,n){var r=e.breakpoints.values[n];return 0!==r&&(t[e.breakpoints.up(n)]={maxWidth:r}),t}),{}),maxWidthXs:xr({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:xr({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:xr({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:xr({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:xr({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(Bh),Wh="Loader_spinner__5ZV6S",Gh="Loader_title__x1liX",Kh=n(184),Hh=function(){return(0,Kh.jsx)(qh,{children:(0,Kh.jsx)(Ai,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:(0,Kh.jsxs)(Ai,{container:!0,alignItems:"center",direction:"column",children:[(0,Kh.jsxs)("div",{class:Wh,children:[(0,Kh.jsx)("div",{}),(0,Kh.jsx)("div",{}),(0,Kh.jsx)("div",{}),(0,Kh.jsx)("div",{}),(0,Kh.jsx)("div",{}),(0,Kh.jsx)("div",{}),(0,Kh.jsx)("div",{}),(0,Kh.jsx)("div",{}),(0,Kh.jsx)("div",{}),(0,Kh.jsx)("div",{}),(0,Kh.jsx)("div",{}),(0,Kh.jsx)("div",{})]}),(0,Kh.jsx)("h1",{class:Gh,children:"Loading..."})]})})})},Qh="Modal_modal__Q0tHe",$h="Modal_modalContent__FIGla",Yh="Modal_active__zFNT4",Jh=function(e){var t=e.children,n=e.visible,r=e.setVisible,a=(0,i.useContext)(OR).auth;l(zh(a),1)[0]&&r(!1);var o=[Qh];return n&&o.push(Yh),(0,Kh.jsx)("div",{className:o.join(" "),onClick:function(){return r(!1)},children:(0,Kh.jsx)("div",{className:$h,onClick:function(e){return e.stopPropagation()},children:t})})},Xh=function(){function e(t,n){var r=this;zi(this,e),this._delegate=t,this.firebase=n,Qa(t,new Ea("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return ne(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),uo(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wa;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wa;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Qa(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){$a(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Zh=(xr(Fh={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),xr(Fh,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Fh),ed=new sa("app-compat","Firebase",Zh);var td=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=io(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(fa(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:co,setLogLevel:fo,onLog:lo,apps:null,SDK_VERSION:ro,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ya(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ed.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Yi(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!fa(n,e=e||Wa))throw ed.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Xh);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Yi(n,e)},createSubscribe:ya,ErrorFactory:sa,deepExtend:Yi}),n}(),nd=new Ua("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){nd.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var rd=self.firebase.SDK_VERSION;rd&&rd.indexOf("LITE")>=0&&nd.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var id=td;!function(e){co("@firebase/app-compat","0.1.21",e)}();id.registerVersion("firebase","9.6.10","app-compat");var ad,od="Login_wrapper__X-1Gl",ud="Login_button__Ee92P",sd=function(e){var t=(0,i.useContext)(OR).auth,n=function(){var n=ji(qi().mark((function n(){var r,i;return qi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new id.auth.GoogleAuthProvider,n.next=3,t.signInWithPopup(r);case 3:i=n.sent,i.user,e(!1);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,Kh.jsx)("div",{children:(0,Kh.jsx)(qh,{children:(0,Kh.jsx)(Ai,{container:!0,style:{height:"auto"},alignItems:"center",justify:"center",children:(0,Kh.jsx)(Ai,{className:od,container:!0,justifyContent:"center",alignItems:"center",direction:"column",children:(0,Kh.jsx)("button",{className:ud,onClick:n,children:"Log in with Google"})})})})})},cd=["title","titleId"];function ld(){return ld=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ld.apply(this,arguments)}function fd(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hd(e,t){var n=e.title,r=e.titleId,a=fd(e,cd);return i.createElement("svg",ld({width:"256px",height:"230px",viewBox:"0 0 256 230",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,ad||(ad=i.createElement("g",null,i.createElement("path",{d:"M4.27808883,5.10765458 C17.5611059,0.324381379 43.8606094,-5.24148563 73.6923239,9.68083091 C81.7331183,14.1397798 89.3251622,19.7817984 95.8184471,26.0547876 C106.284534,24.1639158 117.066107,23.209301 128.009502,23.209301 C160.763534,23.209301 191.818434,31.7926756 215.453311,47.3738396 C227.685844,55.4506701 237.416252,65.0267354 244.358968,75.8436641 C252.084277,87.9014561 256.009484,100.857429 255.999983,114.758498 C255.999983,128.277449 252.084277,141.25178 244.349449,153.300733 C237.406733,164.127181 227.676325,173.693727 215.443792,181.770558 C191.818434,197.351722 160.763534,205.925578 127.999983,205.925578 C117.055908,205.925578 106.275015,204.970283 95.8089281,203.080091 C89.3156432,209.3524 81.7235994,214.995099 73.682805,219.454048 C43.8408916,234.376364 17.551587,228.809817 4.26856988,224.017025 C-0.0951895163,222.442318 -1.43260222,216.904328 1.78548336,213.572695 C11.1534916,203.872884 26.6523846,184.692196 22.8420843,167.258916 C8.03127548,152.088427 0,133.795722 0,114.385899 C0,95.339157 8.03127548,77.0464516 22.8516032,61.8664435 C26.6619036,44.4331635 11.1630106,25.2619949 1.79500231,15.5621832 C-1.43260222,12.2298702 -0.0856705647,6.68304107 4.27808883,5.10765458 Z M126.672769,48.7391292 C69.2041382,48.7391292 22.6129495,78.8890487 22.6129495,116.075513 C22.6129495,132.277449 31.4553757,147.152171 46.1995518,158.771411 C50.3538943,172.013632 47.9190824,186.945468 38.9039553,203.557398 C38.4742427,204.35971 38.0730868,205.161342 37.6338552,205.954134 C45.3693633,205.314325 53.189862,203.185479 61.1062301,199.299707 C67.0841317,195.938837 72.8138607,191.670947 77.7032022,186.954987 L77.7032022,186.954987 L86.6986115,178.276423 C99.0079758,181.589018 112.510609,183.422096 126.672769,183.422096 C184.14072,183.422096 230.731908,153.281695 230.741427,116.075513 C230.741427,78.8890487 184.14072,48.7391292 126.672769,48.7391292 Z M76.8818526,100.599738 C85.3523597,100.599738 92.2182436,107.435025 92.2182436,115.865416 C92.2182436,124.295808 85.3523597,131.131775 76.8818526,131.131775 C68.4120255,131.131775 61.5461416,124.295808 61.5461416,115.865416 C61.5461416,107.435025 68.4120255,100.599738 76.8818526,100.599738 Z M126.252575,100.599738 C134.722402,100.599738 141.588966,107.435025 141.588966,115.865416 C141.588966,124.295808 134.722402,131.131775 126.252575,131.131775 C117.782068,131.131775 110.916184,124.295808 110.916184,115.865416 C110.916184,107.435025 117.782068,100.599738 126.252575,100.599738 Z M175.622618,100.599738 C184.082926,100.599738 190.958329,107.435025 190.958329,115.865416 C190.958329,124.295808 184.092445,131.131775 175.622618,131.131775 C167.152111,131.131775 160.286227,124.295808 160.286227,115.865416 C160.286227,107.435025 167.152111,100.599738 175.622618,100.599738 Z"}))))}var dd=i.forwardRef(hd),pd=(n.p,"Navbar_toolbar__akvtw"),vd="Navbar_logo__yMqZ5",md="Navbar_title__6FCuJ",yd="Navbar_button__PL+v4",gd=function(){var e=l((0,i.useState)(!1),2),t=e[0],n=e[1],r=(0,i.useContext)(OR),a=r.auth,o=r.loading,u=l(zh(a),1)[0];return o?(0,Kh.jsx)(Hh,{}):(0,Kh.jsx)(xi,{color:"primary",position:"static",children:(0,Kh.jsxs)(Ii,{className:pd,color:"primary",children:[(0,Kh.jsx)(dd,{className:vd}),(0,Kh.jsx)("h1",{className:md,children:"MyChat"}),(0,Kh.jsx)(Ai,{container:!0,justify:"flex-end",children:u?(0,Kh.jsx)("button",{className:yd,onClick:function(){return a.signOut()},children:" Exit"}):(0,Kh.jsxs)("div",{children:[(0,Kh.jsx)("button",{className:yd,onClick:function(){return n(!0)},children:"Login"}),(0,Kh.jsx)(Jh,{visible:t,setVisible:n,children:(0,Kh.jsx)(sd,{})})]})})]})})},kd="/home",bd="/chat",wd="Home_wrapper__GhG5t",xd="Home_title__x7bA7",_d="Home_text__gJ+Lo",Id=function(){return(0,Kh.jsxs)(qh,{children:[(0,Kh.jsxs)(Ai,{container:!0,className:wd,justifyContent:"center",children:[(0,Kh.jsx)("h1",{className:xd,children:"dfddddd"}),(0,Kh.jsx)("div",{className:_d,children:"LoremLLoremLoremLLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremoremLoremLoremLoremLLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremoremLoremLoremLoremLLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremoremLoremLoremLoremLLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremoremLoremLoremLoremLLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremoremLoremLoremLoremLLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremoremLoremLoremLoremLLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremoremLoremLoremLoremLLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremLoremoremLoremLorem"})]}),(0,Kh.jsx)(Hh,{})]})},Sd=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,o=e.color,u=void 0===o?"inherit":o,s=e.component,c=void 0===s?"svg":s,l=e.fontSize,h=void 0===l?"medium":l,d=e.htmlColor,p=e.titleAccess,v=e.viewBox,m=void 0===v?"0 0 24 24":v,y=Q(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return i.createElement(c,f({className:Y(r.root,a,"inherit"!==u&&r["color".concat(gi(u))],"default"!==h&&"medium"!==h&&r["fontSize".concat(gi(h))]),focusable:"false",viewBox:m,color:d,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:t},y),n,p?i.createElement("title",null,p):null)}));Sd.muiName="SvgIcon";var Ed=yi((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(Sd);var Td=function(e,t){var n=function(t,n){return i.createElement(Ed,f({ref:n},t),e)};return n.muiName=Ed.muiName,i.memo(i.forwardRef(n))}(i.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));var Cd,Nd=i.forwardRef((function(e,t){var n=e.alt,r=e.children,a=e.classes,o=e.className,u=e.component,s=void 0===u?"div":u,c=e.imgProps,l=e.sizes,h=e.src,d=e.srcSet,p=e.variant,v=void 0===p?"circular":p,m=Q(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),y=null,g=function(e){var t=e.src,n=e.srcSet,r=i.useState(!1),a=r[0],o=r[1];return i.useEffect((function(){if(t||n){o(!1);var e=!0,r=new Image;return r.src=t,r.srcSet=n,r.onload=function(){e&&o("loaded")},r.onerror=function(){e&&o("error")},function(){e=!1}}}),[t,n]),a}({src:h,srcSet:d}),k=h||d,b=k&&"error"!==g;return y=b?i.createElement("img",f({alt:n,src:h,srcSet:d,sizes:l,className:a.img},c)):null!=r?r:k&&n?n[0]:i.createElement(Td,{className:a.fallback}),i.createElement(s,f({className:Y(a.root,a.system,a[v],o,!b&&a.colorDefault),ref:t},m),y)})),Ad=yi((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(Nd),Rd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Pd={},Ld=Ld||{},Dd=Rd||self;function Od(){}function Md(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Fd(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Vd="closure_uid_"+(1e9*Math.random()>>>0),Ud=0;function jd(e,t,n){return e.call.apply(e.bind,arguments)}function zd(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Bd(e,t,n){return(Bd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jd:zd).apply(null,arguments)}function qd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Wd(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Gd(){this.s=this.s,this.o=this.o}var Kd={};Gd.prototype.s=!1,Gd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Vd)&&e[Vd]||(e[Vd]=++Ud)}(this);delete Kd[e]}},Gd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Hd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Qd=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function $d(e){return Array.prototype.concat.apply([],arguments)}function Yd(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Jd(e){return/^[\s\xa0]*$/.test(e)}var Xd,Zd=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ep(e,t){return-1!=e.indexOf(t)}function tp(e,t){return e<t?-1:e>t?1:0}e:{var np=Dd.navigator;if(np){var rp=np.userAgent;if(rp){Xd=rp;break e}}Xd=""}function ip(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ap(e){var t={};for(var n in e)t[n]=e[n];return t}var op="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function up(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<op.length;a++)n=op[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function sp(e){return sp[" "](e),e}sp[" "]=Od;var cp,lp=ep(Xd,"Opera"),fp=ep(Xd,"Trident")||ep(Xd,"MSIE"),hp=ep(Xd,"Edge"),dp=hp||fp,pp=ep(Xd,"Gecko")&&!(ep(Xd.toLowerCase(),"webkit")&&!ep(Xd,"Edge"))&&!(ep(Xd,"Trident")||ep(Xd,"MSIE"))&&!ep(Xd,"Edge"),vp=ep(Xd.toLowerCase(),"webkit")&&!ep(Xd,"Edge");function mp(){var e=Dd.document;return e?e.documentMode:void 0}e:{var yp="",gp=function(){var e=Xd;return pp?/rv:([^\);]+)(\)|;)/.exec(e):hp?/Edge\/([\d\.]+)/.exec(e):fp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):vp?/WebKit\/(\S+)/.exec(e):lp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(gp&&(yp=gp?gp[1]:""),fp){var kp=mp();if(null!=kp&&kp>parseFloat(yp)){cp=String(kp);break e}}cp=yp}var bp,wp={};function xp(){return function(e){var t=wp;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Zd(String(cp)).split("."),n=Zd("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=tp(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||tp(0==a[2].length,0==o[2].length)||tp(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Dd.document&&fp){var _p=mp();bp=_p||(parseInt(cp,10)||void 0)}else bp=void 0;var Ip=bp,Sp=function(){if(!Dd.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Dd.addEventListener("test",Od,t),Dd.removeEventListener("test",Od,t)}catch(n){}return e}();function Ep(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Tp(e,t){if(Ep.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(pp){e:{try{sp(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Cp[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Tp.Z.h.call(this)}}Ep.prototype.h=function(){this.defaultPrevented=!0},Wd(Tp,Ep);var Cp={2:"touch",3:"pen",4:"mouse"};Tp.prototype.h=function(){Tp.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Np="closure_listenable_"+(1e6*Math.random()|0),Ap=0;function Rp(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ap,this.ca=this.fa=!1}function Pp(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Lp(e){this.src=e,this.g={},this.h=0}function Dp(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Hd(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Pp(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Op(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Lp.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Op(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Rp(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Mp="closure_lm_"+(1e6*Math.random()|0),Fp={};function Vp(e,t,n,r,i){if(r&&r.once)return jp(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Vp(e,t[a],n,r,i);return null}return n=Hp(n),e&&e[Np]?e.N(t,n,Fd(r)?!!r.capture:!!r,i):Up(e,t,n,!1,r,i)}function Up(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Fd(i)?!!i.capture:!!i,u=Gp(e);if(u||(e[Mp]=u=new Lp(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Wp;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Sp||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(qp(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function jp(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)jp(e,t[a],n,r,i);return null}return n=Hp(n),e&&e[Np]?e.O(t,n,Fd(r)?!!r.capture:!!r,i):Up(e,t,n,!0,r,i)}function zp(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)zp(e,t[a],n,r,i);else r=Fd(r)?!!r.capture:!!r,n=Hp(n),e&&e[Np]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Op(a=e.g[t],n,r,i))&&(Pp(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Gp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Op(t,n,r,i)),(n=-1<e?t[e]:null)&&Bp(n))}function Bp(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Np])Dp(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(qp(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Gp(t))?(Dp(n,e),0==n.h&&(n.src=null,t[Mp]=null)):Pp(e)}}}function qp(e){return e in Fp?Fp[e]:Fp[e]="on"+e}function Wp(e,t){if(e.ca)e=!0;else{t=new Tp(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Bp(e),e=n.call(r,t)}return e}function Gp(e){return(e=e[Mp])instanceof Lp?e:null}var Kp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hp(e){return"function"===typeof e?e:(e[Kp]||(e[Kp]=function(t){return e.handleEvent(t)}),e[Kp])}function Qp(){Gd.call(this),this.i=new Lp(this),this.P=this,this.I=null}function $p(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Ep(t,e);else if(t instanceof Ep)t.target=t.target||e;else{var i=t;up(t=new Ep(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Yp(o,r,!0,t)&&i}if(i=Yp(o=t.g=e,r,!0,t)&&i,i=Yp(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Yp(o=t.g=n[a],r,!1,t)&&i}function Yp(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Dp(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Wd(Qp,Gd),Qp.prototype[Np]=!0,Qp.prototype.removeEventListener=function(e,t,n,r){zp(this,e,t,n,r)},Qp.prototype.M=function(){if(Qp.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Pp(n[r]);delete t.g[e],t.h--}}this.I=null},Qp.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Qp.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Jp=Dd.JSON.stringify;function Xp(){var e=ov,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Zp,ev=function(){function e(){zi(this,e),this.h=this.g=null}return ne(e,[{key:"add",value:function(e,t){var n=tv.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),tv=new(function(){function e(t,n){zi(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ne(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new nv}),(function(e){return e.reset()})),nv=function(){function e(){zi(this,e),this.next=this.g=this.h=null}return ne(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function rv(e){Dd.setTimeout((function(){throw e}),0)}function iv(e,t){Zp||function(){var e=Dd.Promise.resolve(void 0);Zp=function(){e.then(uv)}}(),av||(Zp(),av=!0),ov.add(e,t)}var av=!1,ov=new ev;function uv(){for(var e;e=Xp();){try{e.h.call(e.g)}catch(n){rv(n)}var t=tv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}av=!1}function sv(e,t){Qp.call(this),this.h=e||1,this.g=t||Dd,this.j=Bd(this.kb,this),this.l=Date.now()}function cv(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function lv(e,t,n){if("function"===typeof e)n&&(e=Bd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Bd(e.handleEvent,e)}return 2147483647<Number(t)?-1:Dd.setTimeout(e,t||0)}function fv(e){e.g=lv((function(){e.g=null,e.i&&(e.i=!1,fv(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Wd(sv,Qp),(Cd=sv.prototype).da=!1,Cd.S=null,Cd.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),$p(this,"tick"),this.da&&(cv(this),this.start()))}},Cd.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Cd.M=function(){sv.Z.M.call(this),cv(this),delete this.g};var hv=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return zi(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return ne(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:fv(this)}},{key:"M",value:function(){Li(Ri(n.prototype),"M",this).call(this),this.g&&(Dd.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Gd);function dv(e){Gd.call(this),this.h=e,this.g={}}Wd(dv,Gd);var pv=[];function vv(e,t,n,r){Array.isArray(n)||(n&&(pv[0]=n.toString()),n=pv);for(var i=0;i<n.length;i++){var a=Vp(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function mv(e){ip(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Bp(e)}),e),e.g={}}function yv(){this.g=!0}function gv(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Jp(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}dv.prototype.M=function(){dv.Z.M.call(this),mv(this)},dv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yv.prototype.Aa=function(){this.g=!1},yv.prototype.info=function(){};var kv={},bv=null;function wv(){return bv=bv||new Qp}function xv(e){Ep.call(this,kv.Ma,e)}function _v(e){var t=wv();$p(t,new xv(t,e))}function Iv(e,t){Ep.call(this,kv.STAT_EVENT,e),this.stat=t}function Sv(e){var t=wv();$p(t,new Iv(t,e))}function Ev(e,t){Ep.call(this,kv.Na,e),this.size=t}function Tv(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Dd.setTimeout((function(){e()}),t)}kv.Ma="serverreachability",Wd(xv,Ep),kv.STAT_EVENT="statevent",Wd(Iv,Ep),kv.Na="timingevent",Wd(Ev,Ep);var Cv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Nv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Av(){}function Rv(e){return e.h||(e.h=e.i())}function Pv(){}Av.prototype.h=null;var Lv,Dv={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ov(){Ep.call(this,"d")}function Mv(){Ep.call(this,"c")}function Fv(){}function Vv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new dv(this),this.P=jv,e=dp?125:void 0,this.W=new sv(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Uv}function Uv(){this.i=null,this.g="",this.h=!1}Wd(Ov,Ep),Wd(Mv,Ep),Wd(Fv,Av),Fv.prototype.g=function(){return new XMLHttpRequest},Fv.prototype.i=function(){return{}},Lv=new Fv;var jv=45e3,zv={},Bv={};function qv(e,t,n){e.K=1,e.v=hm(om(t)),e.s=n,e.U=!0,Wv(e,null)}function Wv(e,t){e.F=Date.now(),Qv(e),e.A=om(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Sm(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Uv,e.g=Ty(e.l,n?t:null,!e.s),0<e.O&&(e.L=new hv(Bd(e.Ia,e,e.g),e.O)),vv(e.V,e.g,"readystatechange",e.gb),t=e.H?ap(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),_v(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Gv(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Kv(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Hv(e,n))==Bv){4==t&&(e.o=4,Sv(14),i=!1),gv(e.j,e.m,null,"[Incomplete Response]");break}if(r==zv){e.o=4,Sv(15),gv(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}gv(e.j,e.m,r,null),Zv(e,r)}Gv(e)&&r!=Bv&&r!=zv&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Sv(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ky(t),t.L=!0,Sv(11))):(gv(e.j,e.m,n,"[Invalid Chunked Response]"),Xv(e),Jv(e))}function Hv(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Bv:(n=Number(t.substring(n,r)),isNaN(n)?zv:(r+=1)+n>t.length?Bv:(t=t.substr(r,n),e.C=r+n,t))}function Qv(e){e.Y=Date.now()+e.P,$v(e,e.P)}function $v(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Tv(Bd(e.eb,e),t)}function Yv(e){e.B&&(Dd.clearTimeout(e.B),e.B=null)}function Jv(e){0==e.l.G||e.I||xy(e.l,e)}function Xv(e){Yv(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,cv(e.W),mv(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Zv(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Lm(n.i,e)))if(n.I=e.N,!e.J&&Lm(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;wy(n),ly(n)}gy(n),Sv(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Tv(Bd(n.ab,n),6e3));if(1>=Pm(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Iy(n,11)}else if((e.J||n.g==e)&&wy(n),!Jd(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(ep(l,"spdy")||ep(l,"quic")||ep(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Dm(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,fm(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Ey(r,r.H?r.la:null,r.W),d.J){Om(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Yv(p),Qv(p)),r.g=d}else yy(r);0<n.l.length&&dy(n)}else"stop"!=a[0]&&"close"!=a[0]||Iy(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Iy(n,7):cy(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}_v(4)}catch(a){}}function em(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Md(e)||"string"===typeof e)Qd(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Md(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Md(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function tm(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof tm)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function nm(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];rm(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)rm(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function rm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Cd=Vv.prototype).setTimeout=function(e){this.P=e},Cd.gb=function(e){e=e.target;var t=this.L;t&&3==iy(e)?t.l():this.Ia(e)},Cd.Ia=function(e){try{if(e==this.g)e:{var t=iy(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||dp||this.g&&(this.h.h||this.g.ga()||ay(this.g)))){this.I||4!=t||7==n||_v(8==n||0>=r?3:2),Yv(this);var i=this.g.ba();this.N=i;t:if(Gv(this)){var a=ay(this.g);e="";var o=a.length,u=4==iy(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Xv(this),Jv(this);var s="";break t}this.h.i=new Dd.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jd(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Sv(12),Xv(this),Jv(this);break e}gv(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Zv(this,i)}this.U?(Kv(this,t,s),dp&&this.i&&3==t&&(vv(this.V,this.W,"tick",this.fb),this.W.start())):(gv(this.j,this.m,s,null),Zv(this,s)),4==t&&Xv(this),this.i&&!this.I&&(4==t?xy(this.l,this):(this.i=!1,Qv(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Sv(12)):(this.o=0,Sv(13)),Xv(this),Jv(this)}}}catch(t){}},Cd.fb=function(){if(this.g){var e=iy(this.g),t=this.g.ga();this.C<t.length&&(Yv(this),Kv(this,e,t),this.i&&4!=e&&Qv(this))}},Cd.cancel=function(){this.I=!0,Xv(this)},Cd.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(_v(3),Sv(17)),Xv(this),this.o=2,Jv(this)):$v(this,this.Y-e)},(Cd=tm.prototype).R=function(){nm(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Cd.T=function(){return nm(this),this.g.concat()},Cd.get=function(e,t){return rm(this.h,e)?this.h[e]:t},Cd.set=function(e,t){rm(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Cd.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var im=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function am(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof am){this.g=void 0!==t?t:e.g,um(this,e.j),this.s=e.s,sm(this,e.i),cm(this,e.m),this.l=e.l,t=e.h;var n=new wm;n.i=t.i,t.g&&(n.g=new tm(t.g),n.h=t.h),lm(this,n),this.o=e.o}else e&&(n=String(e).match(im))?(this.g=!!t,um(this,n[1]||"",!0),this.s=dm(n[2]||""),sm(this,n[3]||"",!0),cm(this,n[4]),this.l=dm(n[5]||"",!0),lm(this,n[6]||"",!0),this.o=dm(n[7]||"")):(this.g=!!t,this.h=new wm(null,this.g))}function om(e){return new am(e)}function um(e,t,n){e.j=n?dm(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function sm(e,t,n){e.i=n?dm(t,!0):t}function cm(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function lm(e,t,n){t instanceof wm?(e.h=t,function(e,t){t&&!e.j&&(xm(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_m(this,t),Sm(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=pm(t,km)),e.h=new wm(t,e.g))}function fm(e,t,n){e.h.set(t,n)}function hm(e){return fm(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dm(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pm(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,vm),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function vm(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}am.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pm(t,mm,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(pm(t,mm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(pm(n,"/"==n.charAt(0)?gm:ym,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",pm(n,bm)),e.join("")};var mm=/[#\/\?@]/g,ym=/[#\?:]/g,gm=/[#\?]/g,km=/[#\?@]/g,bm=/#/g;function wm(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xm(e){e.g||(e.g=new tm,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _m(e,t){xm(e),t=Em(e,t),rm(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,rm((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&nm(e)))}function Im(e,t){return xm(e),t=Em(e,t),rm(e.g.h,t)}function Sm(e,t,n){_m(e,t),0<n.length&&(e.i=null,e.g.set(Em(e,t),Yd(n)),e.h+=n.length)}function Em(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Cd=wm.prototype).add=function(e,t){xm(this),this.i=null,e=Em(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Cd.forEach=function(e,t){xm(this),this.g.forEach((function(n,r){Qd(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Cd.T=function(){xm(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Cd.R=function(e){xm(this);var t=[];if("string"===typeof e)Im(this,e)&&(t=$d(t,this.g.get(Em(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=$d(t,e[n])}return t},Cd.set=function(e,t){return xm(this),this.i=null,Im(this,e=Em(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Cd.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Cd.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Tm=ne((function e(t,n){zi(this,e),this.h=t,this.g=n}));function Cm(e){this.l=e||Am,Dd.PerformanceNavigationTiming?e=0<(e=Dd.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Dd.g&&Dd.g.Ea&&Dd.g.Ea()&&Dd.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Nm,Am=10;function Rm(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Pm(e){return e.h?1:e.g?e.g.size:0}function Lm(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Dm(e,t){e.g?e.g.add(t):e.h=t}function Om(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Mm(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Vi(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Yd(e.i)}function Fm(){}function Vm(){this.g=new Fm}function Um(e,t,n){var r=n||"";try{em(e,(function(e,n){var i=e;Fd(e)&&(i=Jp(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function jm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function zm(e){this.l=e.$b||null,this.j=e.ib||!1}function Bm(e,t){Qp.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=qm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Cm.prototype.cancel=function(){if(this.i=Mm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Vi(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Fm.prototype.stringify=function(e){return Dd.JSON.stringify(e,void 0)},Fm.prototype.parse=function(e){return Dd.JSON.parse(e,void 0)},Wd(zm,Av),zm.prototype.g=function(){return new Bm(this.l,this.j)},zm.prototype.i=(Nm={},function(){return Nm}),Wd(Bm,Qp);var qm=0;function Wm(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Gm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Km(e)}function Km(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Cd=Bm.prototype).open=function(e,t){if(this.readyState!=qm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Km(this)},Cd.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Dd).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Cd.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gm(this)),this.readyState=qm},Cd.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Km(this)),this.g&&(this.readyState=3,Km(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Dd.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wm(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Cd.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Gm(this):Km(this),3==this.readyState&&Wm(this)}},Cd.Ua=function(e){this.g&&(this.response=this.responseText=e,Gm(this))},Cd.Ta=function(e){this.g&&(this.response=e,Gm(this))},Cd.ha=function(){this.g&&Gm(this)},Cd.setRequestHeader=function(e,t){this.v.append(e,t)},Cd.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Cd.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Bm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Hm=Dd.JSON.parse;function Qm(e){Qp.call(this),this.headers=new tm,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$m,this.K=this.L=!1}Wd(Qm,Qp);var $m="",Ym=/^https?$/i,Jm=["POST","PUT"];function Xm(e){return"content-type"==e.toLowerCase()}function Zm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ey(e),ny(e)}function ey(e){e.D||(e.D=!0,$p(e,"complete"),$p(e,"error"))}function ty(e){if(e.h&&"undefined"!=typeof Ld&&(!e.C[1]||4!=iy(e)||2!=e.ba()))if(e.v&&4==iy(e))lv(e.Fa,0,e);else if($p(e,"readystatechange"),4==iy(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(im)[1]||null;if(!a&&Dd.self&&Dd.self.location){var o=Dd.self.location.protocol;a=o.substr(0,o.length-1)}i=!Ym.test(a?a.toLowerCase():"")}t=i}if(t)$p(e,"complete"),$p(e,"success");else{e.m=6;try{var u=2<iy(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",ey(e)}}finally{ny(e)}}}function ny(e,t){if(e.g){ry(e);var n=e.g,r=e.C[0]?Od:null;e.g=null,e.C=null,t||$p(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function ry(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Dd.clearTimeout(e.A),e.A=null)}function iy(e){return e.g?e.g.readyState:0}function ay(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case $m:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function oy(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return ip(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):fm(e,t,n))}function uy(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function sy(e){this.za=0,this.l=[],this.h=new yv,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=uy("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=uy("baseRetryDelayMs",5e3,e),this.$a=uy("retryDelaySeedMs",1e4,e),this.Ya=uy("forwardChannelMaxRetries",2,e),this.ra=uy("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Cm(e&&e.concurrentRequestLimit),this.Ca=new Vm,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function cy(e){if(fy(e),3==e.G){var t=e.V++,n=om(e.F);fm(n,"SID",e.J),fm(n,"RID",t),fm(n,"TYPE","terminate"),vy(e,n),(t=new Vv(e,e.h,t,void 0)).K=2,t.v=hm(om(n)),n=!1,Dd.navigator&&Dd.navigator.sendBeacon&&(n=Dd.navigator.sendBeacon(t.v.toString(),"")),!n&&Dd.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ty(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Qv(t)}Sy(e)}function ly(e){e.g&&(ky(e),e.g.cancel(),e.g=null)}function fy(e){ly(e),e.u&&(Dd.clearTimeout(e.u),e.u=null),wy(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Dd.clearTimeout(e.m),e.m=null)}function hy(e,t){e.l.push(new Tm(e.Za++,t)),3==e.G&&dy(e)}function dy(e){Rm(e.i)||e.m||(e.m=!0,iv(e.Ha,e),e.C=0)}function py(e,t){var n;n=t?t.m:e.V++;var r=om(e.F);fm(r,"SID",e.J),fm(r,"RID",n),fm(r,"AID",e.U),vy(e,r),e.o&&e.s&&oy(r,e.o,e.s),n=new Vv(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=my(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Dm(e.i,n),qv(n,r,t)}function vy(e,t){e.j&&em({},(function(e,n){fm(t,n,e)}))}function my(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Bd(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Um(l,o,"req"+c+"_")}catch(eg){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function yy(e){e.g||e.u||(e.Y=1,iv(e.Ga,e),e.A=0)}function gy(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Tv(Bd(e.Ga,e),_y(e,e.A)),e.A++,!0)}function ky(e){null!=e.B&&(Dd.clearTimeout(e.B),e.B=null)}function by(e){e.g=new Vv(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=om(e.oa);fm(t,"RID","rpc"),fm(t,"SID",e.J),fm(t,"CI",e.N?"0":"1"),fm(t,"AID",e.U),vy(e,t),fm(t,"TYPE","xmlhttp"),e.o&&e.s&&oy(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=hm(om(t)),n.s=null,n.U=!0,Wv(n,e)}function wy(e){null!=e.v&&(Dd.clearTimeout(e.v),e.v=null)}function xy(e,t){var n=null;if(e.g==t){wy(e),ky(e),e.g=null;var r=2}else{if(!Lm(e.i,t))return;n=t.D,Om(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;$p(r=wv(),new Ev(r,n,t,i)),dy(e)}else yy(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Pm(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Tv(Bd(e.Ha,e,t),_y(e,e.C)),e.C++,!0))}(e,t)||2==r&&gy(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Iy(e,5);break;case 4:Iy(e,10);break;case 3:Iy(e,6);break;default:Iy(e,2)}}function _y(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Iy(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Bd(e.jb,e);n||(n=new am("//www.google.com/images/cleardot.gif"),Dd.location&&"http"==Dd.location.protocol||um(n,"https"),hm(n)),function(e,t){var n=new yv;if(Dd.Image){var r=new Image;r.onload=qd(jm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=qd(jm,n,r,"TestLoadImage: error",!1,t),r.onabort=qd(jm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=qd(jm,n,r,"TestLoadImage: timeout",!1,t),Dd.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Sv(2);e.G=0,e.j&&e.j.va(t),Sy(e),fy(e)}function Sy(e){e.G=0,e.I=-1,e.j&&(0==Mm(e.i).length&&0==e.l.length||(e.i.i.length=0,Yd(e.l),e.l.length=0),e.j.ua())}function Ey(e,t,n){var r=function(e){return e instanceof am?om(e):new am(e,void 0)}(n);if(""!=r.i)t&&sm(r,t+"."+r.i),cm(r,r.m);else{var i=Dd.location;r=function(e,t,n,r){var i=new am(null,void 0);return e&&um(i,e),t&&sm(i,t),n&&cm(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&ip(e.aa,(function(e,t){fm(r,t,e)})),t=e.D,n=e.sa,t&&n&&fm(r,t,n),fm(r,"VER",e.ma),vy(e,r),r}function Ty(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Qm(new zm({ib:!0})):new Qm(e.qa)).L=e.H,t}function Cy(){}function Ny(){if(fp&&!(10<=Number(Ip)))throw Error("Environmental error: no available transport.")}function Ay(e,t){Qp.call(this),this.g=new sy(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Jd(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Jd(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ly(this)}function Ry(e){Ov.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Py(){Mv.call(this),this.status=1}function Ly(e){this.g=e}(Cd=Qm.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Lv.g(),this.C=this.u?Rv(this.u):Rv(Lv),this.g.onreadystatechange=Bd(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Zm(this,a)}e=n||"";var i=new tm(this.headers);r&&em(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Xm,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Dd.FormData&&e instanceof Dd.FormData,!(0<=Hd(Jm,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ry(this),0<this.B&&((this.K=function(e){return fp&&xp()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bd(this.pa,this)):this.A=lv(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Zm(this,a)}},Cd.pa=function(){"undefined"!=typeof Ld&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$p(this,"timeout"),this.abort(8))},Cd.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,$p(this,"complete"),$p(this,"abort"),ny(this))},Cd.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ny(this,!0)),Qm.Z.M.call(this)},Cd.Fa=function(){this.s||(this.F||this.v||this.l?ty(this):this.cb())},Cd.cb=function(){ty(this)},Cd.ba=function(){try{return 2<iy(this)?this.g.status:-1}catch(Nm){return-1}},Cd.ga=function(){try{return this.g?this.g.responseText:""}catch(Nm){return""}},Cd.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Hm(t)}},Cd.Da=function(){return this.m},Cd.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Cd=sy.prototype).ma=8,Cd.G=1,Cd.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Cd.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Vv(this,this.h,e,void 0),n=this.s;if(this.P&&(n?up(n=ap(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=my(this,t,r),fm(i=om(this.F),"RID",e),fm(i,"CVER",22),this.D&&fm(i,"X-HTTP-Session-Id",this.D),vy(this,i),this.o&&n&&oy(i,this.o,n),Dm(this.i,t),this.Ra&&fm(i,"TYPE","init"),this.ja?(fm(i,"$req",r),fm(i,"SID","null"),t.$=!0,qv(t,i,null)):qv(t,i,r),this.G=2}}else 3==this.G&&(e?py(this,e):0==this.l.length||Rm(this.i)||py(this))},Cd.Ga=function(){if(this.u=null,by(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Tv(Bd(this.bb,this),e)}},Cd.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Sv(10),ly(this),by(this))},Cd.ab=function(){null!=this.v&&(this.v=null,ly(this),gy(this),Sv(19))},Cd.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Sv(2)):(this.h.info("Failed to ping google.com"),Sv(1))},(Cd=Cy.prototype).xa=function(){},Cd.wa=function(){},Cd.va=function(){},Cd.ua=function(){},Cd.Oa=function(){},Ny.prototype.g=function(e,t){return new Ay(e,t)},Wd(Ay,Qp),Ay.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),iv(Bd(e.hb,e,t))),Sv(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Ey(e,null,e.W),dy(e)},Ay.prototype.close=function(){cy(this.g)},Ay.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,hy(this.g,t)}else this.v?((t={}).__data__=Jp(e),hy(this.g,t)):hy(this.g,e)},Ay.prototype.M=function(){this.g.j=null,delete this.j,cy(this.g),delete this.g,Ay.Z.M.call(this)},Wd(Ry,Ov),Wd(Py,Mv),Wd(Ly,Cy),Ly.prototype.xa=function(){$p(this.g,"a")},Ly.prototype.wa=function(e){$p(this.g,new Ry(e))},Ly.prototype.va=function(e){$p(this.g,new Py(e))},Ly.prototype.ua=function(){$p(this.g,"b")},Ny.prototype.createWebChannel=Ny.prototype.g,Ay.prototype.send=Ay.prototype.u,Ay.prototype.open=Ay.prototype.m,Ay.prototype.close=Ay.prototype.close,Cv.NO_ERROR=0,Cv.TIMEOUT=8,Cv.HTTP_ERROR=6,Nv.COMPLETE="complete",Pv.EventType=Dv,Dv.OPEN="a",Dv.CLOSE="b",Dv.ERROR="c",Dv.MESSAGE="d",Qp.prototype.listen=Qp.prototype.N,Qm.prototype.listenOnce=Qm.prototype.O,Qm.prototype.getLastError=Qm.prototype.La,Qm.prototype.getLastErrorCode=Qm.prototype.Da,Qm.prototype.getStatus=Qm.prototype.ba,Qm.prototype.getResponseJson=Qm.prototype.Qa,Qm.prototype.getResponseText=Qm.prototype.ga,Qm.prototype.send=Qm.prototype.ea;var Dy=Pd.createWebChannelTransport=function(){return new Ny},Oy=Pd.getStatEventTarget=function(){return wv()},My=Pd.ErrorCode=Cv,Fy=Pd.EventType=Nv,Vy=Pd.Event=kv,Uy=Pd.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},jy=Pd.FetchXmlHttpFactory=zm,zy=Pd.WebChannel=Pv,By=Pd.XhrIo=Qm,qy="@firebase/firestore",Wy=function(){function e(t){zi(this,e),this.uid=t}return ne(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Wy.UNAUTHENTICATED=new Wy(null),Wy.GOOGLE_CREDENTIALS=new Wy("google-credentials-uid"),Wy.FIRST_PARTY=new Wy("first-party-uid"),Wy.MOCK_USER=new Wy("mock-user");var Gy="9.6.10",Ky=new Ua("@firebase/firestore");function Hy(){return Ky.logLevel}function Qy(e){if(Ky.logLevel<=Aa.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Jy);Ky.debug.apply(Ky,["Firestore (".concat(Gy,"): ").concat(e)].concat(en(i)))}}function $y(e){if(Ky.logLevel<=Aa.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Jy);Ky.error.apply(Ky,["Firestore (".concat(Gy,"): ").concat(e)].concat(en(i)))}}function Yy(e){if(Ky.logLevel<=Aa.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Jy);Ky.warn.apply(Ky,["Firestore (".concat(Gy,"): ").concat(e)].concat(en(i)))}}function Jy(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Xy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Gy,") INTERNAL ASSERTION FAILED: ")+e;throw $y(t),new Error(t)}function Zy(e,t){e||Xy()}function eg(e,t){return e}var tg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ng=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return zi(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return ne(n)}(ua),rg=ne((function e(){var t=this;zi(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ig=ne((function e(t,n){zi(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),ag=function(){function e(){zi(this,e)}return ne(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Wy.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),og=function(){function e(t){zi(this,e),this.token=t,this.changeListener=null}return ne(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),ug=function(){function e(t){zi(this,e),this.t=t,this.currentUser=Wy.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ne(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new rg;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new rg,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Qy("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Qy("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new rg)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Qy("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Zy("string"==typeof n.accessToken),new ig(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Zy(null===e||"string"==typeof e),new Wy(e)}}]),e}(),sg=ne((function e(t,n,r){zi(this,e),this.type="FirstParty",this.user=Wy.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),cg=function(){function e(t,n,r){zi(this,e),this.h=t,this.l=n,this.m=r}return ne(e,[{key:"getToken",value:function(){return Promise.resolve(new sg(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Wy.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),lg=ne((function e(t){zi(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),fg=function(){function e(t){zi(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return ne(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Qy("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Qy("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Qy("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Qy("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Zy("string"==typeof t.token),e.p=t.token,new lg(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),hg=function(){function e(t,n){var r=this;zi(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return ne(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function dg(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}hg.A=-1;var pg=function(){function e(){zi(this,e)}return ne(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=dg(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function vg(e,t){return e<t?-1:e>t?1:0}function mg(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function yg(e){return e+"\0"}var gg=function(){function e(t,n){if(zi(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new ng(tg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ng(tg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ng(tg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ng(tg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ne(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?vg(this.nanoseconds,e.nanoseconds):vg(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),kg=function(){function e(t){zi(this,e),this.timestamp=t}return ne(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new gg(0,0))}},{key:"max",value:function(){return new e(new gg(253402300799,999999999))}}]),e}();function bg(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wg(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function xg(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var _g=function(){function e(t,n,r){zi(this,e),void 0===n?n=0:n>t.length&&Xy(),void 0===r?r=t.length-n:r>t.length-n&&Xy(),this.segments=t,this.offset=n,this.len=r}return ne(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Ig=function(e){Di(n,e);var t=Fi(n);function n(){return zi(this,n),t.apply(this,arguments)}return ne(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new ng(tg.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,en(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(_g),Sg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Eg=function(e){Di(n,e);var t=Fi(n);function n(){return zi(this,n),t.apply(this,arguments)}return ne(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Sg.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new ng(tg.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new ng(tg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new ng(tg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new ng(tg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(_g),Tg=function(){function e(t){zi(this,e),this.fields=t,t.sort(Eg.comparator)}return ne(e,[{key:"covers",value:function(e){var t,n=Vi(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return mg(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Cg=function(e){function t(e){zi(this,t),this.binaryString=e}return ne(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return vg(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Cg.EMPTY_BYTE_STRING=new Cg("");var Ng=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ag(e){if(Zy(!!e),"string"==typeof e){var t=0,n=Ng.exec(e);if(Zy(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Rg(e.seconds),nanos:Rg(e.nanos)}}function Rg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Pg(e){return"string"==typeof e?Cg.fromBase64String(e):Cg.fromUint8Array(e)}function Lg(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Dg(e){var t=e.mapValue.fields.__previous_value__;return Lg(t)?Dg(t):t}function Og(e){var t=Ag(e.mapValue.fields.__local_write_time__.timestampValue);return new gg(t.seconds,t.nanos)}var Mg=ne((function e(t,n,r,i,a,o,u,s){zi(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Fg=function(){function e(t,n){zi(this,e),this.projectId=t,this.database=n||"(default)"}return ne(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Vg(e){return null==e}function Ug(e){return 0===e&&1/e==-1/0}function jg(e){return"number"==typeof e&&Number.isInteger(e)&&!Ug(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var zg=function(){function e(t){zi(this,e),this.path=t}return ne(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Ig.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Ig.fromString(t))}},{key:"fromName",value:function(t){return new e(Ig.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Ig.emptyPath())}},{key:"comparator",value:function(e,t){return Ig.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Ig(t.slice()))}}]),e}(),Bg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},qg={nullValue:"NULL_VALUE"};function Wg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Lg(e)?4:ik(e)?9:10:Xy()}function Gg(e,t){if(e===t)return!0;var n=Wg(e);if(n!==Wg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Og(e).isEqual(Og(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ag(e.timestampValue),r=Ag(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Pg(e.bytesValue).isEqual(Pg(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Rg(e.geoPointValue.latitude)===Rg(t.geoPointValue.latitude)&&Rg(e.geoPointValue.longitude)===Rg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Rg(e.integerValue)===Rg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Rg(e.doubleValue),r=Rg(t.doubleValue);return n===r?Ug(n)===Ug(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return mg(e.arrayValue.values||[],t.arrayValue.values||[],Gg);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(bg(n)!==bg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Gg(n[i],r[i])))return!1;return!0}(e,t);default:return Xy()}}function Kg(e,t){return void 0!==(e.values||[]).find((function(e){return Gg(e,t)}))}function Hg(e,t){if(e===t)return 0;var n=Wg(e),r=Wg(t);if(n!==r)return vg(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vg(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Rg(e.integerValue||e.doubleValue),r=Rg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Qg(e.timestampValue,t.timestampValue);case 4:return Qg(Og(e),Og(t));case 5:return vg(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Pg(e),r=Pg(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=vg(n[i],r[i]);if(0!==a)return a}return vg(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=vg(Rg(e.latitude),Rg(t.latitude));return 0!==n?n:vg(Rg(e.longitude),Rg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Hg(n[i],r[i]);if(a)return a}return vg(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=vg(r[o],a[o]);if(0!==u)return u;var s=Hg(n[r[o]],i[a[o]]);if(0!==s)return s}return vg(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Xy()}}function Qg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return vg(e,t);var n=Ag(e),r=Ag(t),i=vg(n.seconds,r.seconds);return 0!==i?i:vg(n.nanos,r.nanos)}function $g(e){return Yg(e)}function Yg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ag(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Pg(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,zg.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Vi(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Yg(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Vi(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Yg(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Xy();var t,n}function Jg(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Xg(e){return!!e&&"integerValue"in e}function Zg(e){return!!e&&"arrayValue"in e}function ek(e){return!!e&&"nullValue"in e}function tk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function nk(e){return!!e&&"mapValue"in e}function rk(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return wg(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=rk(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=rk(e.arrayValue.values[r]);return n}return Object.assign({},e)}function ik(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ak(e,t){return void 0===e?t:void 0===t||Hg(e,t)>0?e:t}function ok(e,t){return void 0===e?t:void 0===t||Hg(e,t)<0?e:t}var uk=function(){function e(t){zi(this,e),this.value=t}return ne(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!nk(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rk(t)}},{key:"setAll",value:function(e){var t=this,n=Eg.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=rk(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());nk(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Gg(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];nk(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){wg(t,(function(t,n){return e[t]=n}));var r,i=Vi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(rk(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function sk(e){var t=[];return wg(e.fields,(function(e,n){var r=new Eg([e]);if(nk(n)){var i=sk(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Vi(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Tg(t)}var ck=function(){function e(t,n,r,i,a,o){zi(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return ne(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=uk.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=uk.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,kg.min(),kg.min(),uk.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,kg.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,kg.min(),uk.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,kg.min(),uk.empty(),2)}}]),e}(),lk=ne((function e(t,n,r,i){zi(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function fk(e){return e.fields.find((function(e){return 2===e.kind}))}function hk(e){return e.fields.filter((function(e){return 2!==e.kind}))}lk.UNKNOWN_ID=-1;var dk=ne((function e(t,n){zi(this,e),this.fieldPath=t,this.kind=n})),pk=function(){function e(t,n){zi(this,e),this.sequenceNumber=t,this.offset=n}return ne(e,null,[{key:"empty",value:function(){return new e(0,yk.min())}}]),e}();function vk(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=kg.fromTimestamp(1e9===r?new gg(n+1,0):new gg(n,r));return new yk(i,zg.empty(),t)}function mk(e){return new yk(e.readTime,e.key,-1)}var yk=function(){function e(t,n,r){zi(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ne(e,null,[{key:"min",value:function(){return new e(kg.min(),zg.empty(),-1)}},{key:"max",value:function(){return new e(kg.max(),zg.empty(),-1)}}]),e}();function gk(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=zg.comparator(e.documentKey,t.documentKey))?n:vg(e.largestBatchId,t.largestBatchId)}var kk=ne((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;zi(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function bk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new kk(e,t,n,r,i,a,o)}function wk(e){var t=eg(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+$g(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Vg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return $g(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return $g(e)})).join(",")),t.P=n}return t.P}function xk(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Mk(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Gg(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Vk(e.startAt,t.startAt)&&Vk(e.endAt,t.endAt)}function _k(e){return zg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ik(e,t){return e.filters.filter((function(e){return e instanceof Sk&&e.field.isEqual(t)}))}var Sk=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a;return zi(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return ne(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Hg(t,this.value)):null!==t&&Wg(this.value)===Wg(t)&&this.v(Hg(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xy()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Ek(e,t,r):"array-contains"===t?new Ak(e,r):"in"===t?new Rk(e,r):"not-in"===t?new Pk(e,r):"array-contains-any"===t?new Lk(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Tk(e,n):new Ck(e,n)}}]),n}(function(){return ne((function e(){zi(this,e)}))}()),Ek=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a;return zi(this,n),(a=t.call(this,e,r,i)).key=zg.fromName(i.referenceValue),a}return ne(n,[{key:"matches",value:function(e){var t=zg.comparator(e.key,this.key);return this.v(t)}}]),n}(Sk),Tk=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return zi(this,n),(i=t.call(this,e,"in",r)).keys=Nk("in",r),i}return ne(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Sk),Ck=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return zi(this,n),(i=t.call(this,e,"not-in",r)).keys=Nk("not-in",r),i}return ne(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Sk);function Nk(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return zg.fromName(e.referenceValue)}))}var Ak=function(e){Di(n,e);var t=Fi(n);function n(e,r){return zi(this,n),t.call(this,e,"array-contains",r)}return ne(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Zg(t)&&Kg(t.arrayValue,this.value)}}]),n}(Sk),Rk=function(e){Di(n,e);var t=Fi(n);function n(e,r){return zi(this,n),t.call(this,e,"in",r)}return ne(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Kg(this.value.arrayValue,t)}}]),n}(Sk),Pk=function(e){Di(n,e);var t=Fi(n);function n(e,r){return zi(this,n),t.call(this,e,"not-in",r)}return ne(n,[{key:"matches",value:function(e){if(Kg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Kg(this.value.arrayValue,t)}}]),n}(Sk),Lk=function(e){Di(n,e);var t=Fi(n);function n(e,r){return zi(this,n),t.call(this,e,"array-contains-any",r)}return ne(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Zg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Kg(t.value.arrayValue,e)}))}}]),n}(Sk),Dk=ne((function e(t,n){zi(this,e),this.position=t,this.inclusive=n})),Ok=ne((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";zi(this,e),this.field=t,this.dir=n}));function Mk(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Fk(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?zg.comparator(zg.fromName(o.referenceValue),n.key):Hg(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Vk(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Gg(e.position[n],t.position[n]))return!1;return!0}var Uk=ne((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;zi(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function jk(e,t,n,r,i,a,o,u){return new Uk(e,t,n,r,i,a,o,u)}function zk(e){return new Uk(e)}function Bk(e){return!Vg(e.limit)&&"F"===e.limitType}function qk(e){return!Vg(e.limit)&&"L"===e.limitType}function Wk(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Gk(e){var t,n=Vi(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Kk(e){return null!==e.collectionGroup}function Hk(e){var t=eg(e);if(null===t.D){t.D=[];var n=Gk(t),r=Wk(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Ok(n)),t.D.push(new Ok(Eg.keyField(),"asc"));else{var i,a=!1,o=Vi(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Ok(Eg.keyField(),s))}}}return t.D}function Qk(e){var t=eg(e);if(!t.C)if("F"===t.limitType)t.C=bk(t.path,t.collectionGroup,Hk(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Vi(Hk(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Ok(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Dk(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new Dk(t.startAt.position,!t.startAt.inclusive):null;t.C=bk(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function $k(e,t,n){return new Uk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Yk(e,t){return xk(Qk(e),Qk(t))&&e.limitType===t.limitType}function Jk(e){return"".concat(wk(Qk(e)),"|lt:").concat(e.limitType)}function Xk(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat($g(t.value));var t})).join(", "),"]")),Vg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return $g(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return $g(e)})).join(",")),"Target(".concat(t,")")}(Qk(e)),"; limitType=").concat(e.limitType,")")}function Zk(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):zg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Vi(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Vi(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Fk(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Hk(e),t))&&!(e.endAt&&!function(e,t,n){var r=Fk(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Hk(e),t))}(e,t)}function eb(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function tb(e){return function(t,n){var r,i=!1,a=Vi(Hk(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=nb(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function nb(e,t,n){var r=e.field.isKeyField()?zg.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Hg(r,i):Xy()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Xy()}}function rb(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ug(t)?"-0":t}}function ib(e){return{integerValue:""+e}}function ab(e,t){return jg(t)?ib(t):rb(e,t)}var ob=ne((function e(){zi(this,e),this._=void 0}));function ub(e,t,n){return e instanceof lb?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof fb?hb(e,t):e instanceof db?pb(e,t):function(e,t){var n=cb(e,t),r=mb(n)+mb(e.k);return Xg(n)&&Xg(e.k)?ib(r):rb(e.M,r)}(e,t)}function sb(e,t,n){return e instanceof fb?hb(e,t):e instanceof db?pb(e,t):n}function cb(e,t){return e instanceof vb?Xg(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var lb=function(e){Di(n,e);var t=Fi(n);function n(){return zi(this,n),t.apply(this,arguments)}return ne(n)}(ob),fb=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return zi(this,n),(r=t.call(this)).elements=e,r}return ne(n)}(ob);function hb(e,t){var n,r=yb(t),i=Vi(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Gg(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var db=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return zi(this,n),(r=t.call(this)).elements=e,r}return ne(n)}(ob);function pb(e,t){var n,r=yb(t),i=Vi(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Gg(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var vb=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return zi(this,n),(i=t.call(this)).M=e,i.k=r,i}return ne(n)}(ob);function mb(e){return Rg(e.integerValue||e.doubleValue)}function yb(e){return Zg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var gb=ne((function e(t,n){zi(this,e),this.field=t,this.transform=n}));var kb=ne((function e(t,n){zi(this,e),this.version=t,this.transformResults=n})),bb=function(){function e(t,n){zi(this,e),this.updateTime=t,this.exists=n}return ne(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function wb(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var xb=ne((function e(){zi(this,e)}));function _b(e,t,n){e instanceof Cb?function(e,t,n){var r=e.value.clone(),i=Rb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Nb?function(e,t,n){if(wb(e.precondition,t)){var r=Rb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ab(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ib(e,t,n){e instanceof Cb?function(e,t,n){if(wb(e.precondition,t)){var r=e.value.clone(),i=Pb(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Tb(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Nb?function(e,t,n){if(wb(e.precondition,t)){var r=Pb(e.fieldTransforms,n,t),i=t.data;i.setAll(Ab(e)),i.setAll(r),t.convertToFoundDocument(Tb(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){wb(e.precondition,t)&&t.convertToNoDocument(kg.min())}(e,t)}function Sb(e,t){var n,r=null,i=Vi(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=cb(a.transform,o||null);null!=u&&(null==r&&(r=uk.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Eb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&mg(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof fb&&t instanceof fb||e instanceof db&&t instanceof db?mg(e.elements,t.elements,Gg):e instanceof vb&&t instanceof vb?Gg(e.k,t.k):e instanceof lb&&t instanceof lb}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Tb(e){return e.isFoundDocument()?e.version:kg.min()}var Cb=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return zi(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return ne(n)}(xb),Nb=function(e){Di(n,e);var t=Fi(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return zi(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return ne(n)}(xb);function Ab(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Rb(e,t,n){var r=new Map;Zy(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,sb(o,u,n[i]))}return r}function Pb(e,t,n){var r,i=new Map,a=Vi(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,ub(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Lb,Db,Ob=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return zi(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ne(n)}(xb),Mb=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return zi(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ne(n)}(xb),Fb=ne((function e(t){zi(this,e),this.count=t}));function Vb(e){switch(e){default:return Xy();case tg.CANCELLED:case tg.UNKNOWN:case tg.DEADLINE_EXCEEDED:case tg.RESOURCE_EXHAUSTED:case tg.INTERNAL:case tg.UNAVAILABLE:case tg.UNAUTHENTICATED:return!1;case tg.INVALID_ARGUMENT:case tg.NOT_FOUND:case tg.ALREADY_EXISTS:case tg.PERMISSION_DENIED:case tg.FAILED_PRECONDITION:case tg.ABORTED:case tg.OUT_OF_RANGE:case tg.UNIMPLEMENTED:case tg.DATA_LOSS:return!0}}function Ub(e){if(void 0===e)return $y("GRPC error has no .code"),tg.UNKNOWN;switch(e){case Lb.OK:return tg.OK;case Lb.CANCELLED:return tg.CANCELLED;case Lb.UNKNOWN:return tg.UNKNOWN;case Lb.DEADLINE_EXCEEDED:return tg.DEADLINE_EXCEEDED;case Lb.RESOURCE_EXHAUSTED:return tg.RESOURCE_EXHAUSTED;case Lb.INTERNAL:return tg.INTERNAL;case Lb.UNAVAILABLE:return tg.UNAVAILABLE;case Lb.UNAUTHENTICATED:return tg.UNAUTHENTICATED;case Lb.INVALID_ARGUMENT:return tg.INVALID_ARGUMENT;case Lb.NOT_FOUND:return tg.NOT_FOUND;case Lb.ALREADY_EXISTS:return tg.ALREADY_EXISTS;case Lb.PERMISSION_DENIED:return tg.PERMISSION_DENIED;case Lb.FAILED_PRECONDITION:return tg.FAILED_PRECONDITION;case Lb.ABORTED:return tg.ABORTED;case Lb.OUT_OF_RANGE:return tg.OUT_OF_RANGE;case Lb.UNIMPLEMENTED:return tg.UNIMPLEMENTED;case Lb.DATA_LOSS:return tg.DATA_LOSS;default:return Xy()}}(Db=Lb||(Lb={}))[Db.OK=0]="OK",Db[Db.CANCELLED=1]="CANCELLED",Db[Db.UNKNOWN=2]="UNKNOWN",Db[Db.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Db[Db.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Db[Db.NOT_FOUND=5]="NOT_FOUND",Db[Db.ALREADY_EXISTS=6]="ALREADY_EXISTS",Db[Db.PERMISSION_DENIED=7]="PERMISSION_DENIED",Db[Db.UNAUTHENTICATED=16]="UNAUTHENTICATED",Db[Db.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Db[Db.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Db[Db.ABORTED=10]="ABORTED",Db[Db.OUT_OF_RANGE=11]="OUT_OF_RANGE",Db[Db.UNIMPLEMENTED=12]="UNIMPLEMENTED",Db[Db.INTERNAL=13]="INTERNAL",Db[Db.UNAVAILABLE=14]="UNAVAILABLE",Db[Db.DATA_LOSS=15]="DATA_LOSS";var jb=function(){function e(t,n){zi(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return ne(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Vi(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){wg(this.inner,(function(t,n){var r,i=Vi(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return xg(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),zb=function(){function e(t,n){zi(this,e),this.comparator=t,this.root=n||qb.EMPTY}return ne(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qb.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qb.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Bb(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Bb(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Bb(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Bb(this.root,e,this.comparator,!0)}}]),e}(),Bb=function(){function e(t,n,r,i){zi(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ne(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),qb=function(){function e(t,n,r,i,a){zi(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return ne(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Xy();if(this.right.isRed())throw Xy();var e=this.left.check();if(e!==this.right.check())throw Xy();return e+(this.isRed()?0:1)}}]),e}();qb.EMPTY=null,qb.RED=!0,qb.BLACK=!1,qb.EMPTY=new(function(){function e(){zi(this,e),this.size=0}return ne(e,[{key:"key",get:function(){throw Xy()}},{key:"value",get:function(){throw Xy()}},{key:"color",get:function(){throw Xy()}},{key:"left",get:function(){throw Xy()}},{key:"right",get:function(){throw Xy()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new qb(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Wb=function(){function e(t){zi(this,e),this.comparator=t,this.data=new zb(this.comparator)}return ne(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Gb(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Gb(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Gb=function(){function e(t){zi(this,e),this.iter=t}return ne(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Kb(e){return e.hasNext()?e.getNext():void 0}var Hb=new zb(zg.comparator);function Qb(){return Hb}var $b=new zb(zg.comparator);function Yb(){return $b}function Jb(){return new jb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Xb=new zb(zg.comparator),Zb=new Wb(zg.comparator);function ew(){for(var e=Zb,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var tw=new Wb(vg);function nw(){return tw}var rw=function(){function e(t,n,r,i,a){zi(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return ne(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,iw.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(kg.min(),r,nw(),Qb(),ew())}}]),e}(),iw=function(){function e(t,n,r,i,a){zi(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return ne(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Cg.EMPTY_BYTE_STRING,n,ew(),ew(),ew())}}]),e}(),aw=ne((function e(t,n,r,i){zi(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),ow=ne((function e(t,n){zi(this,e),this.targetId=t,this.$=n})),uw=ne((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cg.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;zi(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),sw=function(){function e(){zi(this,e),this.B=0,this.L=fw(),this.U=Cg.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}return ne(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"K",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.G}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}},{key:"H",value:function(){var e=ew(),t=ew(),n=ew();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Xy()}})),new iw(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.G=!1,this.L=fw()}},{key:"Y",value:function(e,t){this.G=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.G=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.G=!0,this.q=!0}}]),e}(),cw=function(){function e(t){zi(this,e),this.nt=t,this.st=new Map,this.it=Qb(),this.rt=lw(),this.ot=new Wb(vg)}return ne(e,[{key:"ut",value:function(e){var t,n=Vi(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=Vi(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Xy()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(_k(i))if(0===n){var a=new zg(i.path);this.ct(t,a,ck.newNoDocument(a,kg.min()))}else Zy(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&_k(a.target)){var o=new zg(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,ck.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=ew();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new rw(e,n,this.ot,this.it,r);return this.it=Qb(),this.rt=lw(),this.ot=new Wb(vg),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new sw,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Wb(vg),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Qy("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new sw),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function lw(){return new zb(zg.comparator)}function fw(){return new zb(zg.comparator)}var hw={asc:"ASCENDING",desc:"DESCENDING"},dw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pw=ne((function e(t,n){zi(this,e),this.databaseId=t,this.N=n}));function vw(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function mw(e,t){return e.N?t.toBase64():t.toUint8Array()}function yw(e,t){return vw(e,t.toTimestamp())}function gw(e){return Zy(!!e),kg.fromTimestamp(function(e){var t=Ag(e);return new gg(t.seconds,t.nanos)}(e))}function kw(e,t){return function(e){return new Ig(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function bw(e){var t=Ig.fromString(e);return Zy(qw(t)),t}function ww(e,t){return kw(e.databaseId,t.path)}function xw(e,t){var n=bw(t);if(n.get(1)!==e.databaseId.projectId)throw new ng(tg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ng(tg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zg(Ew(n))}function _w(e,t){return kw(e.databaseId,t)}function Iw(e){var t=bw(e);return 4===t.length?Ig.emptyPath():Ew(t)}function Sw(e){return new Ig(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ew(e){return Zy(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Tw(e,t,n){return{name:ww(e,t),fields:n.value.mapValue.fields}}function Cw(e,t,n){var r=xw(e,t.name),i=gw(t.updateTime),a=new uk({mapValue:{fields:t.fields}}),o=ck.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Nw(e,t){return"found"in t?function(e,t){Zy(!!t.found),t.found.name,t.found.updateTime;var n=xw(e,t.found.name),r=gw(t.found.updateTime),i=new uk({mapValue:{fields:t.found.fields}});return ck.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Zy(!!t.missing),Zy(!!t.readTime);var n=xw(e,t.missing),r=gw(t.readTime);return ck.newNoDocument(n,r)}(e,t):Xy()}function Aw(e,t){var n;if(t instanceof Cb)n={update:Tw(e,t.key,t.value)};else if(t instanceof Ob)n={delete:ww(e,t.key)};else if(t instanceof Nb)n={update:Tw(e,t.key,t.data),updateMask:Bw(t.fieldMask)};else{if(!(t instanceof Mb))return Xy();n={verify:ww(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof lb)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof fb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof db)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof vb)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Xy()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:yw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Xy()}(e,t.precondition)),n}function Rw(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?bb.updateTime(gw(e.updateTime)):void 0!==e.exists?bb.exists(e.exists):bb.none()}(t.currentDocument):bb.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Zy("REQUEST_TIME"===t.setToServerValue),n=new lb;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new fb(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new db(i)}else"increment"in t?n=new vb(e,t.increment):Xy();var a=Eg.fromServerFormat(t.fieldPath);return new gb(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=xw(e,t.update.name),a=new uk({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Tg(t.map((function(e){return Eg.fromServerFormat(e)})))}(t.updateMask);return new Nb(i,a,o,n,r)}return new Cb(i,a,n,r)}if(t.delete){var u=xw(e,t.delete);return new Ob(u,n)}if(t.verify){var s=xw(e,t.verify);return new Mb(s,n)}return Xy()}function Pw(e,t){return{documents:[_w(e,t.path)]}}function Lw(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=_w(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=_w(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(tk(e.value))return{unaryFilter:{field:Vw(e.field),op:"IS_NAN"}};if(ek(e.value))return{unaryFilter:{field:Vw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(tk(e.value))return{unaryFilter:{field:Vw(e.field),op:"IS_NOT_NAN"}};if(ek(e.value))return{unaryFilter:{field:Vw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vw(e.field),op:Fw(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Vw(e.field),direction:Mw(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||Vg(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Dw(e){var t=Iw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Zy(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Ow(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Ok(Uw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Vg(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Dk(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Dk(n,t)}(n.endAt)),jk(t,i,u,o,s,"F",c,l)}function Ow(e){return e?void 0!==e.unaryFilter?[zw(e)]:void 0!==e.fieldFilter?[jw(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ow(e)})).reduce((function(e,t){return e.concat(t)})):Xy():[]}function Mw(e){return hw[e]}function Fw(e){return dw[e]}function Vw(e){return{fieldPath:e.canonicalString()}}function Uw(e){return Eg.fromServerFormat(e.fieldPath)}function jw(e){return Sk.create(Uw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xy()}}(e.fieldFilter.op),e.fieldFilter.value)}function zw(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Uw(e.unaryFilter.field);return Sk.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Uw(e.unaryFilter.field);return Sk.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Uw(e.unaryFilter.field);return Sk.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Uw(e.unaryFilter.field);return Sk.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Xy()}}function Bw(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function qw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ww(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Kw(t)),t=Gw(e.get(n),t);return Kw(t)}function Gw(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Kw(e){return e+"\x01\x01"}function Hw(e){var t=e.length;if(Zy(t>=2),2===t)return Zy("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ig.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Xy(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Xy()}a=o+2}return new Ig(r)}var Qw=["userId","batchId"];function $w(e,t){return[e,Ww(t)]}function Yw(e,t,n){return[e,Ww(t),n]}var Jw={},Xw=["prefixPath","collectionGroup","readTime","documentId"],Zw=["prefixPath","collectionGroup","documentId"],ex=["collectionGroup","readTime","prefixPath","documentId"],tx=["canonicalId","targetId"],nx=["targetId","path"],rx=["path","targetId"],ix=["collectionId","parent"],ax=["indexId","uid"],ox=["uid","sequenceNumber"],ux=["indexId","uid","arrayValue","directionalValue","documentKey"],sx=["indexId","uid","documentKey"],cx=["userId","collectionPath","documentId"],lx=["userId","collectionPath","largestBatchId"],fx=["userId","collectionGroup","largestBatchId"],hx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),dx=[].concat(en(hx),["documentOverlays"]),px=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vx=[].concat(px,["indexConfiguration","indexState","indexEntries"]),mx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",yx=function(){function e(){zi(this,e),this.onCommittedListeners=[]}return ne(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),gx=function(){function e(t){var n=this;zi(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ne(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Xy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Vi(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),kx=function(){function e(t,n){var r=this;zi(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new rg,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new xx(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=Tx(e.target.error);r.At.reject(new xx(t,n))}}return ne(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Qy("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Ix(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new xx(n,t)}}}]),e}(),bx=function(){function e(t,n,r){zi(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(ea())&&$y("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return ne(e,[{key:"Nt",value:function(){var e=ji(qi().mark((function e(t){var n=this;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Qy("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new xx(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new ng(tg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new ng(tg.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new xx(t,n))},i.onupgradeneeded=function(e){Qy("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Qy("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ji(qi().mark((function e(t,n,r,i){var a,o,u,s,c=this;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(qi().mark((function e(){var n,o;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=kx.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),gx.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Qy("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Qy("SimpleDb","Removing database:",e),Sx(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!oa())return!1;if(e.St())return!0;var t=ea(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/react_task_3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),wx=function(){function e(t){zi(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return ne(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return Sx(this.Ft.delete())}}]),e}(),xx=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return zi(this,n),(i=t.call(this,tg.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return ne(n)}(ng);function _x(e){return"IndexedDbTransactionError"===e.name}var Ix=function(){function e(t){zi(this,e),this.store=t}return ne(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Qy("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Qy("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Sx(n)}},{key:"add",value:function(e){return Qy("SimpleDb","ADD",this.store.name,e,e),Sx(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Sx(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Qy("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Qy("SimpleDb","DELETE",this.store.name,e),Sx(this.store.delete(e))}},{key:"count",value:function(){return Qy("SimpleDb","COUNT",this.store.name),Sx(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Gt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new gx((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Kt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new gx((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Qy("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Gt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Gt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new gx((function(n,r){t.onerror=function(e){var t=Tx(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Gt",value:function(e,t){var n=[];return new gx((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new wx(i),o=t(i.primaryKey,i.value,a);if(o instanceof gx){var u=o.catch((function(e){return a.done(),gx.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return gx.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Sx(e){return new gx((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Tx(e.target.error);n(t)}}))}var Ex=!1;function Tx(e){var t=bx.Vt(ea());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ng("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ex||(Ex=!0,setTimeout((function(){throw r}),0)),r}}return e}var Cx=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return zi(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return ne(n)}(yx);function Nx(e,t){var n=eg(e);return bx.xt(n.Ht,t)}var Ax=function(){function e(t,n,r,i){zi(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return ne(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&_b(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Vi(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Ib(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=Vi(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Ib(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(kg.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ew())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&mg(this.mutations,e.mutations,(function(e,t){return Eb(e,t)}))&&mg(this.baseMutations,e.baseMutations,(function(e,t){return Eb(e,t)}))}}]),e}(),Rx=function(){function e(t,n,r,i){zi(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return ne(e,null,[{key:"from",value:function(t,n,r){Zy(t.mutations.length===r.length);for(var i=Xb,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Px=function(){function e(t,n){zi(this,e),this.largestBatchId=t,this.mutation=n}return ne(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Lx=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:kg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:kg.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Cg.EMPTY_BYTE_STRING;zi(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return ne(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Dx=ne((function e(t){zi(this,e),this.Jt=t}));function Ox(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Mx(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:ww(e,t.key),fields:t.data.value.mapValue.fields,updateTime:vw(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Fx(t.version)};else{if(!t.isUnknownDocument())return Xy();r.unknownDocument={path:n.path.toArray(),version:Fx(t.version)}}return r}function Mx(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Fx(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Vx(e){var t=new gg(e.seconds,e.nanoseconds);return kg.fromTimestamp(t)}function Ux(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Rw(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Rw(e.Jt,t)})),u=gg.fromMillis(t.localWriteTimeMs);return new Ax(t.batchId,u,n,o)}function jx(e){var t,n,r=Vx(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Vx(e.lastLimboFreeSnapshotVersion):kg.min();return void 0!==e.query.documents?(Zy(1===(n=e.query).documents.length),t=Qk(zk(Iw(n.documents[0])))):t=function(e){return Qk(Dw(e))}(e.query),new Lx(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Cg.fromBase64String(e.resumeToken))}function zx(e,t){var n,r=Fx(t.snapshotVersion),i=Fx(t.lastLimboFreeSnapshotVersion);n=_k(t.target)?Pw(e.Jt,t.target):Lw(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:wk(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Bx(e){var t=Dw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?$k(t,t.limit,"L"):t}function qx(e,t){return new Px(t.largestBatchId,Rw(e.Jt,t.overlayMutation))}function Wx(e,t){var n=t.path.lastSegment();return[e,Ww(t.path.popLast()),n]}var Gx=function(){function e(){zi(this,e)}return ne(e,[{key:"getBundleMetadata",value:function(e,t){return Kx(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Vx(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Kx(e).put({bundleId:(n=t).id,createTime:Fx(gw(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Hx(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Bx(t.bundledQuery),readTime:Vx(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Hx(e).put(function(e){return{name:e.name,readTime:Fx(gw(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Kx(e){return Nx(e,"bundles")}function Hx(e){return Nx(e,"namedQueries")}var Qx=function(){function e(t,n){zi(this,e),this.M=t,this.userId=n}return ne(e,[{key:"getOverlay",value:function(e,t){var n=this;return $x(e).get(Wx(this.userId,t)).next((function(e){return e?qx(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Px(t,a);i.push(r.Xt(e,o))})),gx.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Ww(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push($x(e).Qt("collectionPathOverlayIndex",i))})),gx.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Jb(),a=Ww(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return $x(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=Vi(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=qx(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Jb(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return $x(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=qx(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return $x(e).put(function(e,t,n){var r=l(Wx(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Aw(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function $x(e){return Nx(e,"documentOverlays")}var Yx=function(){function e(){zi(this,e)}return ne(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Rg(e.integerValue));else if("doubleValue"in e){var n=Rg(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Ug(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Pg(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?ik(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Xy()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=Vi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),zg.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function Jx(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Xx(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Jx(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Yx.fe=new Yx;var Zx=function(){function e(){zi(this,e),this.buffer=new Uint8Array(1024),this.position=0}return ne(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=Vi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=Vi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=Xx(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=Xx(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),e_=function(){function e(t){zi(this,e),this.De=t}return ne(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),t_=function(){function e(t){zi(this,e),this.De=t}return ne(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),n_=function(){function e(){zi(this,e),this.De=new Zx,this.Ce=new e_(this.De),this.xe=new t_(this.De)}return ne(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),r_=function(){function e(t,n,r,i){zi(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return ne(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function i_(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=a_(e.arrayValue,t.arrayValue))?n:0!==(n=a_(e.directionalValue,t.directionalValue))?n:zg.comparator(e.documentKey,t.documentKey)}function a_(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var o_=function(){function e(t){zi(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=Vi(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return ne(e,[{key:"$e",value:function(e){var t=fk(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=hk(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=Vi(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),u_=function(){function e(){zi(this,e),this.qe=new s_}return ne(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),gx.resolve()}},{key:"getCollectionParents",value:function(e,t){return gx.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return gx.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return gx.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return gx.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return gx.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return gx.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return gx.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return gx.resolve()}},{key:"updateIndexEntries",value:function(e,t){return gx.resolve()}}]),e}(),s_=function(){function e(){zi(this,e),this.index={}}return ne(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Wb(Ig.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Wb(Ig.comparator)).toArray()}}]),e}(),c_=new Uint8Array(0),l_=function(){function e(t){zi(this,e),this.user=t,this.Ge=new s_,this.Ke=new jb((function(e){return wk(e)}),(function(e,t){return xk(e,t)})),this.uid=t.uid||""}return ne(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ge.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ge.add(t)}));var a={collectionId:r,parent:Ww(i)};return f_(e).put(a)}return gx.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[yg(t),""],!1,!0);return f_(e).qt(r).next((function(e){var r,i=Vi(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Hw(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=d_(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=d_(e),r=p_(e),i=h_(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=h_(e),i=!0,a=new Map;return gx.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=ew();return gx.forEach(a,(function(i,a){var o;Qy("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(wk(t)));var u=function(e,t){var n=fk(t);if(void 0===n)return null;var r,i=Vi(Ik(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=Vi(hk(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Vi(Ik(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=Vi(hk(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=Vi(Ik(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case"<":case"<=":d="nullValue"in(r=h.value)?qg:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Jg(Fg.empty(),zg.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Xy();break;case"==":case"in":case">=":d=h.value;break;case">":d=h.value,p=!1;break;case"!=":case"not-in":d=qg}ak(c,d)===d&&(c=d,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.startAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.startAt.position[v];ak(c,m)===m&&(c=m,l=e.startAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new Dk(i,a)}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=Vi(hk(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=Vi(Ik(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case">=":case">":d="nullValue"in(r=h.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Jg(Fg.empty(),zg.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Bg:Xy(),p=!1;break;case"==":case"in":case"<=":d=h.value;break;case"<":d=h.value,p=!1;break;case"!=":case"not-in":d=Bg}ok(c,d)===d&&(c=d,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.endAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.endAt.position[v];ok(c,m)===m&&(c=m,l=e.endAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new Dk(i,a)}(a,i),f=n.je(i,a,c),h=n.je(i,a,l),d=n.We(i,a,s),p=n.ze(i.indexId,u,f,!!c&&c.inclusive,h,!!l&&l.inclusive,d);return gx.forEach(p,(function(n){return r.Kt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new zg(Hw(t.documentKey)))}))}))}))})).next((function(){return e}))}return gx.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):c_,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,en(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new r_(e,zg.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new r_(e,zg.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new r_(e,zg.empty(),c_,c_)}},{key:"getFieldIndex",value:function(e,t){var n=new o_(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new n_,i=Vi(hk(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);Yx.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new n_;return Yx.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new n_);var i,a=0,o=Vi(hk(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Vi(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.tn(t,s.fieldPath)&&Zg(c))r=this.en(r,s,c);else{var h=f.Ne(s.kind);Yx.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=en(e),a=[],o=Vi(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Vi(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new n_;f.seed(l.Se()),Yx.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Sk&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=d_(e),i=p_(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return gx.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new pk(t.sequenceNumber,new yk(Vx(t.readTime),new zg(Hw(t.documentKey)),t.largestBatchId)):pk.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new dk(Eg.fromServerFormat(n),r)}));return new lk(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:vg(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=d_(e),a=p_(e);return this.sn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return gx.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Fx(r.readTime),documentKey:Ww(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return gx.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?gx.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),gx.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?gx.resolve():n.un(e,i,t,a)}))}))}))}))}},{key:"an",value:function(e,t,n){return h_(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:Ww(t.key.path)})}},{key:"cn",value:function(e,t,n){return h_(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,Ww(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=h_(e),i=new Wb(i_);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,Ww(t.path)])},(function(e,r){i=i.add(new r_(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new Wb(i_),r=this.Ze(t,e);if(null==r)return n;var i=fk(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Zg(a)){var o,u=Vi(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new r_(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new r_(t.indexId,e.key,c_,r));return n}},{key:"un",value:function(e,t,n,r){var i=this;Qy("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Kb(a),s=Kb(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Kb(o)):l?(i(u),u=Kb(a)):(u=Kb(a),s=Kb(o))}}(n,r,i_,(function(n){a.push(i.an(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),gx.waitFor(a)}},{key:"sn",value:function(e){var t=1;return p_(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return i_(e,t)})).filter((function(e,t,n){return!t||0!==i_(e,n[t-1])}));var r=[];r.push(e);var i,a=Vi(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=i_(o,e),s=i_(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,""],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,""]));return c}}]),e}();function f_(e){return Nx(e,"collectionParents")}function h_(e){return Nx(e,"indexEntries")}function d_(e){return Nx(e,"indexConfiguration")}function p_(e){return Nx(e,"indexState")}var v_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m_=function(){function e(t,n,r){zi(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ne(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function y_(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Zy(1===u)})));var c,l=[],f=Vi(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Yw(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return gx.waitFor(a).next((function(){return l}))}function g_(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Xy();t=e.noDocument}return JSON.stringify(t).length}m_.DEFAULT_COLLECTION_PERCENTILE=10,m_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,m_.DEFAULT=new m_(41943040,m_.DEFAULT_COLLECTION_PERCENTILE,m_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),m_.DISABLED=new m_(-1,0,0);var k_=function(){function e(t,n,r,i){zi(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return ne(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return w_(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=x_(e),o=w_(e);return o.add({}).next((function(u){Zy("number"==typeof u);var s,c=new Ax(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Aw(e.Jt,t)})),i=n.mutations.map((function(t){return Aw(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new Wb((function(e,t){return vg(e.canonicalString(),t.canonicalString())})),d=Vi(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Yw(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Jw))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[u]=c.keys()})),gx.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return w_(e).get(t).next((function(e){return e?(Zy(e.userId===n.userId),Ux(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?gx.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return w_(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Zy(t.batchId>=r),a=Ux(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return w_(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return w_(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return Ux(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=$w(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return x_(e).Wt({range:i},(function(r,i,o){var u=l(r,3),s=u[0],c=u[1],f=u[2],h=Hw(c);if(s===n.userId&&t.path.isEqual(h))return w_(e).get(f).next((function(e){if(!e)throw Xy();Zy(e.userId===n.userId),a.push(Ux(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Wb(vg),i=[];return t.forEach((function(t){var a=$w(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=x_(e).Wt({range:o},(function(e,i,a){var o=l(e,3),u=o[0],s=o[1],c=o[2],f=Hw(s);u===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(u)})),gx.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=$w(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Wb(vg);return x_(e).Wt({range:o},(function(e,t,a){var o=l(e,3),s=o[0],c=o[1],f=o[2],h=Hw(c);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.fn(e,u)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(w_(e).get(t).next((function(e){if(null===e)throw Xy();Zy(e.userId===n.userId),r.push(Ux(n.M,e))})))})),gx.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return y_(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),gx.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return gx.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return x_(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Hw(e[1]);i.push(a)}else r.done()})).next((function(){Zy(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return b_(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return __(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Zy(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function b_(e,t,n){var r=$w(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return x_(e).Wt({range:a,jt:!0},(function(e,n,r){var a=l(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function w_(e){return Nx(e,"mutations")}function x_(e){return Nx(e,"documentMutations")}function __(e){return Nx(e,"mutationQueues")}var I_=function(){function e(t){zi(this,e),this.wn=t}return ne(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),S_=function(){function e(t,n){zi(this,e),this.referenceDelegate=t,this.M=n}return ne(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new I_(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return kg.fromTimestamp(new gg(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return E_(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return Zy(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return E_(e).Wt((function(o,u){var s=jx(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return gx.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return E_(e).Wt((function(e,n){var r=jx(n);t(r)}))}},{key:"yn",value:function(e){return T_(e).get("targetGlobalKey").next((function(e){return Zy(null!==e),e}))}},{key:"pn",value:function(e,t){return T_(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return E_(e).put(zx(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=wk(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return E_(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=jx(n);xk(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=C_(e);return t.forEach((function(t){var o=Ww(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),gx.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=C_(e);return gx.forEach(t,(function(t){var a=Ww(t.path);return gx.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=C_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=C_(e),i=ew();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Hw(e[1]),a=new zg(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Ww(t.path),r=IDBKeyRange.bound([n],[yg(n)],!1,!0),i=0;return C_(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return E_(e).get(t).next((function(e){return e?jx(e):null}))}}]),e}();function E_(e){return Nx(e,"targets")}function T_(e){return Nx(e,"targetGlobal")}function C_(e){return Nx(e,"targetDocuments")}function N_(e){return A_.apply(this,arguments)}function A_(){return A_=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===tg.FAILED_PRECONDITION&&t.message===mx){e.next=2;break}throw t;case 2:Qy("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),A_.apply(this,arguments)}function R_(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],u=a[1],s=vg(r,o);return 0===s?vg(i,u):s}var P_=function(){function e(t){zi(this,e),this.En=t,this.buffer=new Wb(R_),this.An=0}return ne(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();R_(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),L_=function(){function e(t,n){zi(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return ne(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;Qy("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,ji(qi().mark((function n(){return qi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!_x(n.t0)){n.next=12;break}Qy("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,N_(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),D_=function(){function e(t,n){zi(this,e),this.Sn=t,this.params=n}return ne(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return gx.resolve(hg.A);var r=new P_(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Qy("LruGarbageCollector","Garbage collection skipped; disabled"),gx.resolve(v_)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Qy("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),v_):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Qy("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Hy()<=Aa.DEBUG&&Qy("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),gx.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),O_=function(){function e(t,n){zi(this,e),this.db=t,this.garbageCollector=function(e,t){return new D_(e,t)}(this,n)}return ne(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return M_(e,n)}},{key:"removeReference",value:function(e,t,n){return M_(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return M_(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return __(e).zt((function(r){return b_(e,r,t).next((function(e){return e&&(n=!0),gx.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,u){if(u<=t){var s=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,kg.min()),C_(e).delete([0,Ww(o.path)])}))}));i.push(s)}})).next((function(){return gx.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return M_(e,t)}},{key:"kn",value:function(e,t){var n,r=C_(e),i=hg.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==hg.A&&t(new zg(Hw(n)),i),i=s,n=u):i=hg.A})).next((function(){i!==hg.A&&t(new zg(Hw(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function M_(e,t){return C_(e).put(function(e,t){return{targetId:0,path:Ww(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var F_=function(){function e(){zi(this,e),this.changes=new jb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ne(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ck.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?gx.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),V_=function(){function e(t){zi(this,e),this.M=t}return ne(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return z_(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return z_(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Mx(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=ck.newInvalidDocument(t);return z_(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(B_(t))},(function(e,i){r=n.Fn(t,i)})).next((function(){return r}))}},{key:"$n",value:function(e,t){var n=this,r={size:0,document:ck.newInvalidDocument(t)};return z_(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(B_(t))},(function(e,i){r={document:n.Fn(t,i),size:g_(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Qb();return this.Bn(e,t,(function(e,t){var i=n.Fn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=Qb(),i=new zb(zg.comparator);return this.Bn(e,t,(function(e,t){var a=n.Fn(e,t);r=r.insert(e,a),i=i.insert(e,g_(t))})).next((function(){return{documents:r,Un:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return gx.resolve();var r=new Wb(W_);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(B_(r.first()),B_(r.last())),a=r.getIterator(),o=a.getNext();return z_(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=zg.fromSegments([].concat(en(t.prefixPath),[t.collectionGroup,t.documentId]));o&&W_(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(B_(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Mx(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return z_(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Qb(),i=Vi(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Fn(zg.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Qb(),o=q_(t,n),u=q_(t,yk.max());return z_(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Fn(zg.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new U_(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return j_(e).get("remoteDocumentGlobalKey").next((function(e){return Zy(!!e),e}))}},{key:"On",value:function(e,t){return j_(e).put("remoteDocumentGlobalKey",t)}},{key:"Fn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Cw(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=zg.fromSegments(t.noDocument.path),i=Vx(t.noDocument.readTime);n=ck.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Xy();var a=zg.fromSegments(t.unknownDocument.path),o=Vx(t.unknownDocument.version);n=ck.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new gg(e[0],e[1]);return kg.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(kg.min()))return n}return ck.newInvalidDocument(e)}}]),e}(),U_=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return zi(this,n),(i=t.call(this)).qn=e,i.trackRemovals=r,i.Gn=new jb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return ne(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Wb((function(e,t){return vg(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.qn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Ox(t.qn.M,o);i=i.add(a.path.popLast());var c=g_(s);r+=c-u.size,n.push(t.qn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Ox(t.qn.M,o.convertToNoDocument(kg.min()));n.push(t.qn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.qn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.qn.updateMetadata(e,r)),gx.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.qn.$n(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.qn.Ln(e,t).next((function(e){var t=e.documents;return e.Un.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(F_);function j_(e){return Nx(e,"remoteDocumentGlobal")}function z_(e){return Nx(e,"remoteDocumentsV14")}function B_(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function q_(e,t){var n=t.documentKey.path.toArray();return[e,Mx(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function W_(e,t){var n=e.path.length-t.path.length;return 0!==n?n:zg.comparator(e,t)}var G_=function(){function e(t){zi(this,e),this.M=t}return ne(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new kx("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Qw,{unique:!0}),e.createObjectStore("documentMutations")}(e),K_(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=gx.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),K_(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kg.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Qw,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return gx.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Kn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:cx});t.createIndex("collectionPathOverlayIndex",lx,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",fx,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Xw});t.createIndex("documentKeyIndex",Zw),t.createIndex("collectionGroupIndex",ex)}(e)})).next((function(){return i.Hn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ax}).createIndex("sequenceNumberIndex",ox,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:ux}).createIndex("documentKeyIndex",sx,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=g_(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Kn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return gx.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return gx.forEach(r,(function(r){Zy(r.userId===n.userId);var i=Ux(t.M,r);return y_(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new Ig(n),o=function(e){return[0,Ww(e)]}(a);r.push(t.get(o).next((function(n){return n?gx.resolve():function(n){return t.put({targetId:0,path:Ww(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return gx.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ix});var n=t.store("collectionParents"),r=new s_,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Ww(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new Ig(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],Hw(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=jx(r),a=zx(t.M,i);return n.put(a)}))}},{key:"Hn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new zg(Ig.fromString(i.document.name).popFirst(5)):i.noDocument?zg.fromSegments(i.noDocument.path):i.unknownDocument?zg.fromSegments(i.unknownDocument.path):Xy()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return gx.waitFor(r)}))}}]),e}();function K_(e){e.createObjectStore("targetDocuments",{keyPath:nx}).createIndex("documentTargetsIndex",rx,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",tx,{unique:!0}),e.createObjectStore("targetGlobal")}var H_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Q_=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(zi(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Jn=a,this.window=o,this.document=u,this.Yn=c,this.Xn=l,this.Zn=f,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=function(e){return Promise.resolve()},!e.vt())throw new ng(tg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new O_(this,i),this.cs=n+"main",this.M=new Dx(s),this.hs=new bx(this.cs,this.Zn,new G_(this.M)),this.ls=new S_(this.referenceDelegate,this.M),this.fs=function(e){return new V_(e)}(this.M),this.ds=new Gx,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===l&&$y("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return ne(e,[{key:"start",value:function(){var e=this;return this.ws().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ng(tg.FAILED_PRECONDITION,H_);return e.gs(),e.ys(),e.ps(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ls.getHighestSequenceNumber(t)}))})).then((function(t){e.ts=new hg(t,e.Yn)})).then((function(){e.es=!0})).catch((function(t){return e.hs&&e.hs.close(),Promise.reject(t)}))}},{key:"Is",value:function(e){var t=this;return this.us=function(){var n=ji(qi().mark((function n(r){return qi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.hs.Ot(function(){var t=ji(qi().mark((function t(n){return qi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget(ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ws();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ws",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Y_(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ts(t).next((function(t){t||(e.isPrimary=!1,e.Jn.enqueueRetryable((function(){return e.us(!1)})))}))})).next((function(){return e.Es(t)})).next((function(n){return e.isPrimary&&!n?e.As(t).next((function(){return!1})):!!n&&e.Rs(t).next((function(){return!0}))}))})).catch((function(t){if(_x(t))return Qy("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Qy("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Jn.enqueueRetryable((function(){return e.us(t)})),e.isPrimary=t}))}},{key:"Ts",value:function(e){var t=this;return $_(e).get("owner").next((function(e){return gx.resolve(t.bs(e))}))}},{key:"Ps",value:function(e){return Y_(e).delete(this.clientId)}},{key:"Vs",value:function(){var e=ji(qi().mark((function e(){var t,n,r,i,a=this;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vs(this.os,18e5)){e.next=6;break}return this.os=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Nx(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ss(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return gx.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._s){n=Vi(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._s.removeItem(this.Ds(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ps",value:function(){var e=this;this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ws().then((function(){return e.Vs()})).then((function(){return e.ps()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Es",value:function(e){var t=this;return this.Xn?gx.resolve(!0):$_(e).get("owner").next((function(n){if(null!==n&&t.vs(n.leaseTimestampMs,5e3)&&!t.Cs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new ng(tg.FAILED_PRECONDITION,H_);return!1}}return!(!t.networkEnabled||!t.inForeground)||Y_(e).qt().next((function(e){return void 0===t.Ss(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Qy("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ji(qi().mark((function e(){var t=this;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.es=!1,this.xs(),this.rs&&(this.rs.cancel(),this.rs=null),this.Ns(),this.ks(),e.next=7,this.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Cx(e,hg.A);return t.As(n).next((function(){return t.Ps(n)}))}));case 7:this.hs.close(),this.Ms();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ss",value:function(e,t){var n=this;return e.filter((function(e){return n.vs(e.updateTimeMs,t)&&!n.Cs(e.clientId)}))}},{key:"Os",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Y_(t).qt().next((function(t){return e.Ss(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.es}},{key:"getMutationQueue",value:function(e,t){return k_.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getIndexManager",value:function(e){return new l_(e)}},{key:"getDocumentOverlayCache",value:function(e){return Qx.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Qy("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.Zn)?vx:13===i?px:12===i?dx:11===i?hx:void Xy();return this.hs.runTransaction(e,o,u,(function(i){return a=new Cx(i,r.ts?r.ts.next():hg.A),"readwrite-primary"===t?r.Ts(a).next((function(e){return!!e||r.Es(a)})).next((function(t){if(!t)throw $y("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Jn.enqueueRetryable((function(){return r.us(!1)})),new ng(tg.FAILED_PRECONDITION,mx);return n(a)})).next((function(e){return r.Rs(a).next((function(){return e}))})):r.Fs(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e){var t=this;return $_(e).get("owner").next((function(e){if(null!==e&&t.vs(e.leaseTimestampMs,5e3)&&!t.Cs(e.ownerId)&&!t.bs(e)&&!(t.Xn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new ng(tg.FAILED_PRECONDITION,H_)}))}},{key:"Rs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $_(e).put("owner",t)}},{key:"As",value:function(e){var t=this,n=$_(e);return n.get("owner").next((function(e){return t.bs(e)?(Qy("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):gx.resolve()}))}},{key:"vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||($y("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gs",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=function(){e.Jn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ws()}))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ns",value:function(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}},{key:"ys",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=function(){t.xs(),!na()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Jn.enterRestrictedMode(!0),t.Jn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ns))}},{key:"ks",value:function(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}},{key:"Cs",value:function(e){var t;try{var n=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Qy("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return $y("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xs",value:function(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(Wd){$y("Failed to set zombie client id.",Wd)}}},{key:"Ms",value:function(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(Wd){}}},{key:"Ds",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return bx.vt()}}]),e}();function $_(e){return Nx(e,"owner")}function Y_(e){return Nx(e,"clientMetadata")}function J_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var X_=function(){function e(t,n,r){zi(this,e),this.fs=t,this.$s=n,this.indexManager=r}return ne(e,[{key:"Bs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.fs.getEntry(e,t).next((function(e){var t,r=Vi(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Us",value:function(e,t){e.forEach((function(e,n){var r,i=Vi(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"qs",value:function(e,t){var n=this;return this.fs.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Us(t,e)}))}},{key:"Ks",value:function(e,t,n){return function(e){return zg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):Kk(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new zg(t)).next((function(e){var t=Yb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Yb();return this.indexManager.getCollectionParents(e,i).next((function(o){return gx.forEach(o,(function(o){var u=function(e,t){return new Uk(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.fs.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.$s.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=Vi(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=Vi(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=ck.newInvalidDocument(s),r=r.insert(s,c)),Ib(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Zk(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Z_=function(){function e(t,n,r,i){zi(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return ne(e,null,[{key:"Js",value:function(t,n){var r,i=ew(),a=ew(),o=Vi(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),eI=function(){function e(){zi(this,e)}return ne(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Ks",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(kg.min())?this.Zs(e,t):this.Xs.qs(e,r).next((function(a){var o=i.ti(t,a);return(Bk(t)||qk(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(Hy()<=Aa.DEBUG&&Qy("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Xk(t)),i.Xs.Ks(e,t,vk(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new Wb(tb(e));return t.forEach((function(t,r){Zk(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return Hy()<=Aa.DEBUG&&Qy("QueryEngine","Using full collection scan to execute query:",Xk(t)),this.Xs.Ks(e,t,yk.min())}}]),e}(),tI=function(){function e(t,n,r,i){zi(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new zb(vg),this.ii=new jb((function(e){return wk(e)}),xk),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(r)}return ne(e,[{key:"ui",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new X_(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function nI(e,t,n,r){return new tI(e,t,n,r)}function rI(e,t){return iI.apply(this,arguments)}function iI(){return iI=ji(qi().mark((function e(t,n){var r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=eg(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.$s.getAllMutationBatches(e).next((function(i){return t=i,r.ui(n),r.$s.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=ew(),s=Vi(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Vi(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Vi(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Vi(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ai.qs(e,u).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),iI.apply(this,arguments)}function aI(e,t){var n=eg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=gx.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Zy(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.$s.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}function oI(e){var t=eg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ls.getLastRemoteSnapshotVersion(e)}))}function uI(e,t){var n=eg(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.ls.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.ls.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Cg.EMPTY_BYTE_STRING,kg.min()).withLastLimboFreeSnapshotVersion(kg.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.ls.updateTargetData(e,c))}}));var u=Qb();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(sI(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(kg.min())){var s=n.ls.getLastRemoteSnapshotVersion(e).next((function(t){return n.ls.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return gx.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ai.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.si=i,e}))}function sI(e,t,n){var r=ew();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Qb();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(kg.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Qy("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function cI(e,t){var n=eg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.$s.getNextMutationBatchAfterBatchId(e,t)}))}function lI(e,t){var n=eg(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ls.getTargetData(e,t).next((function(i){return i?(r=i,gx.resolve(r)):n.ls.allocateTargetId(e).next((function(i){return r=new Lx(t,i,0,e.currentSequenceNumber),n.ls.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function fI(e,t,n){return hI.apply(this,arguments)}function hI(){return hI=ji(qi().mark((function e(t,n,r){var i,a,o;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=eg(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),_x(e.t1)){e.next=12;break}throw e.t1;case 12:Qy("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),hI.apply(this,arguments)}function dI(e,t,n){var r=eg(e),i=kg.min(),a=ew();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=eg(e),i=r.ii.get(n);return void 0!==i?gx.resolve(r.si.get(i)):r.ls.getTargetData(t,n)}(r,e,Qk(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Ks(e,t,n?i:kg.min(),n?a:ew())})).next((function(e){return mI(r,eb(t),e),{documents:e,hi:a}}))}))}function pI(e,t){var n=eg(e),r=eg(n.ls),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function vI(e,t){var n=eg(e),r=n.ri.get(t)||kg.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.oi.getAllFromCollectionGroup(e,t,vk(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return mI(n,t,e),e}))}function mI(e,t,n){var r=kg.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ri.set(t,r)}function yI(e,t,n,r){return gI.apply(this,arguments)}function gI(){return gI=ji(qi().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=eg(t),o=ew(),u=Qb(),s=Vi(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.li(l.metadata.name),l.document&&(o=o.add(f)),(h=n.fi(l)).setReadTime(n.di(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,lI(a,function(e){return Qk(zk(Ig.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return sI(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.ls.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.ls.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ai.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),gI.apply(this,arguments)}function kI(e,t){return bI.apply(this,arguments)}function bI(){return bI=ji(qi().mark((function e(t,n){var r,i,a,o=arguments;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:ew(),e.next=3,lI(t,Qk(Bx(n.bundledQuery)));case 3:return i=e.sent,a=eg(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=gw(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.ds.saveNamedQuery(e,n);var o=i.withResumeToken(Cg.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.ls.updateTargetData(e,o).next((function(){return a.ls.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.ls.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),bI.apply(this,arguments)}var wI=function(){function e(t){zi(this,e),this.M=t,this._i=new Map,this.wi=new Map}return ne(e,[{key:"getBundleMetadata",value:function(e,t){return gx.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:gw(n.createTime)}),gx.resolve()}},{key:"getNamedQuery",value:function(e,t){return gx.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:Bx(e.bundledQuery),readTime:gw(e.readTime)}}(t)),gx.resolve()}}]),e}(),xI=function(){function e(){zi(this,e),this.overlays=new zb(zg.comparator),this.mi=new Map}return ne(e,[{key:"getOverlay",value:function(e,t){return gx.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),gx.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),gx.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Jb(),i=t.length+1,a=new zg(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return gx.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new zb((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Jb(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Jb(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return gx.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Px(t,n));var a=this.mi.get(t);void 0===a&&(a=ew(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),_I=function(){function e(){zi(this,e),this.gi=new Wb(II.yi),this.pi=new Wb(II.Ii)}return ne(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new II(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new II(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new zg(new Ig([])),r=new II(n,e),i=new II(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new zg(new Ig([])),n=new II(t,e),r=new II(t,e+1),i=ew();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new II(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),II=function(){function e(t,n){zi(this,e),this.key=t,this.Vi=n}return ne(e,null,[{key:"yi",value:function(e,t){return zg.comparator(e.key,t.key)||vg(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return vg(e.Vi,t.Vi)||zg.comparator(e.key,t.key)}}]),e}(),SI=function(){function e(t,n){zi(this,e),this.indexManager=t,this.referenceDelegate=n,this.$s=[],this.vi=1,this.Si=new Wb(II.yi)}return ne(e,[{key:"checkEmpty",value:function(e){return gx.resolve(0===this.$s.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.$s.length>0&&this.$s[this.$s.length-1];var a=new Ax(i,t,n,r);this.$s.push(a);var o,u=Vi(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Si=this.Si.add(new II(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return gx.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return gx.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return gx.resolve(this.$s.length>i?this.$s[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return gx.resolve(0===this.$s.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return gx.resolve(this.$s.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new II(t,0),i=new II(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),gx.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Wb(vg);return t.forEach((function(e){var t=new II(e,0),i=new II(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),gx.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;zg.isDocumentKey(i)||(i=i.child(""));var a=new II(new zg(i),0),o=new Wb(vg);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),gx.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Zy(0===this.Ni(t.batchId,"removed")),this.$s.shift();var r=this.Si;return gx.forEach(t.mutations,(function(i){var a=new II(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new II(t,0),r=this.Si.firstAfterOrEqual(n);return gx.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.$s.length,gx.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.$s.length?0:e-this.$s[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}]),e}(),EI=function(){function e(t){zi(this,e),this.ki=t,this.docs=new zb(zg.comparator),this.size=0}return ne(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return gx.resolve(n?n.document.mutableCopy():ck.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Qb();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ck.newInvalidDocument(e))})),gx.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Qb(),i=new zg(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||gk(mk(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return gx.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Xy()}},{key:"Mi",value:function(e,t){return gx.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new TI(this)}},{key:"getSize",value:function(e){return gx.resolve(this.size)}}]),e}(),TI=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return zi(this,n),(r=t.call(this)).qn=e,r}return ne(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.qn.addEntry(e,i)):t.qn.removeEntry(r)})),gx.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.qn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.qn.getEntries(e,t)}}]),n}(F_),CI=function(){function e(t){zi(this,e),this.persistence=t,this.Oi=new jb((function(e){return wk(e)}),xk),this.lastRemoteSnapshotVersion=kg.min(),this.highestTargetId=0,this.Fi=0,this.$i=new _I,this.targetCount=0,this.Bi=I_.mn()}return ne(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),gx.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return gx.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return gx.resolve(this.Fi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),gx.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fi&&(this.Fi=t),gx.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new I_(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,gx.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),gx.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,gx.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),gx.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return gx.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return gx.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.$i.Ti(t,n),gx.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.$i.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),gx.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.$i.Ri(t),gx.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.$i.Pi(t);return gx.resolve(n)}},{key:"containsKey",value:function(e,t){return gx.resolve(this.$i.containsKey(t))}}]),e}(),NI=function(){function e(t,n){var r=this;zi(this,e),this.Li={},this.overlays={},this.ts=new hg(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new CI(this),this.indexManager=new u_,this.fs=new EI((function(e){return r.referenceDelegate.Ui(e)})),this.M=new Dx(n),this.ds=new wI(this.M)}return ne(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.es=!1,Promise.resolve()}},{key:"started",get:function(){return this.es}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new xI,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new SI(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Qy("MemoryPersistence","Starting transaction:",e);var i=new AI(this.ts.next());return this.referenceDelegate.qi(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ki",value:function(e,t){return gx.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),AI=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return zi(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ne(n)}(yx),RI=function(){function e(t){zi(this,e),this.persistence=t,this.Qi=new _I,this.ji=null}return ne(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw Xy()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),gx.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),gx.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),gx.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qi",value:function(){this.ji=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gx.forEach(this.zi,(function(r){var i=zg.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,kg.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"Ui",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return gx.or([function(){return gx.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ki(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function PI(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function LI(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function DI(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var OI=function(){function e(t,n,r,i){zi(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return ne(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new ng(a.error.code,a.error.message))),o?new e(t,n,a.state,i):($y("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),MI=function(){function e(t,n,r){zi(this,e),this.targetId=t,this.state=n,this.error=r}return ne(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ng(i.error.code,i.error.message))),a?new e(t,i.state,r):($y("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),FI=function(){function e(t,n){zi(this,e),this.clientId=t,this.activeTargetIds=n}return ne(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=nw(),o=0;i&&o<r.activeTargetIds.length;++o)i=jg(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):($y("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),VI=function(){function e(t,n){zi(this,e),this.clientId=t,this.onlineState=n}return ne(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):($y("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),UI=function(){function e(){zi(this,e),this.activeTargetIds=nw()}return ne(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),jI=function(){function e(t,n,r,i,a){zi(this,e),this.window=t,this.Jn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new zb(vg),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=PI(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new UI),this.ar=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return ne(e,[{key:"start",value:function(){var e=ji(qi().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Os();case 2:t=e.sent,n=Vi(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(PI(this.persistenceKey,i)))&&(o=FI.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=Vi(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(DI(this.persistenceKey,e));if(n){var r=MI.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(DI(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Qy("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Qy("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Qy("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Qy("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void $y("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable(ji(qi().mark((function e(){var r,i,a,o,u,s,c;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.ar.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=hg.A;if(null!=e)try{var n=JSON.parse(e);Zy("number"==typeof n),t=n}catch(e){$y("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==hg.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new OI(this.currentUser,e,t,n),i=LI(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=LI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=DI(this.persistenceKey,e),i=new MI(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.ar.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return FI.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return OI.Ji(new Wy(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return MI.Ji(r,t)}},{key:"wr",value:function(e){return VI.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"vr",value:function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:Qy("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Or(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=nw();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),zI=function(){function e(){zi(this,e),this.Fr=new UI,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ne(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new UI,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),BI=function(){function e(){zi(this,e)}return ne(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),qI=function(){function e(){var t=this;zi(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Gr()},this.Kr=[],this.Qr()}return ne(e,[{key:"Br",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){Qy("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Vi(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){Qy("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Vi(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),WI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},GI=function(){function e(t){zi(this,e),this.jr=t.jr,this.Wr=t.Wr}return ne(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),KI=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return zi(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return ne(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new By;o.listenOnce(Fy.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case My.NO_ERROR:var t=o.getResponseJson();Qy("Connection","XHR received:",JSON.stringify(t)),i(t);break;case My.TIMEOUT:Qy("Connection",'RPC "'+e+'" timed out'),a(new ng(tg.DEADLINE_EXCEEDED,"Request time out"));break;case My.HTTP_ERROR:var n=o.getStatus();if(Qy("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(tg).indexOf(t)>=0?t:tg.UNKNOWN}(r.status);a(new ng(u,r.message))}else a(new ng(tg.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ng(tg.UNAVAILABLE,"Connection failed."));break;default:Xy()}}finally{Qy("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Dy(),a=Oy(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new jy({})),this.uo(o.initMessageHeaders,t,n),ta()||ia()||ea().indexOf("Electron/")>=0||aa()||ea().indexOf("MSAppHost/")>=0||ra()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Qy("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new GI({jr:function(e){l?Qy("Connection","Not sending because WebChannel is closed:",e):(c||(Qy("Connection","Opening WebChannel transport."),s.open(),c=!0),Qy("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,zy.EventType.OPEN,(function(){l||Qy("Connection","WebChannel transport opened.")})),h(s,zy.EventType.CLOSE,(function(){l||(l=!0,Qy("Connection","WebChannel transport closed"),f.eo())})),h(s,zy.EventType.ERROR,(function(e){l||(l=!0,Yy("Connection","WebChannel transport errored:",e),f.eo(new ng(tg.UNAVAILABLE,"The operation could not be completed")))})),h(s,zy.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Zy(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Qy("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Lb[e];if(void 0!==t)return Ub(t)}(a),u=i.message;void 0===o&&(o=tg.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new ng(o,u)),s.close()}else Qy("Connection","WebChannel received:",n),f.no(n)}})),h(a,Vy.STAT_EVENT,(function(e){e.stat===Uy.PROXY?Qy("Connection","Detected buffering proxy"):e.stat===Uy.NOPROXY&&Qy("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){zi(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return ne(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);Qy("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.ao(e,a,o,n).then((function(e){return Qy("RestConnection","Received: ",e),e}),(function(t){throw Yy("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"co",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Gy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=WI[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function HI(){return"undefined"!=typeof window?window:null}function QI(){return"undefined"!=typeof document?document:null}function $I(e){return new pw(e,!0)}var YI=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;zi(this,e),this.Jn=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return ne(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&Qy("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),JI=function(){function e(t,n,r,i,a,o,u,s){zi(this,e),this.Jn=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new YI(t,n)}return ne(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"close",value:function(){var e=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===tg.RESOURCE_EXHAUSTED?($y(n.toString()),$y("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===tg.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new ng(tg.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.vo=n.Jn.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(ji(qi().mark((function t(){return qi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return Qy("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.Jn.enqueueAndForget((function(){return t.Po===e?n():(Qy("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),XI=function(e){Di(n,e);var t=Fi(n);function n(e,r,i,a,o,u){var s;return zi(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return ne(n,[{key:"Go",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Xy()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Zy(void 0===t||"string"==typeof t),Cg.fromBase64String(t||"")):(Zy(void 0===t||t instanceof Uint8Array),Cg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?tg.UNKNOWN:Ub(e.code);return new ng(t,e.message||"")}(o);n=new uw(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=xw(e,s.document.name),l=gw(s.document.updateTime),f=new uk({mapValue:{fields:s.document.fields}}),h=ck.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new aw(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=xw(e,v.document),y=v.readTime?gw(v.readTime):kg.min(),g=ck.newNoDocument(m,y),k=v.removedTargetIds||[];n=new aw([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=xw(e,b.document),x=b.removedTargetIds||[];n=new aw([],x,w,null)}else{if(!("filter"in t))return Xy();t.filter;var _=t.filter;_.targetId;var I=_.count||0,S=new Fb(I),E=_.targetId;n=new ow(E,S)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return kg.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?kg.min():t.readTime?gw(t.readTime):kg.min()}(e);return this.listener.Ko(t,n)}},{key:"Qo",value:function(e){var t={};t.database=Sw(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=_k(r)?{documents:Pw(e,r)}:{query:Lw(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=mw(e,t.resumeToken):t.snapshotVersion.compareTo(kg.min())>0&&(n.readTime=vw(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xy()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=Sw(this.M),t.removeTarget=e,this.Oo(t)}}]),n}(JI),ZI=function(e){Di(n,e);var t=Fi(n);function n(e,r,i,a,o,u){var s;return zi(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Wo=!1,s}return ne(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Li(Ri(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Go",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(Zy(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(Zy(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?gw(e.updateTime):gw(t);return n.isEqual(kg.min())&&(n=gw(t)),new kb(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=gw(e.commitTime);return this.listener.Jo(n,t)}return Zy(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=Sw(this.M),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Aw(t.M,e)}))};this.Oo(n)}}]),n}(JI),eS=function(e){Di(n,e);var t=Fi(n);function n(e,r,i,a){var o;return zi(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.Zo=!1,o}return ne(n,[{key:"tu",value:function(){if(this.Zo)throw new ng(tg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===tg.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ng(tg.UNKNOWN,e.toString())}))}},{key:"co",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],u=a[1];return r.bo.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===tg.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ng(tg.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return ne((function e(){zi(this,e)}))}()),tS=function(){function e(t,n){zi(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return ne(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?($y(t),this.su=!1):Qy("OnlineStateTracker",t)}},{key:"au",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),nS=ne((function e(t,n,r,i,a){var o=this;zi(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=dS(o),!e.t0){e.next=5;break}return Qy("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ji(qi().mark((function e(t){var n;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=eg(t)).lu.add(4),e.next=4,aS(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,rS(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new tS(r,i)}));function rS(e){return iS.apply(this,arguments)}function iS(){return iS=ji(qi().mark((function e(t){var n,r,i;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!dS(t)){e.next=18;break}n=Vi(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),iS.apply(this,arguments)}function aS(e){return oS.apply(this,arguments)}function oS(){return oS=ji(qi().mark((function e(t){var n,r,i;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Vi(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),oS.apply(this,arguments)}function uS(e,t){var n=eg(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),hS(n)?fS(n):BS(n).Co()&&cS(n,t))}function sS(e,t){var n=eg(e),r=BS(n);n.hu.delete(t),r.Co()&&lS(n,t),0===n.hu.size&&(r.Co()?r.ko():dS(n)&&n._u.set("Unknown"))}function cS(e,t){e.wu.Z(t.targetId),BS(e).Qo(t)}function lS(e,t){e.wu.Z(t),BS(e).jo(t)}function fS(e){e.wu=new cw({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.hu.get(t)||null}}),BS(e).start(),e._u.iu()}function hS(e){return dS(e)&&!BS(e).Do()&&e.hu.size>0}function dS(e){return 0===eg(e).lu.size}function pS(e){e.wu=void 0}function vS(e){return mS.apply(this,arguments)}function mS(){return mS=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){cS(t,e)}));case 1:case"end":return e.stop()}}),e)}))),mS.apply(this,arguments)}function yS(e,t){return gS.apply(this,arguments)}function gS(){return gS=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pS(t),hS(t)?(t._u.uu(n),fS(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),gS.apply(this,arguments)}function kS(e,t,n){return bS.apply(this,arguments)}function bS(){return bS=ji(qi().mark((function e(t,n,r){var i;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof uw&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ji(qi().mark((function e(t,n){var r,i,a,o;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Vi(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Qy("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,wS(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof aw?t.wu.ut(n):n instanceof ow?t.wu._t(n):t.wu.ht(n),r.isEqual(kg.min())){e.next=29;break}return e.prev=14,e.next=17,oI(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(Cg.EMPTY_BYTE_STRING,n.snapshotVersion)),lS(e,t);var r=new Lx(n.target,t,1,n.sequenceNumber);cS(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Qy("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,wS(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),bS.apply(this,arguments)}function wS(e,t,n){return xS.apply(this,arguments)}function xS(){return xS=ji(qi().mark((function e(t,n,r){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_x(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,aS(t);case 5:t._u.set("Offline"),r||(r=function(){return oI(t.localStore)}),t.asyncQueue.enqueueRetryable(ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qy("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,rS(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),xS.apply(this,arguments)}function _S(e,t){return t().catch((function(n){return wS(e,n,t)}))}function IS(e){return SS.apply(this,arguments)}function SS(){return SS=ji(qi().mark((function e(t){var n,r,i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=eg(t),r=qS(n),i=n.cu.length>0?n.cu[n.cu.length-1].batchId:-1;case 2:if(!ES(n)){e.next=19;break}return e.prev=3,e.next=6,cI(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.cu.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,TS(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,wS(n,e.t0);case 17:e.next=2;break;case 19:CS(n)&&NS(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),SS.apply(this,arguments)}function ES(e){return dS(e)&&e.cu.length<10}function TS(e,t){e.cu.push(t);var n=qS(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function CS(e){return dS(e)&&!qS(e).Do()&&e.cu.length>0}function NS(e){qS(e).start()}function AS(e){return RS.apply(this,arguments)}function RS(){return RS=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qS(t).Xo();case 1:case"end":return e.stop()}}),e)}))),RS.apply(this,arguments)}function PS(e){return LS.apply(this,arguments)}function LS(){return LS=ji(qi().mark((function e(t){var n,r,i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=qS(t),r=Vi(t.cu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),LS.apply(this,arguments)}function DS(e,t,n){return OS.apply(this,arguments)}function OS(){return OS=ji(qi().mark((function e(t,n,r){var i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.cu.shift(),a=Rx.from(i,n,r),e.next=3,_S(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,IS(t);case 5:case"end":return e.stop()}}),e)}))),OS.apply(this,arguments)}function MS(e,t){return FS.apply(this,arguments)}function FS(){return FS=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&qS(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=ji(qi().mark((function e(t,n){var r,i;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Vb(i=n.code)||i===tg.ABORTED){e.next=7;break}return r=t.cu.shift(),qS(t).No(),e.next=5,_S(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,IS(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:CS(t)&&NS(t);case 5:case"end":return e.stop()}}),e)}))),FS.apply(this,arguments)}function VS(e,t){return US.apply(this,arguments)}function US(){return US=ji(qi().mark((function e(t,n){var r,i;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=eg(t)).asyncQueue.verifyOperationInProgress(),Qy("RemoteStore","RemoteStore received new credentials"),i=dS(r),r.lu.add(3),e.next=6,aS(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,rS(r);case 12:case"end":return e.stop()}}),e)}))),US.apply(this,arguments)}function jS(e,t){return zS.apply(this,arguments)}function zS(){return zS=ji(qi().mark((function e(t,n){var r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=eg(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,rS(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,aS(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),zS.apply(this,arguments)}function BS(e){return e.mu||(e.mu=function(e,t,n){var r=eg(e);return r.tu(),new XI(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:vS.bind(null,e),Jr:yS.bind(null,e),Ko:kS.bind(null,e)}),e.fu.push(function(){var t=ji(qi().mark((function t(n){return qi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),hS(e)?fS(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:pS(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function qS(e){return e.gu||(e.gu=function(e,t,n){var r=eg(e);return r.tu(),new ZI(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:AS.bind(null,e),Jr:MS.bind(null,e),Yo:PS.bind(null,e),Jo:DS.bind(null,e)}),e.fu.push(function(){var t=ji(qi().mark((function t(n){return qi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,IS(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.cu.length>0&&(Qy("RemoteStore","Stopping write stream with ".concat(e.cu.length," pending writes")),e.cu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var WS=function(){function e(t,n,r,i,a){zi(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new rg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ne(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ng(tg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function GS(e,t){if($y("AsyncQueue","".concat(t,": ").concat(e)),_x(e))return new ng(tg.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var KS=function(){function e(t){zi(this,e),this.comparator=t?function(e,n){return t(e,n)||zg.comparator(e.key,n.key)}:function(e,t){return zg.comparator(e.key,t.key)},this.keyedMap=Yb(),this.sortedSet=new zb(this.comparator)}return ne(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),HS=function(){function e(){zi(this,e),this.yu=new zb(zg.comparator)}return ne(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Xy():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),QS=function(){function e(t,n,r,i,a,o,u,s){zi(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return ne(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yk(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,KS.emptySet(n),a,r,i,!0,!1)}}]),e}(),$S=ne((function e(){zi(this,e),this.Iu=void 0,this.listeners=[]})),YS=ne((function e(){zi(this,e),this.queries=new jb((function(e){return Jk(e)}),Yk),this.onlineState="Unknown",this.Tu=new Set}));function JS(e,t){return XS.apply(this,arguments)}function XS(){return XS=ji(qi().mark((function e(t,n){var r,i,a,o,u;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=eg(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new $S),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=GS(e.t0,"Initialization of query '".concat(Xk(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&rE(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),XS.apply(this,arguments)}function ZS(e,t){return eE.apply(this,arguments)}function eE(){return eE=ji(qi().mark((function e(t,n){var r,i,a,o,u;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=eg(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),eE.apply(this,arguments)}function tE(e,t){var n,r=eg(e),i=!1,a=Vi(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Vi(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&rE(r)}function nE(e,t,n){var r=eg(e),i=r.queries.get(t);if(i){var a,o=Vi(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function rE(e){e.Tu.forEach((function(e){e.next()}))}var iE=function(){function e(t,n,r){zi(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return ne(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Vi(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new QS(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),a=!0):this.vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=QS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),aE=function(){function e(t,n){zi(this,e),this.payload=t,this.byteLength=n}return ne(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),oE=function(){function e(t){zi(this,e),this.M=t}return ne(e,[{key:"li",value:function(e){return xw(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?Cw(this.M,e.document,!1):ck.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return gw(e)}}]),e}(),uE=function(){function e(t,n,r){zi(this,e),this.xu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=sE(t)}return ne(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Ig.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new oE(this.M),i=Vi(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.li(a.metadata.name),s=Vi(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||ew()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ji(qi().mark((function e(){var t,n,r,i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yI(this.localStore,new oE(this.M),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=Vi(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,kI(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function sE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var cE=ne((function e(t){zi(this,e),this.key=t})),lE=ne((function e(t){zi(this,e),this.key=t})),fE=function(){function e(t,n){zi(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=ew(),this.mutatedKeys=ew(),this.Lu=tb(t),this.Uu=new KS(this.Lu)}return ne(e,[{key:"qu",get:function(){return this.Fu}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Ku:new HS,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Bk(this.query)&&i.size===this.query.limit?i.last():null,c=qk(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Zk(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Bk(this.query)||qk(this.query))for(;o.size>this.query.limit;){var l=Bk(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Ku:r,ei:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Ku.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xy()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new QS(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new HS,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=ew(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new lE(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new cE(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.hi,this.Bu=ew();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return QS.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),hE=ne((function e(t,n,r){zi(this,e),this.query=t,this.targetId=n,this.view=r})),dE=ne((function e(t){zi(this,e),this.key=t,this.Xu=!1})),pE=function(){function e(t,n,r,i,a,o){zi(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.ta=new jb((function(e){return Jk(e)}),Yk),this.ea=new Map,this.na=new Set,this.sa=new zb(zg.comparator),this.ia=new Map,this.ra=new _I,this.oa={},this.ua=new Map,this.aa=I_.gn(),this.onlineState="Unknown",this.ca=void 0}return ne(e,[{key:"isPrimaryClient",get:function(){return!0===this.ca}}]),e}();function vE(e,t){return mE.apply(this,arguments)}function mE(){return mE=ji(qi().mark((function e(t,n){var r,i,a,o,u,s;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sT(t),!(o=r.ta.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,lI(r.localStore,Qk(n));case 8:return u=e.sent,r.isPrimaryClient&&uS(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,yE(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),mE.apply(this,arguments)}function yE(e,t,n,r){return gE.apply(this,arguments)}function gE(){return gE=ji(qi().mark((function e(t,n,r,i){var a,o,u,s,c,l;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ha=function(e,n,r){return function(){var e=ji(qi().mark((function e(t,n,r,i){var a,o,u;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,dI(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(VE(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,dI(t.localStore,n,!0);case 3:return a=e.sent,o=new fE(n,a.hi),u=o.Gu(a.documents),s=iw.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),VE(t,r,c.zu),l=new hE(n,r,o),e.abrupt("return",(t.ta.set(n,l),t.ea.has(r)?t.ea.get(r).push(n):t.ea.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}function kE(e,t){return bE.apply(this,arguments)}function bE(){return bE=ji(qi().mark((function e(t,n){var r,i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=eg(t),i=r.ta.get(n),!((a=r.ea.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ea.set(i.targetId,a.filter((function(e){return!Yk(e,n)}))),void r.ta.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,fI(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),sS(r.remoteStore,i.targetId),ME(r,i.targetId)})).catch(N_);case 9:e.next=14;break;case 11:return ME(r,i.targetId),e.next=14,fI(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}function wE(e,t,n){return xE.apply(this,arguments)}function xE(){return xE=ji(qi().mark((function e(t,n,r){var i,a,o;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cT(t),e.prev=1,e.next=4,function(e,t){var n,r=eg(e),i=gg.now(),a=t.reduce((function(e,t){return e.add(t.key)}),ew());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ai.qs(e,a).next((function(a){n=a;var o,u=[],s=Vi(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Sb(c,n.get(c.key));null!=l&&u.push(new Nb(c.key,l,sk(l.value.mapValue),bb.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.$s.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oa[e.currentUser.toKey()];r||(r=new zb(vg)),r=r.insert(t,n),e.oa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,zE(i,a.changes);case 9:return e.next=11,IS(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=GS(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),xE.apply(this,arguments)}function _E(e,t){return IE.apply(this,arguments)}function IE(){return IE=ji(qi().mark((function e(t,n){var r,i;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=eg(t),e.prev=1,e.next=4,uI(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ia.get(t);n&&(Zy(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?Zy(n.Xu):e.removedDocuments.size>0&&(Zy(n.Xu),n.Xu=!1))})),e.next=8,zE(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,N_(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),IE.apply(this,arguments)}function SE(e,t,n){var r=eg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ta.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=eg(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Vi(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&rE(n)}(r.eventManager,t),i.length&&r.Zu.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function EE(e,t,n){return TE.apply(this,arguments)}function TE(){return TE=ji(qi().mark((function e(t,n,r){var i,a,o,u,s,c;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=eg(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ia.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new zb(zg.comparator)).insert(o,ck.newNoDocument(o,kg.min())),s=ew().add(o),c=new rw(kg.min(),new Map,new Wb(vg),u,s),e.next=9,_E(i,c);case 9:i.sa=i.sa.remove(o),i.ia.delete(n),jE(i),e.next=16;break;case 14:return e.next=16,fI(i.localStore,n,!1).then((function(){return ME(i,n,r)})).catch(N_);case 16:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}function CE(e,t){return NE.apply(this,arguments)}function NE(){return NE=ji(qi().mark((function e(t,n){var r,i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=eg(t),i=n.batch.batchId,e.prev=1,e.next=4,aI(r.localStore,n);case 4:return a=e.sent,OE(r,i,null),DE(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,zE(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,N_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),NE.apply(this,arguments)}function AE(e,t,n){return RE.apply(this,arguments)}function RE(){return RE=ji(qi().mark((function e(t,n,r){var i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=eg(t),e.prev=1,e.next=4,function(e,t){var n=eg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.$s.lookupMutationBatch(e,t).next((function(t){return Zy(null!==t),r=t.keys(),n.$s.removeMutationBatch(e,t)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,OE(i,n,r),DE(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,zE(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,N_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),RE.apply(this,arguments)}function PE(e,t){return LE.apply(this,arguments)}function LE(){return LE=ji(qi().mark((function e(t,n){var r,i,a,o;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dS((r=eg(t)).remoteStore)||Qy("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=eg(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.$s.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ua.get(i)||[]).push(n),r.ua.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=GS(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),LE.apply(this,arguments)}function DE(e,t){(e.ua.get(t)||[]).forEach((function(e){e.resolve()})),e.ua.delete(t)}function OE(e,t,n){var r=eg(e),i=r.oa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oa[r.currentUser.toKey()]=i}}function ME(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Vi(e.ea.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ta.delete(a),n&&e.Zu.la(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ea.delete(t),e.isPrimaryClient&&e.ra.Ri(t).forEach((function(t){e.ra.containsKey(t)||FE(e,t)}))}function FE(e,t){e.na.delete(t.path.canonicalString());var n=e.sa.get(t);null!==n&&(sS(e.remoteStore,n),e.sa=e.sa.remove(t),e.ia.delete(n),jE(e))}function VE(e,t,n){var r,i=Vi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof cE?(e.ra.addReference(a.key,t),UE(e,a)):a instanceof lE?(Qy("SyncEngine","Document no longer in limbo: "+a.key),e.ra.removeReference(a.key,t),e.ra.containsKey(a.key)||FE(e,a.key)):Xy()}}catch(o){i.e(o)}finally{i.f()}}function UE(e,t){var n=t.key,r=n.path.canonicalString();e.sa.get(n)||e.na.has(r)||(Qy("SyncEngine","New document in limbo: "+n),e.na.add(r),jE(e))}function jE(e){for(;e.na.size>0&&e.sa.size<e.maxConcurrentLimboResolutions;){var t=e.na.values().next().value;e.na.delete(t);var n=new zg(Ig.fromString(t)),r=e.aa.next();e.ia.set(r,new dE(n)),e.sa=e.sa.insert(n,r),uS(e.remoteStore,new Lx(Qk(zk(n.path)),r,2,hg.A))}}function zE(e,t,n){return BE.apply(this,arguments)}function BE(){return BE=ji(qi().mark((function e(t,n,r){var i,a,o,u;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=eg(t),a=[],o=[],u=[],e.t0=i.ta.isEmpty(),e.t0){e.next=9;break}return i.ta.forEach((function(e,t){u.push(i.ha(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Z_.Js(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Ko(a),e.next=9,function(){var e=ji(qi().mark((function e(t,n){var r,i,a,o,u,s,c,l;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=eg(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return gx.forEach(n,(function(t){return gx.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return gx.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),_x(e.t0)){e.next=10;break}throw e.t0;case 10:Qy("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Vi(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.si.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.si=r.si.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),BE.apply(this,arguments)}function qE(e,t){return WE.apply(this,arguments)}function WE(){return WE=ji(qi().mark((function e(t,n){var r,i;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=eg(t)).currentUser.isEqual(n)){e.next=11;break}return Qy("SyncEngine","User change. New user:",n.toKey()),e.next=5,rI(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ua.forEach((function(e){e.forEach((function(e){e.reject(new ng(tg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ua.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,zE(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),WE.apply(this,arguments)}function GE(e,t){var n=eg(e),r=n.ia.get(t);if(r&&r.Xu)return ew().add(r.key);var i=ew(),a=n.ea.get(t);if(!a)return i;var o,u=Vi(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ta.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function KE(e,t){return HE.apply(this,arguments)}function HE(){return HE=ji(qi().mark((function e(t,n){var r,i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=eg(t),e.next=3,dI(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&VE(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),HE.apply(this,arguments)}function QE(e,t){return $E.apply(this,arguments)}function $E(){return $E=ji(qi().mark((function e(t,n){var r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=eg(t),e.abrupt("return",vI(r.localStore,n).then((function(e){return zE(r,e)})));case 2:case"end":return e.stop()}}),e)}))),$E.apply(this,arguments)}function YE(e,t,n,r){return JE.apply(this,arguments)}function JE(){return JE=ji(qi().mark((function e(t,n,r,i){var a,o;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=eg(t),e.next=3,function(e,t){var n=eg(e),r=eg(n.$s);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ai.qs(e,t):gx.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,IS(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(OE(a,n,i||null),DE(a,n),function(e,t){eg(eg(e).$s).dn(t)}(a.localStore,n)):Xy();case 11:return e.next=13,zE(a,o);case 13:e.next=16;break;case 15:Qy("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),JE.apply(this,arguments)}function XE(e,t){return ZE.apply(this,arguments)}function ZE(){return ZE=ji(qi().mark((function e(t,n){var r,i,a,o,u,s,c,l;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sT(r=eg(t)),cT(r),!0!==n||!0===r.ca){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,eT(r,i.toArray());case 5:return a=e.sent,r.ca=!0,e.next=9,jS(r.remoteStore,!0);case 9:o=Vi(a);try{for(o.s();!(u=o.n()).done;)s=u.value,uS(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ca){e.next=25;break}return c=[],l=Promise.resolve(),r.ea.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return ME(r,t),fI(r.localStore,t,!0)})),sS(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,eT(r,c);case 21:return function(e){var t=eg(e);t.ia.forEach((function(e,n){sS(t.remoteStore,n)})),t.ra.bi(),t.ia=new Map,t.sa=new zb(zg.comparator)}(r),r.ca=!1,e.next=25,jS(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),ZE.apply(this,arguments)}function eT(e,t,n){return tT.apply(this,arguments)}function tT(){return tT=ji(qi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=eg(t),a=[],o=[],u=Vi(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ea.get(c))||0===f.length){e.next=34;break}return e.next=11,lI(i.localStore,Qk(f[0]));case 11:l=e.sent,h=Vi(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ta.get(p),e.next=20,KE(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,pI(i.localStore,c);case 36:return y=e.sent,e.next=39,lI(i.localStore,y);case 39:return l=e.sent,e.next=42,yE(i,nT(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),tT.apply(this,arguments)}function nT(e){return jk(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function rT(e){var t=eg(e);return eg(eg(t.localStore).persistence).Os()}function iT(e,t,n,r){return aT.apply(this,arguments)}function aT(){return aT=ji(qi().mark((function e(t,n,r,i){var a,o,u,s;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=eg(t)).ca){e.next=3;break}return e.abrupt("return",void Qy("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ea.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,vI(a.localStore,eb(o[0]));case 10:return u=e.sent,s=rw.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,zE(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,fI(a.localStore,n,!0);case 17:return ME(a,n,i),e.abrupt("break",20);case 19:Xy();case 20:case"end":return e.stop()}}),e)}))),aT.apply(this,arguments)}function oT(e,t,n){return uT.apply(this,arguments)}function uT(){return uT=ji(qi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=sT(t)).ca){e.next=45;break}a=Vi(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ea.has(u)){e.next=10;break}return Qy("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,pI(i.localStore,u);case 12:return s=e.sent,e.next=15,lI(i.localStore,s);case 15:return c=e.sent,e.next=18,yE(i,nT(s),c.targetId,!1);case 18:uS(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Vi(r),e.prev=30,h=qi().mark((function e(){var t;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ea.has(t),!e.t0){e.next=5;break}return e.next=5,fI(i.localStore,t,!1).then((function(){sS(i.remoteStore,t),ME(i,t)})).catch(N_);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),uT.apply(this,arguments)}function sT(e){var t=eg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_E.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=GE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=EE.bind(null,t),t.Zu.Ko=tE.bind(null,t.eventManager),t.Zu.la=nE.bind(null,t.eventManager),t}function cT(e){var t=eg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=CE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AE.bind(null,t),t}function lT(e,t,n){var r=eg(e);(function(){var e=ji(qi().mark((function e(t,n,r){var i,a,o,u,s;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=eg(e),r=gw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(sE(i)),a=new uE(i,t.localStore,n.M),e.next=15,n.fa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,zE(t,s.Ou,void 0);case 31:return e.next=33,function(e,t){var n=eg(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Yy("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var fT=function(){function e(){zi(this,e),this.synchronizeTabs=!1}return ne(e,[{key:"initialize",value:function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=$I(t.databaseInfo.databaseId),this.sharedClientState=this.da(t),this.persistence=this._a(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.wa(t),this.localStore=this.ma(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wa",value:function(e){return null}},{key:"ma",value:function(e){return nI(this.persistence,new eI,e.initialUser,this.M)}},{key:"_a",value:function(e){return new NI(RI.Wi,this.M)}},{key:"da",value:function(e){return new zI}},{key:"terminate",value:function(){var e=ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),hT=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a;return zi(this,n),(a=t.call(this)).ga=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return ne(n,[{key:"initialize",value:function(){var e=ji(qi().mark((function e(t){var r=this;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li(Ri(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ga.initialize(this,t);case 4:return e.next=6,cT(this.ga.syncEngine);case 6:return e.next=8,IS(this.ga.remoteStore);case 8:return e.next=10,this.persistence.Is((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return nI(this.persistence,new eI,e.initialUser,this.M)}},{key:"wa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new L_(t,e.asyncQueue)}},{key:"_a",value:function(e){var t=J_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?m_.withCacheSize(this.cacheSizeBytes):m_.DEFAULT;return new Q_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,HI(),QI(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"da",value:function(e){return new zI}}]),n}(fT),dT=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return zi(this,n),(i=t.call(this,e,r,!1)).ga=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ne(n,[{key:"initialize",value:function(){var e=ji(qi().mark((function e(t){var r,i=this;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li(Ri(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ga.syncEngine,e.t0=this.sharedClientState instanceof jI,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:YE.bind(null,r),Mr:iT.bind(null,r),Or:oT.bind(null,r),Os:rT.bind(null,r),Nr:QE.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Is(function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XE(i.ga.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"da",value:function(e){var t=HI();if(!jI.vt(t))throw new ng(tg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=J_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jI(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(hT),pT=function(){function e(){zi(this,e)}return ne(e,[{key:"initialize",value:function(){var e=ji(qi().mark((function e(t,n){var r=this;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return SE(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=qE.bind(null,this.syncEngine),e.next=12,jS(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new YS}},{key:"createDatastore",value:function(e){var t,n=$I(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new KI(t));return function(e,t,n,r){return new eS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return SE(o.syncEngine,e,0)},a=qI.vt()?new qI:new BI,new nS(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new pE(e,t,n,r,i,a);return o&&(u.ca=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ji(qi().mark((function e(t){var n;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=eg(t),Qy("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,aS(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function vT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ji(qi().mark((function r(){var i;return qi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var mT=function(){function e(t){zi(this,e),this.observer=t,this.muted=!1}return ne(e,[{key:"next",value:function(e){this.observer.next&&this.ya(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"pa",value:function(){this.muted=!0}},{key:"ya",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),yT=function(){function e(t,n){var r=this;zi(this,e),this.Ia=t,this.M=n,this.metadata=new rg,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return ne(e,[{key:"close",value:function(){return this.Ia.cancel()}},{key:"getMetadata",value:function(){var e=ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fa",value:function(){var e=ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ea());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ea",value:function(){var e=ji(qi().mark((function e(){var t,n,r,i;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Aa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ta.decode(t),r=Number(n),isNaN(r)&&this.Ra("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new aE(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Aa",value:function(){var e=ji(qi().mark((function e(){var t,n;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Pa()<0)){e.next=7;break}return e.next=3,this.Va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Pa())<0&&this.Ra("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=ji(qi().mark((function e(t){var n;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ra("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ta.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ra",value:function(e){throw this.Ia.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Va",value:function(){var e=ji(qi().mark((function e(){var t,n;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ia.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),gT=function(){function e(t){zi(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return ne(e,[{key:"lookup",value:function(){var e=ji(qi().mark((function e(t){var n,r=this;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new ng(tg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ji(qi().mark((function e(t,n){var r,i,a,o,u,s;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=eg(t),i=Sw(r.M)+"/documents",a={documents:n.map((function(e){return ww(r.M,e)}))},e.next=5,r.co("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Nw(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Zy(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Ob(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ji(qi().mark((function e(){var t,n=this;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=zg.fromPath(t);n.mutations.push(new Mb(r,n.precondition(r)))})),e.next=7,function(){var e=ji(qi().mark((function e(t,n){var r,i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=eg(t),i=Sw(r.M)+"/documents",a={writes:n.map((function(e){return Aw(r.M,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xy();t=kg.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ng(tg.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?bb.updateTime(t):bb.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(kg.min()))throw new ng(tg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bb.updateTime(t)}return bb.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),kT=function(){function e(t,n,r,i){zi(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new YI(this.asyncQueue,"transaction_retry")}return ne(e,[{key:"run",value:function(){this.va-=1,this.Sa()}},{key:"Sa",value:function(){var e=this;this.So.Io(ji(qi().mark((function t(){var n,r;return qi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new gT(e.datastore),(r=e.Da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ca(t)}))}))})).catch((function(t){e.Ca(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Da",value:function(e){try{var t=this.updateFunction(e);return!Vg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ca",value:function(e){var t=this;this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget((function(){return t.Sa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"xa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Vb(t)}return!1}}]),e}(),bT=function(){function e(t,n,r,i){var a=this;zi(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wy.UNAUTHENTICATED,this.clientId=pg.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qy("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Qy("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return ne(e,[{key:"getConfiguration",value:function(){var e=ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new ng(tg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new rg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ji(qi().mark((function n(){var r;return qi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=GS(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function wT(e,t){return xT.apply(this,arguments)}function xT(){return xT=ji(qi().mark((function e(t,n){var r,i;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Qy("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,rI(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),xT.apply(this,arguments)}function _T(e,t){return IT.apply(this,arguments)}function IT(){return IT=ji(qi().mark((function e(t,n){var r,i;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,ST(t);case 3:return r=e.sent,Qy("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return VS(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return VS(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),IT.apply(this,arguments)}function ST(e){return ET.apply(this,arguments)}function ET(){return ET=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Qy("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,wT(t,new fT);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),ET.apply(this,arguments)}function TT(e){return CT.apply(this,arguments)}function CT(){return CT=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Qy("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,_T(t,new pT);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),CT.apply(this,arguments)}function NT(e){return ST(e).then((function(e){return e.persistence}))}function AT(e){return ST(e).then((function(e){return e.localStore}))}function RT(e){return TT(e).then((function(e){return e.remoteStore}))}function PT(e){return TT(e).then((function(e){return e.syncEngine}))}function LT(e){return DT.apply(this,arguments)}function DT(){return DT=ji(qi().mark((function e(t){var n,r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,TT(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=vE.bind(null,n.syncEngine),r.onUnlisten=kE.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),DT.apply(this,arguments)}function OT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new rg;return e.asyncQueue.enqueueAndForget(ji(qi().mark((function i(){return qi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new mT({next:function(a){t.enqueueAndForget((function(){return ZS(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new ng(tg.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new ng(tg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new iE(zk(n.path),a,{includeMetadataChanges:!0,Du:!0});return JS(e,o)},i.next=3,LT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function MT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new rg;return e.asyncQueue.enqueueAndForget(ji(qi().mark((function i(){return qi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new mT({next:function(n){t.enqueueAndForget((function(){return ZS(e,o)})),n.fromCache&&"server"===r.source?i.reject(new ng(tg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new iE(n,a,{includeMetadataChanges:!0,Du:!0});return JS(e,o)},i.next=3,LT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var FT=new Map;function VT(e,t,n){if(!n)throw new ng(tg.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function UT(e,t,n,r){if(!0===t&&!0===r)throw new ng(tg.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function jT(e){if(!zg.isDocumentKey(e))throw new ng(tg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function zT(e){if(zg.isDocumentKey(e))throw new ng(tg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function BT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Xy()}function qT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ng(tg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=BT(e);throw new ng(tg.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function WT(e,t){if(t<=0)throw new ng(tg.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var GT=function(){function e(t){var n;if(zi(this,e),void 0===t.host){if(void 0!==t.ssl)throw new ng(tg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ng(tg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,UT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return ne(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),KT=function(){function e(t,n,r){zi(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GT({}),this._settingsFrozen=!1,t instanceof Fg?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ng(tg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fg(e.options.projectId)}(t))}return ne(e,[{key:"app",get:function(){if(!this._app)throw new ng(tg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new ng(tg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ag;switch(e.type){case"gapi":var t=e.client;return Zy(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new cg(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ng(tg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=FT.get(e);t&&(Qy("ComponentProvider","Removing Datastore"),FT.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function HT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=qT(e,KT))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Yy("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Wy.MOCK_USER;else{o=Zi(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new ng(tg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Wy(s)}e._authCredentials=new og(new ig(o,u))}}var QT=function(){function e(t,n,r){zi(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ne(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new YT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),$T=function(){function e(t,n,r){zi(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ne(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),YT=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a;return zi(this,n),(a=t.call(this,e,r,zk(i)))._path=i,a.type="collection",a}return ne(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new QT(this.firestore,null,new zg(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}($T);function JT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ba(e),VT("collection","path",t),e instanceof KT){var a=Ig.fromString.apply(Ig,[t].concat(r));return zT(a),new YT(e,null,a)}if(!(e instanceof QT||e instanceof YT))throw new ng(tg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ig.fromString.apply(Ig,[t].concat(r)));return zT(o),new YT(e.firestore,null,o)}function XT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ba(e),1===arguments.length&&(t=pg.R()),VT("doc","path",t),e instanceof KT){var a=Ig.fromString.apply(Ig,[t].concat(r));return jT(a),new QT(e,null,new zg(a))}if(!(e instanceof QT||e instanceof YT))throw new ng(tg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ig.fromString.apply(Ig,[t].concat(r)));return jT(o),new QT(e.firestore,e instanceof YT?e.converter:null,new zg(o))}function ZT(e,t){return e=ba(e),t=ba(t),(e instanceof QT||e instanceof YT)&&(t instanceof QT||t instanceof YT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function eC(e,t){return e=ba(e),t=ba(t),e instanceof $T&&t instanceof $T&&e.firestore===t.firestore&&Yk(e._query,t._query)&&e.converter===t.converter}var tC=function(){function e(){var t=this;zi(this,e),this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new YI(this,"async_queue_retry"),this.Ua=function(){var e=QI();e&&Qy("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=QI();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ua)}return ne(e,[{key:"isShuttingDown",get:function(){return this.Ma}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.qa(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;var t=QI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}},{key:"enqueue",value:function(e){var t=this;if(this.qa(),this.Ma)return new Promise((function(){}));var n=new rg;return this.Ga((function(){return t.Ma&&t.Ba?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ka.push(e),t.Ka()}))}},{key:"Ka",value:function(){var e=ji(qi().mark((function e(){var t=this;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ka.length){e.next=14;break}return e.prev=1,e.next=4,this.ka[0]();case 4:this.ka.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),_x(e.t0)){e.next=12;break}throw e.t0;case 12:Qy("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ka.length>0&&this.So.Io((function(){return t.Ka()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.Na.then((function(){return t.$a=!0,e().catch((function(e){t.Fa=e,t.$a=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw $y("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.$a=!1,e}))}));return this.Na=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.qa(),this.La.indexOf(e)>-1&&(t=0);var i=WS.createAndSchedule(this,e,t,n,(function(e){return r.Qa(e)}));return this.Oa.push(i),i}},{key:"qa",value:function(){this.Fa&&Xy()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ja",value:function(){var e=ji(qi().mark((function e(){var t;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Na,e.next=3,t;case 3:if(t!==this.Na){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t,n=Vi(this.Oa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"za",value:function(e){var t=this;return this.ja().then((function(){t.Oa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Vi(t.Oa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ja()}))}},{key:"Ha",value:function(e){this.La.push(e)}},{key:"Qa",value:function(e){var t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}]),e}();function nC(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Vi(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var rC=function(){function e(){zi(this,e),this._progressObserver={},this._taskCompletionResolver=new rg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return ne(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),iC=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a;return zi(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new tC,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return ne(n,[{key:"_terminate",value:function(){return this._firestoreClient||oC(this),this._firestoreClient.terminate()}}]),n}(KT);function aC(e){return e._firestoreClient||oC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function oC(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Mg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new bT(e._authCredentials,e._appCheckCredentials,e._queue,r)}function uC(e,t,n){var r=new rg;return e.asyncQueue.enqueue(ji(qi().mark((function i(){return qi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,wT(e,n);case 3:return i.next=5,_T(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===tg.FAILED_PRECONDITION||e.code===tg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function sC(e){return function(e){return e.asyncQueue.enqueue(ji(qi().mark((function t(){var n,r;return qi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,NT(e);case 2:return n=t.sent,t.next=5,RT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=eg(e);return t.lu.delete(0),rS(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(aC(e=qT(e,iC)))}function cC(e){return function(e){return e.asyncQueue.enqueue(ji(qi().mark((function t(){var n,r;return qi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,NT(e);case 2:return n=t.sent,t.next=5,RT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ji(qi().mark((function e(t){var n;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=eg(t)).lu.add(0),e.next=4,aS(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(aC(e=qT(e,iC)))}function lC(e,t){var n=aC(e=qT(e,iC)),r=new rC;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new yT(e,t)}(function(e,t){if(e instanceof Uint8Array)return vT(e,t);if(e instanceof ArrayBuffer)return vT(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,$I(t));e.asyncQueue.enqueueAndForget(ji(qi().mark((function t(){return qi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=lT,t.next=3,PT(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function fC(e,t){return function(e,t){return e.asyncQueue.enqueue(ji(qi().mark((function n(){return qi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=eg(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.ds.getNamedQuery(e,t)}))},n.next=3,AT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(aC(e=qT(e,iC)),t).then((function(t){return t?new $T(e,null,t.query):null}))}function hC(e){if(e._initialized||e._terminated)throw new ng(tg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var dC=function(){function e(){zi(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new ng(tg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Eg(n)}return ne(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var pC=function(){function e(t){zi(this,e),this._byteString=t}return ne(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Cg.fromBase64String(t))}catch(t){throw new ng(tg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Cg.fromUint8Array(t))}}]),e}(),vC=ne((function e(t){zi(this,e),this._methodName=t})),mC=function(){function e(t,n){if(zi(this,e),!isFinite(t)||t<-90||t>90)throw new ng(tg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ng(tg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ne(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return vg(this._lat,e._lat)||vg(this._long,e._long)}}]),e}(),yC=/^__.*__$/,gC=function(){function e(t,n,r){zi(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ne(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Nb(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cb(e,this.data,t,this.fieldTransforms)}}]),e}(),kC=function(){function e(t,n,r){zi(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ne(e,[{key:"toMutation",value:function(e,t){return new Nb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function bC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xy()}}var wC=function(){function e(t,n,r,i,a,o){zi(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return ne(e,[{key:"path",get:function(){return this.settings.path}},{key:"Ya",get:function(){return this.settings.Ya}},{key:"Xa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Za",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.ec(e),r}},{key:"nc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.Ja(),r}},{key:"sc",value:function(e){return this.Xa({path:void 0,tc:!0})}},{key:"ic",value:function(e){return zC(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ja",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ec(this.path.get(e))}},{key:"ec",value:function(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(bC(this.Ya)&&yC.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}]),e}(),xC=function(){function e(t,n,r){zi(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||$I(t)}return ne(e,[{key:"uc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new wC({Ya:e,methodName:t,oc:n,path:Eg.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function _C(e){var t=e._freezeSettings(),n=$I(e._databaseId);return new xC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function IC(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.uc(a.merge||a.mergeFields?2:0,t,n,i);FC("Data must be an object, but it was:",o,r);var u,s,c=OC(r,o);if(a.merge)u=new Tg(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Vi(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=VC(t,d,n);if(!o.contains(p))throw new ng(tg.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));BC(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Tg(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new gC(new uk(c),u,s)}var SC=function(e){Di(n,e);var t=Fi(n);function n(){return zi(this,n),t.apply(this,arguments)}return ne(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Ya)throw 1===e.Ya?e.ic("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ic("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(vC);function EC(e,t,n){return new wC({Ya:3,oc:t.settings.oc,methodName:e._methodName,tc:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var TC=function(e){Di(n,e);var t=Fi(n);function n(){return zi(this,n),t.apply(this,arguments)}return ne(n,[{key:"_toFieldTransform",value:function(e){return new gb(e.path,new lb)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(vC),CC=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return zi(this,n),(i=t.call(this,e)).ac=r,i}return ne(n,[{key:"_toFieldTransform",value:function(e){var t=EC(this,e,!0),n=this.ac.map((function(e){return DC(e,t)})),r=new fb(n);return new gb(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vC),NC=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return zi(this,n),(i=t.call(this,e)).ac=r,i}return ne(n,[{key:"_toFieldTransform",value:function(e){var t=EC(this,e,!0),n=this.ac.map((function(e){return DC(e,t)})),r=new db(n);return new gb(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vC),AC=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return zi(this,n),(i=t.call(this,e)).cc=r,i}return ne(n,[{key:"_toFieldTransform",value:function(e){var t=new vb(e.M,ab(e.M,this.cc));return new gb(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vC);function RC(e,t,n,r){var i=e.uc(1,t,n);FC("Data must be an object, but it was:",i,r);var a=[],o=uk.empty();wg(r,(function(e,r){var u=jC(t,e,n);r=ba(r);var s=i.nc(u);if(r instanceof SC)a.push(u);else{var c=DC(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Tg(a);return new kC(o,u,i.fieldTransforms)}function PC(e,t,n,r,i,a){var o=e.uc(1,t,n),u=[VC(t,r,n)],s=[i];if(a.length%2!=0)throw new ng(tg.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(VC(t,a[c])),s.push(a[c+1]);for(var l=[],f=uk.empty(),h=u.length-1;h>=0;--h)if(!BC(l,u[h])){var d=u[h],p=s[h];p=ba(p);var v=o.nc(d);if(p instanceof SC)l.push(d);else{var m=DC(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Tg(l);return new kC(f,y,o.fieldTransforms)}function LC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return DC(n,e.uc(r?4:3,t))}function DC(e,t){if(MC(e=ba(e)))return FC("Unsupported field value:",t,e),OC(e,t);if(e instanceof vC)return function(e,t){if(!bC(t.Ya))throw t.ic("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ic("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.tc&&4!==t.Ya)throw t.ic("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Vi(e);try{for(a.s();!(n=a.n()).done;){var o=DC(n.value,t.sc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ba(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ab(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=gg.fromDate(e);return{timestampValue:vw(t.M,n)}}if(e instanceof gg){var r=new gg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:vw(t.M,r)}}if(e instanceof mC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof pC)return{bytesValue:mw(t.M,e._byteString)};if(e instanceof QT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ic("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:kw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ic("Unsupported field value: ".concat(BT(e)))}(e,t)}function OC(e,t){var n={};return xg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wg(e,(function(e,r){var i=DC(r,t.Za(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function MC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof gg||e instanceof mC||e instanceof pC||e instanceof QT||e instanceof vC)}function FC(e,t,n){if(!MC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=BT(n);throw"an object"===r?t.ic(e+" a custom object"):t.ic(e+" "+r)}}function VC(e,t,n){if((t=ba(t))instanceof dC)return t._internalPath;if("string"==typeof t)return jC(e,t);throw zC("Field path arguments must be of type string or ",e,!1,void 0,n)}var UC=new RegExp("[~\\*/\\[\\]]");function jC(e,t,n){if(t.search(UC)>=0)throw zC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Wi(dC,en(t.split(".")))._internalPath}catch(r){throw zC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function zC(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new ng(tg.INVALID_ARGUMENT,u+e+s)}function BC(e,t){return e.some((function(e){return e.isEqual(t)}))}var qC=function(){function e(t,n,r,i,a){zi(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return ne(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new QT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new WC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(GC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),WC=function(e){Di(n,e);var t=Fi(n);function n(){return zi(this,n),t.apply(this,arguments)}return ne(n,[{key:"data",value:function(){return Li(Ri(n.prototype),"data",this).call(this)}}]),n}(qC);function GC(e,t){return"string"==typeof t?jC(e,t):t instanceof dC?t._internalPath:t._delegate._internalPath}var KC=function(){function e(t,n){zi(this,e),this.hasPendingWrites=t,this.fromCache=n}return ne(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),HC=function(e){Di(n,e);var t=Fi(n);function n(e,r,i,a,o,u){var s;return zi(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return ne(n,[{key:"exists",value:function(){return Li(Ri(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new QC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(GC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(qC),QC=function(e){Di(n,e);var t=Fi(n);function n(){return zi(this,n),t.apply(this,arguments)}return ne(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Li(Ri(n.prototype),"data",this).call(this,e)}}]),n}(HC),$C=function(){function e(t,n,r,i){zi(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new KC(i.hasPendingWrites,i.fromCache),this.query=r}return ne(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new QC(n._firestore,n._userDataWriter,r.key,r,new KC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ng(tg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new QC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new KC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new QC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new KC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:YC(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function YC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xy()}}function JC(e,t){return e instanceof HC&&t instanceof HC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof $C&&t instanceof $C&&e._firestore===t._firestore&&eC(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function XC(e){if(qk(e)&&0===e.explicitOrderBy.length)throw new ng(tg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ZC=ne((function e(){zi(this,e)}));function eN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var tN=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a;return zi(this,n),(a=t.call(this)).hc=e,a.lc=r,a.fc=i,a.type="where",a}return ne(n,[{key:"_apply",value:function(e){var t=_C(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new ng(tg.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){hN(o,a);var s,c=[],l=Vi(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(fN(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=fN(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||hN(o,a),u=LC(n,"where",o,"in"===a||"not-in"===a);var h=Sk.create(i,a,u);return function(e,t){if(t.S()){var n=Gk(e);if(null!==n&&!n.isEqual(t.field))throw new ng(tg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Wk(e);null!==r&&dN(e,t.field,r)}var i=function(e,t){var n,r=Vi(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new ng(tg.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ng(tg.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new $T(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Uk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(ZC);var nN=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return zi(this,n),(i=t.call(this)).hc=e,i.dc=r,i.type="orderBy",i}return ne(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ng(tg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ng(tg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ok(t,n);return function(e,t){if(null===Wk(e)){var n=Gk(e);null!==n&&dN(e,n,t.field)}}(e,r),r}(e._query,this.hc,this.dc);return new $T(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Uk(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(ZC);var rN=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a;return zi(this,n),(a=t.call(this)).type=e,a._c=r,a.wc=i,a}return ne(n,[{key:"_apply",value:function(e){return new $T(e.firestore,e.converter,$k(e._query,this._c,this.wc))}}]),n}(ZC);var iN=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a;return zi(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return ne(n,[{key:"_apply",value:function(e){var t=lN(e,this.type,this.mc,this.gc);return new $T(e.firestore,e.converter,function(e,t){return new Uk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(ZC);function aN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new iN("startAt",t,!0)}function oN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new iN("startAfter",t,!1)}var uN=function(e){Di(n,e);var t=Fi(n);function n(e,r,i){var a;return zi(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return ne(n,[{key:"_apply",value:function(e){var t=lN(e,this.type,this.mc,this.gc);return new $T(e.firestore,e.converter,function(e,t){return new Uk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(ZC);function sN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uN("endBefore",t,!1)}function cN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uN("endAt",t,!0)}function lN(e,t,n,r){if(n[0]=ba(n[0]),n[0]instanceof qC)return function(e,t,n,r,i){if(!r)throw new ng(tg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Vi(Hk(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Jg(t,r.key));else{var c=r.data.field(s.field);if(Lg(c))throw new ng(tg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new ng(tg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Dk(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=_C(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new ng(tg.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new ng(tg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Kk(e)&&-1!==c.indexOf("/"))throw new ng(tg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Ig.fromString(c));if(!zg.isDocumentKey(l))throw new ng(tg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new zg(l);u.push(Jg(t,f))}else{var h=LC(n,r,c);u.push(h)}}return new Dk(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function fN(e,t,n){if("string"==typeof(n=ba(n))){if(""===n)throw new ng(tg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kk(t)&&-1!==n.indexOf("/"))throw new ng(tg.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Ig.fromString(n));if(!zg.isDocumentKey(r))throw new ng(tg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Jg(e,new zg(r))}if(n instanceof QT)return Jg(e,n._key);throw new ng(tg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(BT(n),"."))}function hN(e,t){if(!Array.isArray(e)||0===e.length)throw new ng(tg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new ng(tg.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function dN(e,t,n){if(!n.isEqual(t))throw new ng(tg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var pN=function(){function e(){zi(this,e)}return ne(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Wg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xy()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return wg(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new mC(Rg(e.latitude),Rg(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Dg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Og(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ag(e);return new gg(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Ig.fromString(e);Zy(qw(n));var r=new Fg(n.get(1),n.get(3)),i=new zg(n.popFirst(5));return r.isEqual(t)||$y("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function vN(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var mN=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return zi(this,n),(r=t.call(this)).firestore=e,r}return ne(n,[{key:"convertBytes",value:function(e){return new pC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new QT(this.firestore,null,t)}}]),n}(pN),yN=function(){function e(t,n){zi(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=_C(t)}return ne(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=gN(e,this._firestore),i=vN(r.converter,t,n),a=IC(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,bb.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=gN(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ba(t))||t instanceof dC?PC(this._dataReader,"WriteBatch.update",i._key,t,n,o):RC(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,bb.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=gN(e,this._firestore);return this._mutations=this._mutations.concat(new Ob(t._key,bb.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new ng(tg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function gN(e,t){if((e=ba(e)).firestore!==t)throw new ng(tg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var kN=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return zi(this,n),(r=t.call(this)).firestore=e,r}return ne(n,[{key:"convertBytes",value:function(e){return new pC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new QT(this.firestore,null,t)}}]),n}(pN);function bN(e){e=qT(e,QT);var t=qT(e.firestore,iC),n=aC(t),r=new kN(t);return function(e,t){var n=new rg;return e.asyncQueue.enqueueAndForget(ji(qi().mark((function r(){return qi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ji(qi().mark((function e(t,n,r){var i,a;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=eg(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ai.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new ng(tg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=GS(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,AT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new HC(t,r,e._key,n,new KC(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function wN(e){e=qT(e,$T);var t=qT(e.firestore,iC),n=aC(t),r=new kN(t);return function(e,t){var n=new rg;return e.asyncQueue.enqueueAndForget(ji(qi().mark((function r(){return qi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ji(qi().mark((function e(t,n,r){var i,a,o,u,s;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dI(t,n,!0);case 3:i=e.sent,a=new fE(n,i.hi),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=GS(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,AT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new $C(t,r,e,n)}))}function xN(e,t,n){e=qT(e,QT);var r=qT(e.firestore,iC),i=vN(e.converter,t,n);return EN(r,[IC(_C(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,bb.none())])}function _N(e,t,n){e=qT(e,QT);for(var r=qT(e.firestore,iC),i=_C(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return EN(r,[("string"==typeof(t=ba(t))||t instanceof dC?PC(i,"updateDoc",e._key,t,n,o):RC(i,"updateDoc",e._key,t)).toMutation(e._key,bb.exists(!0))])}function IN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ba(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||nC(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(nC(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof QT)l=qT(e.firestore,iC),f=zk(e._key.path),c={next:function(t){n[s]&&n[s](TN(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=qT(e,$T);l=qT(p.firestore,iC),f=p._query;var v=new kN(l);c={next:function(e){n[s]&&n[s](new $C(l,v,p,e))},error:n[s+1],complete:n[s+2]},XC(e._query)}return function(e,t,n,r){var i=new mT(r),a=new iE(t,i,n);return e.asyncQueue.enqueueAndForget(ji(qi().mark((function t(){return qi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=JS,t.next=3,LT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.pa(),e.asyncQueue.enqueueAndForget(ji(qi().mark((function t(){return qi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ZS,t.next=3,LT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(aC(l),f,h,c)}function SN(e,t){return function(e,t){var n=new mT(t);return e.asyncQueue.enqueueAndForget(ji(qi().mark((function t(){return qi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){eg(e).Tu.add(t),t.next()},t.next=3,LT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.pa(),e.asyncQueue.enqueueAndForget(ji(qi().mark((function t(){return qi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){eg(e).Tu.delete(t)},t.next=3,LT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(aC(e=qT(e,iC)),nC(t)?t:{next:t})}function EN(e,t){return function(e,t){var n=new rg;return e.asyncQueue.enqueueAndForget(ji(qi().mark((function r(){return qi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=wE,r.next=3,PT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(aC(e),t)}function TN(e,t,n){var r=n.docs.get(t._key),i=new kN(e);return new HC(e,i,t._key,r,new KC(n.hasPendingWrites,n.fromCache),t.converter)}var CN=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return zi(this,n),(i=t.call(this,e,r))._firestore=e,i}return ne(n,[{key:"get",value:function(e){var t=this,r=gN(e,this._firestore),i=new kN(this._firestore);return Li(Ri(n.prototype),"get",this).call(this,e).then((function(e){return new HC(t._firestore,i,r._key,e._document,new KC(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){zi(this,e),this._firestore=t,this._transaction=n,this._dataReader=_C(t)}return ne(e,[{key:"get",value:function(e){var t=this,n=gN(e,this._firestore),r=new mN(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Xy();var i=e[0];if(i.isFoundDocument())return new qC(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new qC(t._firestore,r,n._key,null,n.converter);throw Xy()}))}},{key:"set",value:function(e,t,n){var r=gN(e,this._firestore),i=vN(r.converter,t,n),a=IC(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=gN(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ba(t))||t instanceof dC?PC(this._dataReader,"Transaction.update",i._key,t,n,o):RC(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=gN(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function NN(e,t){return function(e,t){var n=new rg;return e.asyncQueue.enqueueAndForget(ji(qi().mark((function r(){var i;return qi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return TT(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new kT(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(aC(e=qT(e,iC)),(function(n){return t(new CN(e,n))}))}function AN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new CC("arrayUnion",t)}function RN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new NC("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Gy=e}(ro),Ya(new Ea("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new iC(i,new ug(e.getProvider("auth-internal")),new fg(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),co(qy,"3.4.7",e),co(qy,"3.4.7","esm2017")}();var PN=function(){return PN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},PN.apply(this,arguments)},LN=function(e){return{loading:void 0===e||null===e,value:e}},DN=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return PN(PN({},e),{error:t.error,loading:!1,value:void 0});case"reset":return LN(t.defaultValue);case"value":return PN(PN({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),LN(t)),r=n[0],a=n[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:s,value:r.value}}),[r.error,r.loading,o,u,s,r.value])},ON=function(e,t,n){var r=(0,i.useRef)(e);return(0,i.useEffect)((function(){t(e,r.current)||(r.current=e,n&&n())})),r},MN=function(e,t){var n=!e&&!t,r=!!e&&!!t&&eC(e,t);return n||r},FN=function(e,t){return ON(e,MN,t)},VN=function(e,t){var n=null===t||void 0===t?void 0:t.snapshotOptions,r=function(e,t){var n=DN(),r=n.error,a=n.loading,o=n.reset,u=n.setError,s=n.setValue,c=n.value,l=FN(e,o);(0,i.useEffect)((function(){if(l.current){var e=(null===t||void 0===t?void 0:t.snapshotListenOptions)?IN(l.current,t.snapshotListenOptions,s,u):IN(l.current,s,u);return function(){e()}}s(void 0)}),[l.current]);var f=[c,a,r];return(0,i.useMemo)((function(){return f}),f)}(e,t),a=r[0],o=r[1],u=r[2],s=[UN(a,n),o,u,a];return(0,i.useMemo)((function(){return s}),s)},UN=function(e,t){return(0,i.useMemo)((function(){return null===e||void 0===e?void 0:e.docs.map((function(e){return e.data(t)}))}),[e,t])},jN="Chat_wrapper__ENHr-",zN="Chat_body__t9srY",BN="Chat_item__TLC1p",qN="Chat_avatar__2cra8",WN="Chat_name__QG71J",GN="Chat_text__sEW9a",KN="Chat_inputWrapper__nz0sV",HN="Chat_input__Puek8",QN="Chat_button__tBGGe",$N="Chat_bottomItem__DnDHi",YN=function(){var e=(0,i.useRef)(null),t=(0,i.useRef)(null),n=(0,i.useContext)(OR),r=n.auth,a=n.firestore,o=l(zh(r),1)[0],u=l((0,i.useState)(""),2),s=u[0],c=u[1],f=l(VN(a.collection("messages").orderBy("createdAt")),2),h=f[0],d=f[1],p=function(){var e=ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.collection("messages").add({uid:o.uid,displayName:o.displayName,photoURL:o.photoURL,text:s,createdAt:id.firestore.FieldValue.serverTimestamp()}),c(""),t.current.scrollIntoView(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d?(0,Kh.jsx)(Hh,{}):(0,Kh.jsx)(qh,{children:(0,Kh.jsxs)("div",{className:jN,children:[(0,Kh.jsxs)("div",{className:zN,children:[h.map((function(e){return(0,Kh.jsxs)("div",{className:BN,style:{margin:5,marginTop:10,border:o.uid===e.uid?"3px solid green":"3px solid #fff",borderRadius:o.uid===e.uid?"25px 25px 0px 25px":"0px 25px 25px 25px",marginLeft:o.uid===e.uid?"auto":"5px",width:"fit-content"},children:[(0,Kh.jsxs)(Ai,{container:!0,children:[(0,Kh.jsx)(Ad,{src:e.photoURL,className:qN}),(0,Kh.jsx)("div",{className:WN,children:e.displayName})]}),(0,Kh.jsx)("div",{className:GN,children:e.text})]})})),(0,Kh.jsx)("div",{ref:t,className:$N})]}),(0,Kh.jsxs)("div",{className:KN,children:[(0,Kh.jsx)("textarea",{autoFocus:!0,className:HN,placeholder:"Write a message...",value:s,onChange:function(e){return c(e.target.value)},onKeyDown:function(t){13===t.keyCode&&(t.preventDefault(),e.current.click())}}),(0,Kh.jsx)("button",{ref:e,className:QN,onClick:s&&p,children:"Send"})]})]})})},JN=[{path:kd,component:(0,Kh.jsx)(Id,{})}],XN=[{path:bd,component:(0,Kh.jsx)(YN,{})}],ZN=function(){var e=(0,i.useContext)(OR).auth;return l(zh(e),1)[0]?(0,Kh.jsxs)(W,{children:[XN.map((function(e){var t=e.path,n=e.component;return(0,Kh.jsx)(B,{path:t,element:n,exact:!0},t)})),(0,Kh.jsx)(B,{path:"*",element:(0,Kh.jsx)(z,{replace:!0,to:bd})})]}):(0,Kh.jsxs)(W,{children:[JN.map((function(e){var t=e.path,n=e.component;return(0,Kh.jsx)(B,{path:t,element:n,exact:!0},t)})),(0,Kh.jsx)(B,{path:"*",element:(0,Kh.jsx)(z,{replace:!0,to:kd})})]})};var eA=function(){var e=(0,i.useContext)(OR).auth,t=l(zh(e),3),n=(t[0],t[1]);return t[2],n?(0,Kh.jsx)(Hh,{}):(0,Kh.jsxs)(K,{styles:{background:"#222"},children:[(0,Kh.jsx)(gd,{}),(0,Kh.jsx)(ZN,{})]})};function tA(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ng("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function nA(){if("undefined"===typeof Uint8Array)throw new ng("unimplemented","Uint8Arrays are not available in this environment.")}function rA(){if("undefined"==typeof atob)throw new ng("unimplemented","Blobs are unavailable in Firestore in this environment.")}var iA=function(){function e(t){zi(this,e),this._delegate=t}return ne(e,[{key:"toBase64",value:function(){return rA(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return nA(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return rA(),new e(pC.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return nA(),new e(pC.fromUint8Array(t))}}]),e}();function aA(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Vi(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var oA=function(){function e(){zi(this,e)}return ne(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){hC(e=qT(e,iC));var n=aC(e),r=e._freezeSettings(),i=new pT;return uC(n,i,new hT(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){hC(e=qT(e,iC));var t=aC(e),n=e._freezeSettings(),r=new pT;return uC(t,r,new dT(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new ng(tg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new rg;return e._queue.enqueueAndForgetEvenWhileRestricted(ji(qi().mark((function n(){return qi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ji(qi().mark((function e(t){var n;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(bx.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,bx.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(J_(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),uA=function(){function e(t,n,r){var i=this;zi(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Fg||(this._appCompat=t)}return ne(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Yy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};HT(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return sC(this._delegate)}},{key:"disableNetwork",value:function(){return cC(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&UT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new rg;return e.asyncQueue.enqueueAndForget(ji(qi().mark((function n(){return qi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=PE,n.next=3,PT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(aC(e=qT(e,iC)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return SN(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new ng("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new wA(this,JT(this._delegate,e))}catch(t){throw dA(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new hA(this,XT(this._delegate,e))}catch(t){throw dA(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new gA(this,function(e,t){if(e=qT(e,KT),VT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ng(tg.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new $T(e,null,function(e){return new Uk(Ig.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw dA(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return NN(this._delegate,(function(n){return e(new cA(t,n))}))}},{key:"batch",value:function(){var e=this;return aC(this._delegate),new lA(new yN(this._delegate,(function(t){return EN(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return lC(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return fC(this._delegate,e).then((function(e){return e?new gA(t,e):null}))}}]),e}(),sA=function(e){Di(n,e);var t=Fi(n);function n(e){var r;return zi(this,n),(r=t.call(this)).firestore=e,r}return ne(n,[{key:"convertBytes",value:function(e){return new iA(new pC(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return hA.forKey(t,this.firestore,null)}}]),n}(pN);var cA=function(){function e(t,n){zi(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new sA(t)}return ne(e,[{key:"get",value:function(e){var t=this,n=xA(e);return this._delegate.get(n).then((function(e){return new mA(t._firestore,new HC(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=xA(e);return n?(tA("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=xA(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=xA(e);return this._delegate.delete(t),this}}]),e}(),lA=function(){function e(t){zi(this,e),this._delegate=t}return ne(e,[{key:"set",value:function(e,t,n){var r=xA(e);return n?(tA("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=xA(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=xA(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),fA=function(){function e(t,n,r){zi(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return ne(e,[{key:"fromFirestore",value:function(e,t){var n=new QC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new yA(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new sA(t),n),i.set(n,a)),a}}]),e}();fA.INSTANCES=new WeakMap;var hA=function(){function e(t,n){zi(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new sA(t)}return ne(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new wA(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new wA(this.firestore,JT(this._delegate,e))}catch(t){throw dA(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ba(e))instanceof QT&&ZT(this._delegate,e)}},{key:"set",value:function(e,t){t=tA("DocumentReference.set",t);try{return t?xN(this._delegate,e,t):xN(this._delegate,e)}catch(n){throw dA(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?_N(this._delegate,e):_N.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw dA(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return EN(qT(e.firestore,iC),[new Ob(e._key,bb.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=pA(n),a=vA(n,(function(t){return new mA(e.firestore,new HC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return IN(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?bN(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=qT(e,QT);var t=qT(e.firestore,iC);return OT(aC(t),e._key,{source:"server"}).then((function(n){return TN(t,e,n)}))}(this._delegate):function(e){e=qT(e,QT);var t=qT(e.firestore,iC);return OT(aC(t),e._key).then((function(n){return TN(t,e,n)}))}(this._delegate),t.then((function(e){return new mA(n.firestore,new HC(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(fA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new ng("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new QT(n._delegate,r,new zg(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new QT(n._delegate,r,t))}}]),e}();function dA(e,t,n){return e.message=e.message.replace(t,n),e}function pA(e){var t,n=Vi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!aA(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function vA(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=aA(e[0])?e[0]:aA(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var mA=function(){function e(t,n){zi(this,e),this._firestore=t,this._delegate=n}return ne(e,[{key:"ref",get:function(){return new hA(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return JC(this._delegate,e._delegate)}}]),e}(),yA=function(e){Di(n,e);var t=Fi(n);function n(){return zi(this,n),t.apply(this,arguments)}return ne(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Xy()}(void 0!==t),t}}]),n}(mA),gA=function(){function e(t,n){zi(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new sA(t)}return ne(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,eN(this._delegate,function(e,t,n){var r=t,i=GC("where",e);return new tN(i,r,n)}(t,n,r)))}catch(i){throw dA(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,eN(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=GC("orderBy",e);return new nN(n,t)}(t,n)))}catch(r){throw dA(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,eN(this._delegate,function(e){return WT("limit",e),new rN("limit",e,"F")}(t)))}catch(n){throw dA(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,eN(this._delegate,function(e){return WT("limitToLast",e),new rN("limitToLast",e,"L")}(t)))}catch(n){throw dA(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,eN(this._delegate,aN.apply(void 0,arguments)))}catch(t){throw dA(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,eN(this._delegate,oN.apply(void 0,arguments)))}catch(t){throw dA(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,eN(this._delegate,sN.apply(void 0,arguments)))}catch(t){throw dA(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,eN(this._delegate,cN.apply(void 0,arguments)))}catch(t){throw dA(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return eC(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?wN(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=qT(e,$T);var t=qT(e.firestore,iC),n=aC(t),r=new kN(t);return MT(n,e._query,{source:"server"}).then((function(n){return new $C(t,r,e,n)}))}(this._delegate):function(e){e=qT(e,$T);var t=qT(e.firestore,iC),n=aC(t),r=new kN(t);return XC(e._query),MT(n,e._query).then((function(n){return new $C(t,r,e,n)}))}(this._delegate),t.then((function(e){return new bA(n.firestore,new $C(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=pA(n),a=vA(n,(function(t){return new bA(e.firestore,new $C(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return IN(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(fA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),kA=function(){function e(t,n){zi(this,e),this._firestore=t,this._delegate=n}return ne(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new yA(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),bA=function(){function e(t,n){zi(this,e),this._firestore=t,this._delegate=n}return ne(e,[{key:"query",get:function(){return new gA(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new yA(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new kA(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new yA(n._firestore,r))}))}},{key:"isEqual",value:function(e){return JC(this._delegate,e._delegate)}}]),e}(),wA=function(e){Di(n,e);var t=Fi(n);function n(e,r){var i;return zi(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return ne(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new hA(this.firestore,e):null}},{key:"doc",value:function(e){try{return new hA(this.firestore,void 0===e?XT(this._delegate):XT(this._delegate,e))}catch(t){throw dA(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=qT(e.firestore,iC),r=XT(e),i=vN(e.converter,t);return EN(n,[IC(_C(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,bb.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new hA(t.firestore,e)}))}},{key:"isEqual",value:function(e){return ZT(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(fA.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(gA);function xA(e){return qT(e,QT)}var _A,IA=function(){function e(){zi(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Wi(dC,n)}return ne(e,[{key:"isEqual",value:function(e){return(e=ba(e))instanceof dC&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Eg.keyField().canonicalString())}}]),e}(),SA=function(){function e(t){zi(this,e),this._delegate=t}return ne(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new TC("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new SC("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=AN.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=RN.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new AC("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),EA={Firestore:uA,GeoPoint:mC,Timestamp:gg,Blob:iA,Transaction:cA,WriteBatch:lA,DocumentReference:hA,DocumentSnapshot:mA,Query:gA,QueryDocumentSnapshot:yA,QuerySnapshot:bA,CollectionReference:wA,FieldPath:IA,FieldValue:SA,setLogLevel:function(e){!function(e){Ky.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};function TA(){return window}(function(e,t){e.INTERNAL.registerComponent(new Ea("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},EA)))})(_A=id,(function(e,t){return new uA(e,t,new oA)})),_A.registerVersion("@firebase/firestore-compat","0.1.16");function CA(e,t,n){return NA.apply(this,arguments)}function NA(){return NA=ji(qi().mark((function e(t,n,r){var i,a,o,u,s;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=TA(),o=a.BuildInfo,Zo(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,OA(n.sessionId);case 4:return u=e.sent,s={},rs()?s.ibi=o.packageName:es()?s.apn=o.packageName:Ko(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Ih(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),NA.apply(this,arguments)}function AA(){return AA=ji(qi().mark((function e(t){var n,r,i;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=TA(),r=n.BuildInfo,i={},rs()?i.iosBundleId=r.packageName:es()?i.androidPackageName=r.packageName:Ko(t,"operation-not-supported-in-this-environment"),e.next=5,eh(t,i);case 5:case"end":return e.stop()}}),e)}))),AA.apply(this,arguments)}function RA(e){var t=TA().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function PA(e,t,n){return LA.apply(this,arguments)}function LA(){return LA=ji(qi().mark((function e(t,n,r){var i,a,o;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=TA(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Ho(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),es()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),LA.apply(this,arguments)}function DA(e){var t,n,r,i,a,o,u,s,c,l,f=TA();Jo("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Jo("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Jo("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Jo("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Jo("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function OA(e){return MA.apply(this,arguments)}function MA(){return(MA=ji(qi().mark((function e(t){var n,r,i;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=FA(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FA(e){if(Zo(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var VA=function(e){Di(n,e);var t=Fi(n);function n(){var e;return zi(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return ne(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Li(Ri(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Jf);function UA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:WA(),postBody:null,tenantId:e.tenantId,error:Ho(e,"no-auth-event")}}function jA(e,t){return GA()._set(KA(e),t)}function zA(e){return BA.apply(this,arguments)}function BA(){return BA=ji(qi().mark((function e(t){var n;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GA()._get(KA(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,GA()._remove(KA(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),BA.apply(this,arguments)}function qA(e,t){var n,r,i=function(e){var t=HA(e),n=t.link?decodeURIComponent(t.link):void 0,r=HA(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return HA(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=HA(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Ho(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function WA(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function GA(){return tu(yl)}function KA(e){return Hu("authEvent",e.config.apiKey,e.name)}function HA(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=o(t=n)||Zt(t)||s(t)||c();r[0];return va(r.slice(1).join("?"))}var QA=function(){function e(){zi(this,e),this._redirectPersistence=kl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Hf}return ne(e,[{key:"_initialize",value:function(){var e=ji(qi().mark((function e(t){var n,r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new VA(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Ko(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=ji(qi().mark((function e(t,n,r,i){var a,o,u,s;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return DA(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Rf.clear(),e.next=10,this._originValidation(t);case 10:return o=UA(t,r,i),e.next=13,jA(t,o);case 13:return e.next=15,CA(t,o,n);case 15:return u=e.sent,e.next=18,RA(u);case 18:return s=e.sent,e.abrupt("return",PA(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return AA.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=TA(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(ji(qi().mark((function n(){return qi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,zA(e);case 2:t.onEvent(YA());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=ji(qi().mark((function n(r){var i,a;return qi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,zA(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=qA(i,r.url)),t.onEvent(a||YA());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");TA().handleOpenURL=function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),$A=QA;function YA(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ho("no-auth-event")}}function JA(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function XA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea();return!("file:"!==JA()&&"ionic:"!==JA()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ZA(){return aa()&&11===(null===document||void 0===document?void 0:document.documentMode)}function eR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea();return/Edge\/\d+/.test(e)}function tR(){try{var e=self.localStorage,t=xl();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea();return ZA()||eR(e)}()||oa()}catch(n){return nR()&&oa()}return!1}function nR(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function rR(){return("http:"===JA()||"https:"===JA()||ra()||XA())&&!(ia()||na())&&tR()&&!nR()}function iR(){return XA()&&"undefined"!==typeof document}function aR(){return oR.apply(this,arguments)}function oR(){return(oR=ji(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(iR()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uR={LOCAL:"local",NONE:"none",SESSION:"session"},sR=Jo,cR="persistence";function lR(e,t){sR(Object.values(uR).includes(t),e,"invalid-persistence-type"),ia()?sR(t!==uR.SESSION,e,"unsupported-persistence-type"):na()?sR(t===uR.NONE,e,"unsupported-persistence-type"):nR()?sR(t===uR.NONE||t===uR.LOCAL&&oa(),e,"unsupported-persistence-type"):sR(t===uR.NONE||tR(),e,"unsupported-persistence-type")}function fR(e){return hR.apply(this,arguments)}function hR(){return hR=ji(qi().mark((function e(t){var n,r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=dR(),r=Hu(cR,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),hR.apply(this,arguments)}function dR(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var pR=Jo,vR=function(){function e(){zi(this,e),this.browserResolver=tu(Th),this.cordovaResolver=tu($A),this.underlyingResolver=null,this._redirectPersistence=kl,this._completeRedirectFn=Hf}return ne(e,[{key:"_initialize",value:function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=ji(qi().mark((function e(t,n,r,i){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ji(qi().mark((function e(t,n,r,i){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return iR()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return pR(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=ji(qi().mark((function e(){var t;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,aR();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function mR(e){return e.unwrap()}function yR(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new xR(e,function(e,t){var n,r=ba(e),i=t;return Jo(t.customData.operationType,r,"argument-error"),Jo(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),cl._fromError(r,i)}(e,t));else if(r){var i=gR(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function gR(e){var t=(e instanceof ua?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ua)&&"temporaryProof"in t&&"phoneNumber"in t)return mf.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Po)return null;switch(r){case Ro:n=ec;break;case No:n=Zs;break;case Ao:n=tc;break;case Lo:n=ic;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?nc._create(r,u):js._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Xs(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof ua?n.credentialFromError(e):n.credentialFromResult(e)}function kR(e,t){return t.catch((function(t){throw t instanceof ua&&yR(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,gR(t)),additionalUserInfo:ul(e),user:_R.getOrCreate(r)}}))}function bR(e,t){return wR.apply(this,arguments)}function wR(){return wR=ji(qi().mark((function e(t,n){var r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return kR(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),wR.apply(this,arguments)}var xR=function(){function e(t,n){zi(this,e),this.resolver=n,this.auth=t.wrapped()}return ne(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return kR(mR(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),_R=function(){function e(t){zi(this,e),this._delegate=t,this.multiFactor=function(e){var t=ba(e);return dl.has(t)||dl.set(t,hl._fromUser(t)),dl.get(t)}(t)}return ne(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kR(this.auth,Sc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bR(this.auth,lf(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kR(this.auth,Cf(this._delegate,t,vR)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fR(cs(this.auth));case 2:return e.abrupt("return",qf(this._delegate,t,vR));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kR(this.auth,Tc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return bR(this.auth,function(e,t,n){return hf.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return kR(this.auth,function(e,t,n){return Tf.apply(this,arguments)}(this._delegate,e,vR))}},{key:"reauthenticateWithRedirect",value:function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fR(cs(this.auth));case 2:return e.abrupt("return",zf(this._delegate,t,vR));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Qc.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dc(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Zc(ba(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Zc(ba(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return vf.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Xc.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return $c.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();_R.USER_MAP=new WeakMap;var IR=Jo,SR=function(){function e(t,n){if(zi(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;IR(r,"invalid-api-key",{appName:t.name}),IR(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?vR:void 0;this._delegate=n.initialize({options:{persistence:TR(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(zo),this.linkUnderlyingAuth()}return ne(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?_R.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){fs(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Fc.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Vc(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Mc.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=ji(qi().mark((function e(t,n){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kR(this._delegate,zc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Hc.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Qs.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=ji(qi().mark((function e(){var t;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return IR(rR(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Gf(this._delegate,vR);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",kR(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){cs(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=ER(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=ER(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return qc.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Oc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=ji(qi().mark((function e(t){var n,r;return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:lR(this._delegate,t),e.t0=t,e.next=e.t0===uR.SESSION?4:e.t0===uR.LOCAL?6:e.t0===uR.NONE?11:13;break;case 4:return n=kl,e.abrupt("break",14);case 6:return e.next=8,tu(Bl)._isAvailable();case 8:return r=e.sent,n=r?Bl:yl,e.abrupt("break",14);case 11:return n=Ku,e.abrupt("break",14);case 13:return e.abrupt("return",Ko("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return kR(this._delegate,function(e){return cc.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return kR(this._delegate,_c(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return kR(this._delegate,function(e,t){return Rc.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return kR(this._delegate,function(e,t,n){return _c(ba(e),$s.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return kR(this._delegate,function(e,t,n){return Wc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return bR(this._delegate,function(e,t,n){return cf.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return IR(rR(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",kR(this._delegate,Sf(this._delegate,t,vR)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=ji(qi().mark((function e(t){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return IR(rR(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,fR(this._delegate);case 3:return e.abrupt("return",Uf(this._delegate,t,vR));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return jc.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function ER(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&_R.getOrCreate(e))},error:t,complete:n}}function TR(e,t){var n=function(e,t){var n=dR();if(!n)return[];var r=Hu(cR,e,t);switch(n.getItem(r)){case uR.NONE:return[Ku];case uR.LOCAL:return[Bl,kl];case uR.SESSION:return[kl];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Bl)||n.push(Bl),"undefined"!==typeof window)for(var r=0,i=[yl,kl];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Ku)||n.push(Ku),n}SR.Persistence=uR;var CR=function(){function e(){zi(this,e),this.providerId="phone",this._delegate=new mf(mR(id.auth()))}return ne(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return mf.credential(e,t)}}]),e}();CR.PHONE_SIGN_IN_METHOD=mf.PHONE_SIGN_IN_METHOD,CR.PROVIDER_ID=mf.PROVIDER_ID;var NR=Jo,AR=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:id.app();zi(this,e),NR(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new of(t,n,i.auth()),this.type=this._delegate.type}return ne(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Ea("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new SR(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Do,PASSWORD_RESET:Oo,RECOVER_EMAIL:Mo,REVERT_SECOND_FACTOR_ADDITION:Fo,VERIFY_AND_CHANGE_EMAIL:Vo,VERIFY_EMAIL:Uo}},EmailAuthProvider:$s,FacebookAuthProvider:Zs,GithubAuthProvider:tc,GoogleAuthProvider:ec,OAuthProvider:Xs,SAMLAuthProvider:rc,PhoneAuthProvider:CR,PhoneMultiFactorGenerator:Ah,RecaptchaVerifier:AR,TwitterAuthProvider:ic,Auth:SR,AuthCredential:ps,Error:ua}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.11")}(id);var RR=function(e){var t=e.children,n=e.theme,r=wt(),a=i.useMemo((function(){var e=null===r?n:function(e,t){return"function"===typeof t?t(e):f({},e,t)}(r,n);return null!=e&&(e[xt]=null!==r),e}),[n,r]);return i.createElement(bt.Provider,{value:a},t)},PR=vi({palette:{primary:{main:"#4FBAA7"},secondary:{main:"#530B43"}}}),LR=id.initializeApp({apiKey:"AIzaSyAn2PO7wTGLc-Wr6sr0xG5RkkgulZPifxw",authDomain:"chat-react-f698d.firebaseapp.com",projectId:"chat-react-f698d",storageBucket:"chat-react-f698d.appspot.com",messagingSenderId:"743715572823",appId:"1:743715572823:web:85db2765e440dcd2d26712",measurementId:"G-4JH19BSE76"}).firestore(),DR=id.auth(),OR=i.createContext(null);a.render((0,Kh.jsx)(OR.Provider,{value:{firebase:id,auth:DR,firestore:LR},children:(0,Kh.jsx)(RR,{theme:PR,children:(0,Kh.jsx)(eA,{})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.af8475d1.js.map