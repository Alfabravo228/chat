/*! For license information please see main.26c8c9e1.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(b){}}}}return t}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function z(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Se=null;function Ie(e){if(e=mi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=gi(t),xe(e.stateNode,e.type,t))}}function _e(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Re=!1;function Ae(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==Ee||null!==Se)&&(Ne(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=gi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ve=!1,Ue=null,je={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(je,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,wt,xt,Et,St,It=!1,_t=[],Tt=null,Ct=null,Nt=null,Rt=new Map,At=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ht(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){It=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),Rt.forEach(Vt),At.forEach(Vt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return jt(t,e)}if(0<_t.length){jt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&jt(Tt,e),null!==Ct&&jt(Ct,e),null!==Nt&&jt(Nt,e),Rt.forEach(t),At.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var Bt=k.ReactCurrentBatchConfig;function qt(e,t,n,r){var i=gt,a=Bt.transition;Bt.transition=null;try{gt=1,Kt(e,t,n,r)}finally{gt=i,Bt.transition=a}}function Wt(e,t,n,r){var i=gt,a=Bt.transition;Bt.transition=null;try{gt=4,Kt(e,t,n,r)}finally{gt=i,Bt.transition=a}}function Kt(e,t,n,r){var i=Ht(e,t,n,r);if(null===i)Br(e,t,r,Gt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,At.set(a,Lt(At.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=mi(i);if(null!==a&&kt(a),null===(a=Ht(e,t,n,r))&&Br(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Br(e,t,r,null,n)}var Gt=null;function Ht(e,t,n,r){if(Gt=null,null!==(e=vi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Yt=null,Jt=null;function Xt(){if(Jt)return Jt;var e,t,n=Yt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=nn(un),cn=F({},un,{view:0,detail:0}),ln=nn(cn),fn=F({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=nn(fn),dn=nn(F({},fn,{dataTransfer:0})),pn=nn(F({},cn,{relatedTarget:0})),vn=nn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=nn(mn),gn=nn(F({},un,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function En(){return xn}var Sn=F({},cn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=nn(Sn),_n=nn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=nn(F({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Cn=nn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=nn(Nn),An=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Dn=null;l&&"documentMode"in document&&(Dn=document.documentMode);var On=l&&"TextEvent"in window&&!Dn,Ln=l&&(!Pn||Dn&&8<Dn&&11>=Dn),Mn=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function qn(e,t,n,r){_e(r),0<(t=Wr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){Mr(e,0)}function Hn(e){if(H(yi(e)))return e}function $n(e,t){if("change"===e)return t}var Qn=!1;if(l){var Yn;if(l){var Jn="oninput"in document;if(!Jn){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),Jn="function"===typeof Xn.oninput}Yn=Jn}else Yn=!1;Qn=Yn&&(!document.documentMode||9<document.documentMode)}function Zn(){Wn&&(Wn.detachEvent("onpropertychange",er),Kn=Wn=null)}function er(e){if("value"===e.propertyName&&Hn(Kn)){var t=[];qn(t,Kn,e,we(e)),Ae(Gn,t)}}function tr(e,t,n){"focusin"===e?(Zn(),Kn=n,(Wn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Hn(Kn)}function rr(e,t){if("click"===e)return Hn(t)}function ir(e,t){if("input"===e||"change"===e)return Hn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=sr(n,a);var o=sr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=l&&"documentMode"in document&&11>=document.documentMode,pr=null,vr=null,mr=null,yr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==pr||pr!==$(r)||("selectionStart"in(r=pr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&or(mr,r)||(mr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},wr={},xr={};function Er(e){if(wr[e])return wr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return wr[e]=n[t];return e}l&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Sr=Er("animationend"),Ir=Er("animationiteration"),_r=Er("animationstart"),Tr=Er("transitionend"),Cr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Cr.set(e,t),s(t,[e])}for(var Ar=0;Ar<Nr.length;Ar++){var Pr=Nr[Ar];Rr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Rr(Sr,"onAnimationEnd"),Rr(Ir,"onAnimationIteration"),Rr(_r,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ve||(Ve=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,c),a=s}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Fr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Vr("selectionchange",!1,t))}}function zr(e,t,n,r){switch($t(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=vi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var u=Cr.get(e);if(void 0!==u){var s=sn,c=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":s=In;break;case"focusin":c="focus",s=pn;break;case"focusout":c="blur",s=pn;break;case"beforeblur":case"afterblur":s=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Tn;break;case Sr:case Ir:case _r:s=vn;break;case Tr:s=Cn;break;case"scroll":s=ln;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=_n}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(qr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=hn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=_n,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:yi(s),d=null==c?u:yi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,vi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==s&&Gr(o,u,s,l,!1),null!==c&&null!==f&&Gr(o,f,c,l,!0)}if("select"===(s=(u=r?yi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Bn(u))if(Qn)m=ir;else{m=nr;var y=tr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=rr);switch(m&&(m=m(e,r))?qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?yi(r):window,e){case"focusin":(Bn(y)||"true"===y.contentEditable)&&(pr=y,vr=r,mr=null);break;case"focusout":mr=vr=pr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,gr(o,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&jn&&(g=Xt()):(Yt="value"in(Qt=i)?Qt.value:Qt.textContent,jn=!0)),0<(y=Wr(r,b)).length&&(b=new gn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Un(n))&&(b.data=g))),(g=On?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=Xt(),Jt=Yt=Qt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new gn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Mr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Pe(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(qr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(qr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Hr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Hr,"\n").replace($r,"")}function Yr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function Jr(){}var Xr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),ci="__reactFiber$"+si,li="__reactProps$"+si,fi="__reactContainer$"+si,hi="__reactEvents$"+si,di="__reactListeners$"+si,pi="__reactHandles$"+si;function vi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[ci])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function gi(e){return e[li]||null}var bi=[],ki=-1;function wi(e){return{current:e}}function xi(e){0>ki||(e.current=bi[ki],bi[ki]=null,ki--)}function Ei(e,t){ki++,bi[ki]=e.current,e.current=t}var Si={},Ii=wi(Si),_i=wi(!1),Ti=Si;function Ci(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){xi(_i),xi(Ii)}function Ai(e,t,n){if(Ii.current!==Si)throw Error(a(168));Ei(Ii,t),Ei(_i,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ti=Ii.current,Ei(Ii,e),Ei(_i,_i.current),!0}function Oi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,xi(_i),xi(Ii),Ei(Ii,e)):xi(_i),Ei(_i,n)}var Li=null,Mi=!1,Fi=!1;function Vi(e){null===Li?Li=[e]:Li.push(e)}function Ui(){if(!Fi&&null!==Li){Fi=!0;var e=0,t=gt;try{var n=Li;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Mi=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),He(Ze,Ui),i}finally{gt=t,Fi=!1}}return null}var ji=k.ReactCurrentBatchConfig;function zi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Bi=wi(null),qi=null,Wi=null,Ki=null;function Gi(){Ki=Wi=qi=null}function Hi(e){var t=Bi.current;xi(Bi),e._currentValue=t}function $i(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qi(e,t){qi=e,Ki=Wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yu=!0),e.firstContext=null)}function Yi(e){var t=e._currentValue;if(Ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Wi){if(null===qi)throw Error(a(308));Wi=e,qi.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var Ji=null,Xi=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=n.interleaved)?(t.next=t,null===Ji?Ji=[n]:Ji.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i=e.updateQueue;Xi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Xi=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Is|=o,e.lanes=o,e.memoizedState=f}}function oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ua=(new r.Component).refs;function sa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ca={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bs(),i=qs(e),a=ta(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bs(),i=qs(e),a=ta(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bs(),r=qs(e),i=ta(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),na(e,i),null!==(t=Ws(e,r,n))&&ra(t,e,r)}};function la(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function fa(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Yi(a):(i=Ni(t)?Ti:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ci(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ca,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ca.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ua,Zi(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Yi(a):(a=Ni(t)?Ti:Ii.current,i.context=Ci(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(sa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ca.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var pa=[],va=0,ma=null,ya=0,ga=[],ba=0,ka=null,wa=1,xa="";function Ea(e,t){pa[va++]=ya,pa[va++]=ma,ma=e,ya=t}function Sa(e,t,n){ga[ba++]=wa,ga[ba++]=xa,ga[ba++]=ka,ka=e;var r=wa;e=xa;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wa=1<<32-ot(t)+i|n<<i|r,xa=a+e}else wa=1<<a|n<<i|r,xa=e}function Ia(e){null!==e.return&&(Ea(e,1),Sa(e,1,0))}function _a(e){for(;e===ma;)ma=pa[--va],pa[va]=null,ya=pa[--va],pa[va]=null;for(;e===ka;)ka=ga[--ba],ga[ba]=null,xa=ga[--ba],ga[ba]=null,wa=ga[--ba],ga[ba]=null}var Ta=null,Ca=null,Na=!1,Ra=null;function Aa(e,t){var n=kc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Pa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ta=e,Ca=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ta=e,Ca=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ka?{id:wa,overflow:xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=kc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ta=e,Ca=null,!0);default:return!1}}function Da(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Oa(e){if(Na){var t=Ca;if(t){var n=t;if(!Pa(e,t)){if(Da(e))throw Error(a(418));t=oi(n.nextSibling);var r=Ta;t&&Pa(e,t)?Aa(r,n):(e.flags=-4097&e.flags|2,Na=!1,Ta=e)}}else{if(Da(e))throw Error(a(418));e.flags=-4097&e.flags|2,Na=!1,Ta=e}}}function La(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ta=e}function Ma(e){if(e!==Ta)return!1;if(!Na)return La(e),Na=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Ca)){if(Da(e)){for(e=Ca;e;)e=oi(e.nextSibling);throw Error(a(418))}for(;t;)Aa(e,t),t=oi(t.nextSibling)}if(La(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ca=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ca=null}}else Ca=Ta?oi(e.stateNode.nextSibling):null;return!0}function Fa(){Ca=Ta=null,Na=!1}function Va(e){null===Ra?Ra=[e]:Ra.push(e)}function Ua(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ja(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function za(e){return(0,e._init)(e._payload)}function Ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=xc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=_c(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&za(a)===t.type)?((r=i(t,n.props)).ref=Ua(e,t,n),r.return=e,r):((r=Ec(n.type,n.key,n.props,null,e.mode,r)).ref=Ua(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Tc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Sc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=_c(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ec(t.type,t.key,t.props,null,e.mode,n)).ref=Ua(e,null,t),n.return=e,n;case x:return(t=Tc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Sc(t,e.mode,n,null)).return=e,t;ja(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);ja(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);ja(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),Na&&Ea(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Na&&Ea(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Na&&Ea(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),Na&&Ea(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Na&&Ea(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Na&&Ea(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&za(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ua(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Sc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Ec(o.type,o.key,o.props,null,r.mode,s)).ref=Ua(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Tc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);ja(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=_c(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var qa=Ba(!0),Wa=Ba(!1),Ka={},Ga=wi(Ka),Ha=wi(Ka),$a=wi(Ka);function Qa(e){if(e===Ka)throw Error(a(174));return e}function Ya(e,t){switch(Ei($a,t),Ei(Ha,e),Ei(Ga,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Ga),Ei(Ga,t)}function Ja(){xi(Ga),xi(Ha),xi($a)}function Xa(e){Qa($a.current);var t=Qa(Ga.current),n=se(t,e.type);t!==n&&(Ei(Ha,e),Ei(Ga,n))}function Za(e){Ha.current===e&&(xi(Ga),xi(Ha))}var eo=wi(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=k.ReactCurrentDispatcher,ao=k.ReactCurrentBatchConfig,oo=0,uo=null,so=null,co=null,lo=!1,fo=!1,ho=0,po=0;function vo(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,i,o){if(oo=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Zo:eu,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,co=so=null,t.updateQueue=null,io.current=tu,e=n(r,i)}while(fo)}if(io.current=Xo,t=null!==so&&null!==so.next,oo=0,co=so=uo=null,lo=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?uo.memoizedState=co=e:co=co.next=e,co}function ko(){if(null===so){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===co?uo.memoizedState:co.next;if(null!==t)co=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===co?uo.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((oo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,uo.lanes|=f,Is|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ar(r,t.memoizedState)||(yu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,uo.lanes|=o,Is|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ar(o,t.memoizedState)||(yu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function Io(e,t){var n=uo,r=ko(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,yu=!0),r=r.queue,Mo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,Ao(9,To.bind(null,n,r,i,t),void 0,null),null===gs)throw Error(a(349));0!==(30&oo)||_o(n,t,i)}return i}function _o(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function To(e,t,n,r){t.value=n,t.getSnapshot=r,No(t)&&Ws(e,1,-1)}function Co(e,t,n){return n((function(){No(t)&&Ws(e,1,-1)}))}function No(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ro(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ho.bind(null,uo,e),[t.memoizedState,e]}function Ao(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Po(){return ko().memoizedState}function Do(e,t,n,r){var i=bo();uo.flags|=e,i.memoizedState=Ao(1|t,n,void 0,void 0===r?null:r)}function Oo(e,t,n,r){var i=ko();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Ao(t,n,a,r))}uo.flags|=e,i.memoizedState=Ao(1|t,n,a,r)}function Lo(e,t){return Do(8390656,8,e,t)}function Mo(e,t){return Oo(2048,8,e,t)}function Fo(e,t){return Oo(4,2,e,t)}function Vo(e,t){return Oo(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function jo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4,4,Uo.bind(null,t,e),n)}function zo(){}function Bo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{gt=n,ao.transition=r}}function Ko(){return ko().memoizedState}function Go(e,t,n){var r=qs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$o(e)?Qo(t,n):(Yo(e,t,n),null!==(e=Ws(e,r,n=Bs()))&&Jo(e,t,r))}function Ho(e,t,n){var r=qs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($o(e))Qo(t,i);else{Yo(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ar(u,o))return}catch(s){}null!==(e=Ws(e,r,n=Bs()))&&Jo(e,t,r)}}function $o(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function Qo(e,t){fo=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=t.interleaved)?(n.next=n,null===Ji?Ji=[t]:Ji.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Jo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xo={readContext:Yi,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},Zo={readContext:Yi,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:Yi,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=bo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:Ro,useDebugValue:zo,useDeferredValue:function(e){var t=Ro(e),n=t[0],r=t[1];return Lo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){var e=Ro(!1),t=e[0];return e=Wo.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,i=bo();if(Na){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===gs)throw Error(a(349));0!==(30&oo)||_o(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(Co.bind(null,r,o,e),[e]),r.flags|=2048,Ao(9,To.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=bo(),t=gs.identifierPrefix;if(Na){var n=xa;t=":"+t+"R"+(n=(wa&~(1<<32-ot(wa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eu={readContext:Yi,useCallback:Bo,useContext:Yi,useEffect:Mo,useImperativeHandle:jo,useInsertionEffect:Fo,useLayoutEffect:Vo,useMemo:qo,useReducer:xo,useRef:Po,useState:function(){return xo(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=xo(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[xo(wo)[0],ko().memoizedState]},useMutableSource:So,useSyncExternalStore:Io,useId:Ko,unstable_isNewReconciler:!1},tu={readContext:Yi,useCallback:Bo,useContext:Yi,useEffect:Mo,useImperativeHandle:jo,useInsertionEffect:Fo,useLayoutEffect:Vo,useMemo:qo,useReducer:Eo,useRef:Po,useState:function(){return Eo(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=Eo(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[Eo(wo)[0],ko().memoizedState]},useMutableSource:So,useSyncExternalStore:Io,useId:Ko,unstable_isNewReconciler:!1};function nu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ru(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var iu,au,ou,uu="function"===typeof WeakMap?WeakMap:Map;function su(e,t,n){(n=ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ps||(Ps=!0,Ds=r),ru(0,t)},n}function cu(e,t,n){(n=ta(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ru(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ru(0,t),"function"!==typeof r&&(null===Os?Os=new Set([this]):Os.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function lu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function fu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ta(-1,1)).tag=2,na(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function du(e,t){if(!Na)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vu(e,t,n){var r=t.pendingProps;switch(_a(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pu(t),null;case 1:case 17:return Ni(t.type)&&Ri(),pu(t),null;case 3:return r=t.stateNode,Ja(),xi(_i),xi(Ii),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ma(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Ra&&(Qs(Ra),Ra=null))),pu(t),null;case 5:Za(t);var i=Qa($a.current);if(n=t.type,null!==e&&null!=t.stateNode)au(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return pu(t),null}if(e=Qa(Ga.current),Ma(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ci]=t,r[li]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(Yr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Fr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ci]=t,e[li]=r,iu(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return pu(t),null;case 6:if(e&&null!=t.stateNode)ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Qa($a.current),Qa(Ga.current),Ma(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(o=r.nodeValue!==n)&&null!==(e=Ta))switch(s=0!==(1&e.mode),e.tag){case 3:Yr(r.nodeValue,n,s);break;case 5:!0!==e.memoizedProps[void 0]&&Yr(r.nodeValue,n,s)}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return pu(t),null;case 13:if(xi(eo),r=t.memoizedState,Na&&null!==Ca&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ca;r;)r=oi(r.nextSibling);return Fa(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ma(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[ci]=t}else Fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return pu(t),null}return null!==Ra&&(Qs(Ra),Ra=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ma(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===Es&&(Es=3):ic())),null!==t.updateQueue&&(t.flags|=4),pu(t),null);case 4:return Ja(),null===e&&jr(t.stateNode.containerInfo),pu(t),null;case 10:return Hi(t.type._context),pu(t),null;case 19:if(xi(eo),null===(o=t.memoizedState))return pu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)du(o,!1);else{if(0!==Es||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=to(e))){for(t.flags|=128,du(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>As&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),du(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Na)return pu(t),null}else 2*Je()-o.renderingStartTime>As&&1073741824!==n&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=eo.current,Ei(eo,r?1&n|2:1&n),t):(pu(t),null);case 22:case 23:return ec(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ws)&&(pu(t),6&t.subtreeFlags&&(t.flags|=8192)):pu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}iu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},au=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qa(Ga.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var mu=k.ReactCurrentOwner,yu=!1;function gu(e,t,n,r){t.child=null===e?Wa(t,null,n,r):qa(t,e.child,n,r)}function bu(e,t,n,r,i){n=n.render;var a=t.ref;return Qi(t,i),r=yo(e,t,n,r,a,i),n=go(),null===e||yu?(Na&&n&&Ia(t),t.flags|=1,gu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uu(e,t,i))}function ku(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||wc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ec(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return Uu(e,t,i)}return t.flags|=1,(e=xc(a,r)).ref=t.ref,e.return=t,t.child=e}function wu(e,t,n,r,i){if(null!==e&&or(e.memoizedProps,r)&&e.ref===t.ref){if(yu=!1,0===(e.lanes&i))return t.lanes=e.lanes,Uu(e,t,i);0!==(131072&e.flags)&&(yu=!0)}return Su(e,t,n,r,i)}function xu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},Ei(xs,ws),ws|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Ei(xs,ws),ws|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,Ei(xs,ws),ws|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(xs,ws),ws|=r;return gu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Su(e,t,n,r,i){var a=Ni(n)?Ti:Ii.current;return a=Ci(t,a),Qi(t,i),n=yo(e,t,n,r,a,i),r=go(),null===e||yu?(Na&&r&&Ia(t),t.flags|=1,gu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uu(e,t,i))}function Iu(e,t,n,r,i){if(Ni(n)){var a=!0;Di(t)}else a=!1;if(Qi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fa(t,n,r),da(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Yi(c):c=Ci(t,c=Ni(n)?Ti:Ii.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ha(t,o,r,c),Xi=!1;var h=t.memoizedState;o.state=h,aa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||_i.current||Xi?("function"===typeof l&&(sa(t,n,l,r),s=t.memoizedState),(u=Xi||la(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ea(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:zi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Yi(s):s=Ci(t,s=Ni(n)?Ti:Ii.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ha(t,o,r,s),Xi=!1,h=t.memoizedState,o.state=h,aa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||_i.current||Xi?("function"===typeof d&&(sa(t,n,d,r),p=t.memoizedState),(c=Xi||la(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return _u(e,t,n,r,a,i)}function _u(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Oi(t,n,!1),Uu(e,t,a);r=t.stateNode,mu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,u,a)):gu(e,t,u,a),t.memoizedState=r.state,i&&Oi(t,n,!0),t.child}function Tu(e){var t=e.stateNode;t.pendingContext?Ai(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ai(0,t.context,!1),Ya(e,t.containerInfo)}function Cu(e,t,n,r,i){return Fa(),Va(i),t.flags|=256,gu(e,t,n,r),t.child}var Nu={dehydrated:null,treeContext:null,retryLane:0};function Ru(e){return{baseLanes:e,cachePool:null}}function Au(e,t,n){var r,i=t.pendingProps,o=eo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(eo,1&o),null===e)return Oa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Ic(o,i,0,null),e=Sc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Ru(n),t.memoizedState=Nu,e):Pu(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Lu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Ic({mode:"visible",children:i.children},o,0,null),(u=Sc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&qa(t,e.child,null,n),t.child.memoizedState=Ru(n),t.memoizedState=Nu,u);if(0===(1&t.mode))t=Lu(e,t,n,null);else if("$!"===r.data)t=Lu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),yu||i){if(null!==(i=gs)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Ws(e,i,-1))}ic(),t=Lu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=mc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ca=oi(r.nextSibling),Ta=t,Na=!0,Ra=null,null!==n&&(ga[ba++]=wa,ga[ba++]=xa,ga[ba++]=ka,wa=n.id,xa=n.overflow,ka=t),(t=Pu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Ou(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ru(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Nu,i):(n=Du(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Ou(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ru(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Nu,i):(n=Du(e,t,i.children,n),t.memoizedState=null,n)}function Pu(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Du(e,t,n,r){var i=e.child;return e=i.sibling,n=xc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Ou(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=xc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=xc(o,r):(r=Sc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Lu(e,t,n,r){return null!==r&&Va(r),qa(t,e.child,null,n),(e=Pu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),$i(e.return,t,n)}function Fu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(gu(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mu(e,n,t);else if(19===e.tag)Mu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fu(t,!0,n,null,a);break;case"together":Fu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Is|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=xc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=xc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ju(e,t){switch(_a(t),t.tag){case 1:return Ni(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ja(),xi(_i),xi(Ii),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(xi(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(eo),null;case 4:return Ja(),null;case 10:return Hi(t.type._context),null;case 22:case 23:return ec(),null;default:return null}}var zu=!1,Bu=!1,qu="function"===typeof WeakSet?WeakSet:Set,Wu=null;function Ku(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){dc(e,t,r)}else n.current=null}function Gu(e,t,n){try{n()}catch(r){dc(e,t,r)}}var Hu=!1;function $u(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Gu(t,n,a)}i=i.next}while(i!==r)}}function Qu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Ju(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Gu(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Ku(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){dc(t,n,o)}break;case 5:Ku(t,n);break;case 4:is(e,t,n)}}function Xu(e){var t=e.alternate;null!==t&&(e.alternate=null,Xu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[li],delete t[hi],delete t[di],delete t[pi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zu(e){return 5===e.tag||3===e.tag||4===e.tag}function es(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Zu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ts(e){e:{for(var t=e.return;null!==t;){if(Zu(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(he(t,""),n.flags&=-33),rs(e,n=es(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,ns(e,n=es(e),t);break;default:throw Error(a(161))}}function ns(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ns(e,t,n),e=e.sibling;null!==e;)ns(e,t,n),e=e.sibling}function rs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(rs(e,t,n),e=e.sibling;null!==e;)rs(e,t,n),e=e.sibling}function is(e,t,n){for(var r,i,o=t,u=!1;;){if(!u){u=o.return;e:for(;;){if(null===u)throw Error(a(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===o.tag||6===o.tag){e:for(var s=e,c=o,l=n,f=c;;)if(Ju(s,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,c=o.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(o.stateNode)}else if(18===o.tag)i?(s=r,c=o.stateNode,8===s.nodeType?ai(s.parentNode,c):1===s.nodeType&&ai(s,c),zt(s)):ai(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Ju(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(u=!1)}o.sibling.return=o.return,o=o.sibling}}function as(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return $u(3,t,t.return),Qu(3,t),void $u(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===r.type&&null!=r.name&&J(n,r),be(e,i),t=be(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?me(n,s):"dangerouslySetInnerHTML"===u?fe(n,s):"children"===u?he(n,s):b(n,u,s,t)}switch(e){case"input":X(n,r);break;case"textarea":ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ne(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[li]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&zt(t.stateNode.containerInfo));case 13:case 19:return void os(t)}throw Error(a(163))}function os(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qu),t.forEach((function(t){var r=yc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function us(e,t,n){Wu=e,ss(e,t,n)}function ss(e,t,n){for(var r=0!==(1&e.mode);null!==Wu;){var i=Wu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||zu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Bu;u=zu;var c=Bu;if(zu=o,(Bu=s)&&!c)for(Wu=i;null!==Wu;)s=(o=Wu).child,22===o.tag&&null!==o.memoizedState?fs(i):null!==s?(s.return=o,Wu=s):fs(i);for(;null!==a;)Wu=a,ss(a,t,n),a=a.sibling;Wu=i,zu=u,Bu=c}cs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Wu=a):cs(e)}}function cs(e){for(;null!==Wu;){var t=Wu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Bu||Qu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Bu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&oa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}oa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Bu||512&t.flags&&Yu(t)}catch(d){dc(t,t.return,d)}}if(t===e){Wu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}function ls(e){for(;null!==Wu;){var t=Wu;if(t===e){Wu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Wu=n;break}Wu=t.return}}function fs(e){for(;null!==Wu;){var t=Wu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qu(4,t)}catch(s){dc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){dc(t,i,s)}}var a=t.return;try{Yu(t)}catch(s){dc(t,a,s)}break;case 5:var o=t.return;try{Yu(t)}catch(s){dc(t,o,s)}}}catch(s){dc(t,t.return,s)}if(t===e){Wu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Wu=u;break}Wu=t.return}}var hs,ds=Math.ceil,ps=k.ReactCurrentDispatcher,vs=k.ReactCurrentOwner,ms=k.ReactCurrentBatchConfig,ys=0,gs=null,bs=null,ks=0,ws=0,xs=wi(0),Es=0,Ss=null,Is=0,_s=0,Ts=0,Cs=null,Ns=null,Rs=0,As=1/0,Ps=!1,Ds=null,Os=null,Ls=!1,Ms=null,Fs=0,Vs=0,Us=null,js=-1,zs=0;function Bs(){return 0!==(6&ys)?Je():-1!==js?js:js=Je()}function qs(e){return 0===(1&e.mode)?1:0!==(2&ys)&&0!==ks?ks&-ks:null!==ji.transition?(0===zs&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),zs=e),zs):0!==(e=gt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function Ws(e,t,n){if(50<Vs)throw Vs=0,Us=null,Error(a(185));var r=Ks(e,t);return null===r?null:(mt(r,t,n),0!==(2&ys)&&r===gs||(r===gs&&(0===(2&ys)&&(_s|=t),4===Es&&Ys(r,ks)),Gs(r,n),1===t&&0===ys&&0===(1&e.mode)&&(As=Je()+500,Mi&&Ui())),r)}function Ks(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Gs(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===gs?ks:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Mi=!0,Vi(e)}(Js.bind(null,e)):Vi(Js.bind(null,e)),ri((function(){0===ys&&Ui()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=gc(n,Hs.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hs(e,t){if(js=-1,zs=0,0!==(6&ys))throw Error(a(327));var n=e.callbackNode;if(fc()&&e.callbackNode!==n)return null;var r=ht(e,e===gs?ks:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ac(e,r);else{t=r;var i=ys;ys|=2;var o=rc();for(gs===e&&ks===t||(As=Je()+500,tc(e,t));;)try{uc();break}catch(s){nc(e,s)}Gi(),ps.current=o,ys=i,null!==bs?t=0:(gs=null,ks=0,t=Es)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=$s(e,i))),1===t)throw n=Ss,tc(e,0),Ys(e,r),Gs(e,Je()),n;if(6===t)Ys(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ac(e,r))&&(0!==(o=pt(e))&&(r=o,t=$s(e,o))),1===t))throw n=Ss,tc(e,0),Ys(e,r),Gs(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:lc(e,Ns);break;case 3:if(Ys(e,r),(130023424&r)===r&&10<(t=Rs+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Bs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(lc.bind(null,e,Ns),t);break}lc(e,Ns);break;case 4:if(Ys(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ds(r/1960))-r)){e.timeoutHandle=ei(lc.bind(null,e,Ns),r);break}lc(e,Ns);break;default:throw Error(a(329))}}}return Gs(e,Je()),e.callbackNode===n?Hs.bind(null,e):null}function $s(e,t){var n=Cs;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),2!==(e=ac(e,t))&&(t=Ns,Ns=n,null!==t&&Qs(t)),e}function Qs(e){null===Ns?Ns=e:Ns.push.apply(Ns,e)}function Ys(e,t){for(t&=~Ts,t&=~_s,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Js(e){if(0!==(6&ys))throw Error(a(327));fc();var t=ht(e,0);if(0===(1&t))return Gs(e,Je()),null;var n=ac(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=$s(e,r))}if(1===n)throw n=Ss,tc(e,0),Ys(e,t),Gs(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lc(e,Ns),Gs(e,Je()),null}function Xs(e,t){var n=ys;ys|=1;try{return e(t)}finally{0===(ys=n)&&(As=Je()+500,Mi&&Ui())}}function Zs(e){null!==Ms&&0===Ms.tag&&0===(6&ys)&&fc();var t=ys;ys|=1;var n=ms.transition,r=gt;try{if(ms.transition=null,gt=1,e)return e()}finally{gt=r,ms.transition=n,0===(6&(ys=t))&&Ui()}}function ec(){ws=xs.current,xi(xs)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==bs)for(n=bs.return;null!==n;){var r=n;switch(_a(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Ja(),xi(_i),xi(Ii),ro();break;case 5:Za(r);break;case 4:Ja();break;case 13:case 19:xi(eo);break;case 10:Hi(r.type._context);break;case 22:case 23:ec()}n=n.return}if(gs=e,bs=e=xc(e.current,null),ks=ws=t,Es=0,Ss=null,Ts=_s=Is=0,Ns=Cs=null,null!==Ji){for(t=0;t<Ji.length;t++)if(null!==(r=(n=Ji[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ji=null}return e}function nc(e,t){for(;;){var n=bs;try{if(Gi(),io.current=Xo,lo){for(var r=uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(oo=0,co=so=uo=null,fo=!1,ho=0,vs.current=null,null===n||null===n.return){Es=1,Ss=t,bs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=ks,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=fu(u);if(null!==p){p.flags&=-257,hu(p,u,s,0,t),1&p.mode&&lu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){lu(o,l,t),ic();break e}c=Error(a(426))}else if(Na&&1&s.mode){var y=fu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),hu(y,u,s,0,t),Va(c);break e}}o=c,4!==Es&&(Es=2),null===Cs?Cs=[o]:Cs.push(o),c=nu(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ia(s,su(0,c,t));break e;case 1:o=c;var g=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Os||!Os.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,ia(s,cu(s,o,t));break e}}s=s.return}while(null!==s)}cc(n)}catch(k){t=k,bs===n&&null!==n&&(bs=n=n.return);continue}break}}function rc(){var e=ps.current;return ps.current=Xo,null===e?Xo:e}function ic(){0!==Es&&3!==Es&&2!==Es||(Es=4),null===gs||0===(268435455&Is)&&0===(268435455&_s)||Ys(gs,ks)}function ac(e,t){var n=ys;ys|=2;var r=rc();for(gs===e&&ks===t||tc(e,t);;)try{oc();break}catch(i){nc(e,i)}if(Gi(),ys=n,ps.current=r,null!==bs)throw Error(a(261));return gs=null,ks=0,Es}function oc(){for(;null!==bs;)sc(bs)}function uc(){for(;null!==bs&&!Qe();)sc(bs)}function sc(e){var t=hs(e.alternate,e,ws);e.memoizedProps=e.pendingProps,null===t?cc(e):bs=t,vs.current=null}function cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=vu(n,t,ws)))return void(bs=n)}else{if(null!==(n=ju(n,t)))return n.flags&=32767,void(bs=n);if(null===e)return Es=6,void(bs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(bs=t);bs=t=e}while(null!==t);0===Es&&(Es=5)}function lc(e,t){var n=gt,r=ms.transition;try{ms.transition=null,gt=1,function(e,t,n){do{fc()}while(null!==Ms);if(0!==(6&ys))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===gs&&(bs=gs=null,ks=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Ls||(Ls=!0,gc(tt,(function(){return fc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=ms.transition,ms.transition=null;var u=gt;gt=1;var s=ys;ys|=4,vs.current=null,function(e,t){if(fr(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xr={focusedElem:e,selectionRange:n},Wu=t;null!==Wu;)if(e=(t=Wu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Wu=e;else for(;null!==Wu;){t=Wu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:zi(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;if(1===k.nodeType)k.textContent="";else if(9===k.nodeType){var w=k.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){dc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Wu=e;break}Wu=t.return}v=Hu,Hu=!1}(e,r),function(e,t){for(Wu=t;null!==Wu;){var n=(t=Wu).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{is(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(S){dc(i,t,S)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Wu=n;else for(;null!==Wu;){t=Wu;try{var o=t.flags;if(32&o&&he(t.stateNode,""),512&o){var u=t.alternate;if(null!==u){var s=u.ref;null!==s&&("function"===typeof s?s(null):s.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(Rs=Je())}break;case 22:var l=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;e:{i=l;for(var d=null,p=r=n=t;;){if(5===p.tag){if(null===d){d=p;var v=p.stateNode;if(i){var m=v.style;"function"===typeof m.setProperty?m.setProperty("display","none","important"):m.display="none"}else{var y=p.stateNode,g=p.memoizedProps.style,b=void 0!==g&&null!==g&&g.hasOwnProperty("display")?g.display:null;y.style.display=ve("display",b)}}}else if(6===p.tag)null===d&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}if(l&&!h&&0!==(1&n.mode)){Wu=n;for(var k=n.child;null!==k;){for(n=Wu=k;null!==Wu;){var w=(r=Wu).child;switch(r.tag){case 0:case 11:case 14:case 15:$u(4,r,r.return);break;case 1:Ku(r,r.return);var x=r.stateNode;if("function"===typeof x.componentWillUnmount){var E=r.return;try{x.props=r.memoizedProps,x.state=r.memoizedState,x.componentWillUnmount()}catch(S){dc(r,E,S)}}break;case 5:Ku(r,r.return);break;case 22:if(null!==r.memoizedState){ls(n);continue}}null!==w?(w.return=r,Wu=w):ls(n)}k=k.sibling}}}switch(4102&o){case 2:ts(t),t.flags&=-3;break;case 6:ts(t),t.flags&=-3,as(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,as(t.alternate,t);break;case 4:as(t.alternate,t)}}catch(S){dc(t,t.return,S)}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}}(e,r),hr(Xr),Xr=null,e.current=r,us(r,e,i),Ye(),ys=s,gt=u,ms.transition=o}else e.current=r;if(Ls&&(Ls=!1,Ms=e,Fs=i),0===(o=e.pendingLanes)&&(Os=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Gs(e,Je()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Ps)throw Ps=!1,e=Ds,Ds=null,e;0!==(1&Fs)&&0!==e.tag&&fc(),0!==(1&(o=e.pendingLanes))?e===Us?Vs++:(Vs=0,Us=e):Vs=0,Ui()}(e,t,n)}finally{ms.transition=r,gt=n}return null}function fc(){if(null!==Ms){var e=bt(Fs),t=ms.transition,n=gt;try{if(ms.transition=null,gt=16>e?16:e,null===Ms)var r=!1;else{if(e=Ms,Ms=null,Fs=0,0!==(6&ys))throw Error(a(331));var i=ys;for(ys|=4,Wu=e.current;null!==Wu;){var o=Wu,u=o.child;if(0!==(16&Wu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Wu=l;null!==Wu;){var f=Wu;switch(f.tag){case 0:case 11:case 15:$u(8,f,o)}var h=f.child;if(null!==h)h.return=f,Wu=h;else for(;null!==Wu;){var d=(f=Wu).sibling,p=f.return;if(Xu(f),f===l){Wu=null;break}if(null!==d){d.return=p,Wu=d;break}Wu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Wu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Wu=u;else e:for(;null!==Wu;){if(0!==(2048&(o=Wu).flags))switch(o.tag){case 0:case 11:case 15:$u(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Wu=g;break e}Wu=o.return}}var b=e.current;for(Wu=b;null!==Wu;){var k=(u=Wu).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Wu=k;else e:for(u=b;null!==Wu;){if(0!==(2048&(s=Wu).flags))try{switch(s.tag){case 0:case 11:case 15:Qu(9,s)}}catch(x){dc(s,s.return,x)}if(s===u){Wu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Wu=w;break e}Wu=s.return}}if(ys=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{gt=n,ms.transition=t}}return!1}function hc(e,t,n){na(e,t=su(0,t=nu(n,t),1)),t=Bs(),null!==(e=Ks(e,1))&&(mt(e,1,t),Gs(e,t))}function dc(e,t,n){if(3===e.tag)hc(e,e,n);else for(;null!==t;){if(3===t.tag){hc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Os||!Os.has(r))){na(t,e=cu(t,e=nu(n,e),1)),e=Bs(),null!==(t=Ks(t,1))&&(mt(t,1,e),Gs(t,e));break}}t=t.return}}function pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Bs(),e.pingedLanes|=e.suspendedLanes&n,gs===e&&(ks&n)===n&&(4===Es||3===Es&&(130023424&ks)===ks&&500>Je()-Rs?tc(e,0):Ts|=n),Gs(e,t)}function vc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Bs();null!==(e=Ks(e,t))&&(mt(e,t,n),Gs(e,n))}function mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vc(e,n)}function yc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),vc(e,n)}function gc(e,t){return He(e,t)}function bc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kc(e,t,n,r){return new bc(e,t,n,r)}function wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xc(e,t){var n=e.alternate;return null===n?((n=kc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ec(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)wc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Sc(n.children,i,o,t);case S:u=8,i|=8;break;case I:return(e=kc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=kc(13,n,t,i)).elementType=N,e.lanes=o,e;case R:return(e=kc(19,n,t,i)).elementType=R,e.lanes=o,e;case D:return Ic(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:u=10;break e;case T:u=9;break e;case C:u=11;break e;case A:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=kc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Sc(e,t,n,r){return(e=kc(7,e,r,t)).lanes=n,e}function Ic(e,t,n,r){return(e=kc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={},e}function _c(e,t,n){return(e=kc(6,e,null,t)).lanes=n,e}function Tc(e,t,n){return(t=kc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nc(e,t,n,r,i,a,o,u,s){return e=new Cc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=kc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Zi(a),e}function Rc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ac(e){if(!e)return Si;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Pi(e,n,t)}return t}function Pc(e,t,n,r,i,a,o,u,s){return(e=Nc(n,r,!0,e,0,a,0,u,s)).context=Ac(null),n=e.current,(a=ta(r=Bs(),i=qs(n))).callback=void 0!==t&&null!==t?t:null,na(n,a),e.current.lanes=i,mt(e,i,r),Gs(e,r),e}function Dc(e,t,n,r){var i=t.current,a=Bs(),o=qs(i);return n=Ac(n),null===t.context?t.context=n:t.pendingContext=n,(t=ta(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),na(i,t),null!==(e=Ws(i,o,a))&&ra(e,i,o),o}function Oc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Lc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Mc(e,t){Lc(e,t),(e=e.alternate)&&Lc(e,t)}hs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_i.current)yu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yu=!1,function(e,t,n){switch(t.tag){case 3:Tu(t),Fa();break;case 5:Xa(t);break;case 1:Ni(t.type)&&Di(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(Bi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Au(e,t,n):(Ei(eo,1&eo.current),null!==(e=Uu(e,t,n))?e.sibling:null);Ei(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,xu(e,t,n)}return Uu(e,t,n)}(e,t,n);yu=0!==(131072&e.flags)}else yu=!1,Na&&0!==(1048576&t.flags)&&Sa(t,ya,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ci(t,Ii.current);Qi(t,n),i=yo(null,t,r,e,i,n);var o=go();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Zi(t),i.updater=ca,t.stateNode=i,i._reactInternals=t,da(t,r,e,n),t=_u(null,t,r,!0,o,n)):(t.tag=0,Na&&o&&Ia(t),gu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return wc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=zi(r,e),i){case 0:t=Su(null,t,r,e,n);break e;case 1:t=Iu(null,t,r,e,n);break e;case 11:t=bu(null,t,r,e,n);break e;case 14:t=ku(null,t,r,zi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 3:e:{if(Tu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ea(e,t),aa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Cu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Cu(e,t,r,n,i=Error(a(424)));break e}for(Ca=oi(t.stateNode.containerInfo.firstChild),Ta=t,Na=!0,Ra=null,n=Wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fa(),r===i){t=Uu(e,t,n);break e}gu(e,t,r,n)}t=t.child}return t;case 5:return Xa(t),null===e&&Oa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,Zr(r,i)?u=null:null!==o&&Zr(r,o)&&(t.flags|=32),Eu(e,t),gu(e,t,u,n),t.child;case 6:return null===e&&Oa(t),null;case 13:return Au(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qa(t,null,r,n):gu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,bu(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 7:return gu(e,t,t.pendingProps,n),t.child;case 8:case 12:return gu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(Bi,r._currentValue),r._currentValue=u,null!==o)if(ar(o.value,u)){if(o.children===i.children&&!_i.current){t=Uu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ta(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),$i(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),$i(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}gu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Qi(t,n),r=r(i=Yi(i)),t.flags|=1,gu(e,t,r,n),t.child;case 14:return i=zi(r=t.type,t.pendingProps),ku(e,t,r,i=zi(r.type,i),n);case 15:return wu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ni(r)?(e=!0,Di(t)):e=!1,Qi(t,n),fa(t,r,i),da(t,r,i,n),_u(null,t,r,!0,e,n);case 19:return Vu(e,t,n);case 22:return xu(e,t,n)}throw Error(a(156,t.tag))};var Fc="function"===typeof reportError?reportError:function(e){console.error(e)};function Vc(e){this._internalRoot=e}function Uc(e){this._internalRoot=e}function jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Bc(){}function qc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Oc(o);u.call(e)}}Dc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Oc(o);a.call(e)}}var o=Pc(t,r,e,0,null,!1,0,"",Bc);return e._reactRootContainer=o,e[fi]=o.current,jr(8===e.nodeType?e.parentNode:e),Zs(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Oc(s);u.call(e)}}var s=Nc(e,0,!1,null,0,!1,0,"",Bc);return e._reactRootContainer=s,e[fi]=s.current,jr(8===e.nodeType?e.parentNode:e),Zs((function(){Dc(t,s,n,r)})),s}(n,t,e,i,r);return Oc(o)}Uc.prototype.render=Vc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Dc(e,t,null,null)},Uc.prototype.unmount=Vc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zs((function(){Dc(null,e,null,null)})),t[fi]=null}},Uc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),Gs(t,Je()),0===(6&ys)&&(As=Je()+500,Ui()))}break;case 13:var r=Bs();Zs((function(){return Ws(e,1,r)})),Mc(e,1)}},wt=function(e){13===e.tag&&(Ws(e,134217728,Bs()),Mc(e,134217728))},xt=function(e){if(13===e.tag){var t=Bs(),n=qs(e);Ws(e,n,t),Mc(e,n)}},Et=function(){return gt},St=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gi(r);if(!i)throw Error(a(90));H(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=Xs,Ne=Zs;var Wc={usingClientEntryPoint:!1,Events:[mi,yi,gi,_e,Te,Xs]},Kc={findFiberByHostInstance:vi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Gc={bundleType:Kc.bundleType,version:Kc.version,rendererPackageName:Kc.rendererPackageName,rendererConfig:Kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:Kc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{it=Hc.inject(Gc),at=Hc}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!jc(t))throw Error(a(200));return Rc(e,t,null,n)},t.createRoot=function(e,t){if(!jc(e))throw Error(a(299));var n=!1,r="",i=Fc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Nc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,jr(8===e.nodeType?e.parentNode:e),new Vc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return Zs(e)},t.hydrate=function(e,t,n){if(!zc(t))throw Error(a(200));return qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Fc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Pc(t,null,e,1,null!=n?n:null,i,0,o,u),e[fi]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Uc(t)},t.render=function(e,t,n){if(!zc(t))throw Error(a(200));return qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!zc(e))throw Error(a(40));return!!e._reactRootContainer&&(Zs((function(){qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=Xs,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return qc(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function R(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:E};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(A){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return R()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var b={};s(b,a,(function(){return this}));var k=Object.getPrototypeOf,w=k&&k(k(N([])));w&&w!==n&&r.call(w,a)&&(b=w);var x=g.prototype=m.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:R}}function R(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(S.prototype),s(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(_),_=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,I=null,_=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function R(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?E():(S=!1,I=null)}}else S=!1}if("function"===typeof b)E=function(){b(R)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=R,E=function(){P.postMessage(null)}}else E=function(){y(R,0)};function D(e){I=e,S||(S=!0,E())}function O(e,n){_=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(_),_=-1):m=!0,O(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};!function(){"use strict";n.d(r,{_:function(){return sO}});var e={};n.r(e),n.d(e,{FirebaseError:function(){return Qa},SDK_VERSION:function(){return Go},_DEFAULT_ENTRY_NAME:function(){return Do},_addComponent:function(){return Fo},_addOrOverwriteComponent:function(){return Vo},_apps:function(){return Lo},_clearComponents:function(){return Bo},_components:function(){return Mo},_getProvider:function(){return jo},_registerComponent:function(){return Uo},_removeServiceInstance:function(){return zo},deleteApp:function(){return Yo},getApp:function(){return $o},getApps:function(){return Qo},initializeApp:function(){return Ho},onLog:function(){return Zo},registerVersion:function(){return Xo},setLogLevel:function(){return eu}});var t,i=n(791),a=n(164);function o(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||s(e,t)||c()}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var h=function(e){return e};var d="beforeunload",p="popstate";function v(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=k(r.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,u=e.hash,s=void 0===u?"":u,c=i.state||{};return[c.idx,h({pathname:n,search:o,hash:s,state:c.usr||null,key:c.key||"default"})]}var o=null;function u(){if(o)x.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(x.length){if(null!=r){var u=l-r;u&&(o={action:e,location:i,retry:function(){C(-1*u)}},C(u))}}else T(e)}}r.addEventListener(p,u),r.addEventListener("hashchange",(function(){b(a()[1])!==b(v)&&u()}));var s=t.Pop,c=a(),l=c[0],v=c[1],w=y(),x=y();function E(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=r.location.href,i=n.indexOf("#");t=-1===i?n:n.slice(0,i)}return t}()+"#"+("string"===typeof e?e:b(e))}function S(e,t){return void 0===t&&(t=null),h(f({pathname:v.pathname,hash:"",search:""},"string"===typeof e?k(e):e,{state:t,key:g()}))}function I(e,t){return[{usr:e.state,key:e.key,idx:t},E(e)]}function _(e,t,n){return!x.length||(x.call({action:e,location:t,retry:n}),!1)}function T(e){s=e;var t=a();l=t[0],v=t[1],w.call({action:s,location:v})}function C(e){i.go(e)}null==l&&(l=0,i.replaceState(f({},i.state,{idx:l}),""));var N={get action(){return s},get location(){return v},createHref:E,push:function e(n,a){var o=t.Push,u=S(n,a);if(_(o,u,(function(){e(n,a)}))){var s=I(u,l+1),c=s[0],f=s[1];try{i.pushState(c,"",f)}catch(h){r.location.assign(f)}T(o)}},replace:function e(n,r){var a=t.Replace,o=S(n,r);if(_(a,o,(function(){e(n,r)}))){var u=I(o,l),s=u[0],c=u[1];i.replaceState(s,"",c),T(a)}},go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(e){return w.push(e)},block:function(e){var t=x.push(e);return 1===x.length&&r.addEventListener(d,m),function(){t(),x.length||r.removeEventListener(d,m)}}};return N}function m(e){e.preventDefault(),e.returnValue=""}function y(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function g(){return Math.random().toString(36).substr(2,8)}function b(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function k(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var w=(0,i.createContext)(null);var x=(0,i.createContext)(null);var E=(0,i.createContext)({outlet:null,matches:[]});function S(e,t){if(!e)throw new Error(t)}function I(e,t,n){void 0===n&&(n="/");var r=D(("string"===typeof t?k(t):t).pathname||"/",n);if(null==r)return null;var i=_(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=R(i[o],r);return a}function _(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||S(!1),a.relativePath=a.relativePath.slice(r.length));var o=O([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&S(!1),_(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:N(o,e.index),routesMeta:u})})),t}var T=/^:\w+$/,C=function(e){return"*"===e};function N(e,t){var n=e.split("/"),r=n.length;return n.some(C)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!C(e)})).reduce((function(e,t){return e+(T.test(t)?3:""===t?1:10)}),r)}function R(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=A({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:O([i,l.pathname]),pathnameBase:L(O([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=O([i,l.pathnameBase]))}return a}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{});return{params:f,pathname:u,pathnameBase:s,pattern:e}}function P(e,t,n){var r,i="string"===typeof e?k(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?k(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:M(a),hash:F(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var O=function(e){return e.join("/").replace(/\/\/+/g,"/")},L=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},M=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},F=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function V(e){U()||S(!1);var t=(0,i.useContext)(w),n=t.basename,r=t.navigator,a=B(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?k(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?n+(f?"/":""):O([n,u])}return r.createHref({pathname:c,search:s,hash:o})}function U(){return null!=(0,i.useContext)(x)}function j(){return U()||S(!1),(0,i.useContext)(x).location}function z(){U()||S(!1);var e=(0,i.useContext)(w),t=e.basename,n=e.navigator,r=(0,i.useContext)(E).matches,a=j().pathname,o=JSON.stringify(r.map((function(e){return e.pathnameBase}))),u=(0,i.useRef)(!1);(0,i.useEffect)((function(){u.current=!0}));var s=(0,i.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=P(e,JSON.parse(o),a);"/"!==t&&(i.pathname=O([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}function B(e){var t=(0,i.useContext)(E).matches,n=j().pathname,r=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,i.useMemo)((function(){return P(e,JSON.parse(r),n)}),[e,r,n])}function q(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,a){return(0,i.createElement)(E.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function W(e){var t=e.to,n=e.replace,r=e.state;U()||S(!1);var a=z();return(0,i.useEffect)((function(){a(t,{replace:n,state:r})})),null}function K(e){S(!1)}function G(e){var n=e.basename,r=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;U()&&S(!1);var d=L(r),p=(0,i.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=k(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,b=void 0===g?"":g,E=v.hash,I=void 0===E?"":E,_=v.state,T=void 0===_?null:_,C=v.key,N=void 0===C?"default":C,R=(0,i.useMemo)((function(){var e=D(y,d);return null==e?null:{pathname:e,search:b,hash:I,state:T,key:N}}),[d,y,b,I,T,N]);return null==R?null:(0,i.createElement)(w.Provider,{value:p},(0,i.createElement)(x.Provider,{children:o,value:{location:R,navigationType:c}}))}function H(e){var t=e.children,n=e.location;return function(e,t){U()||S(!1);var n,r=(0,i.useContext)(E).matches,a=r[r.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,j());if(t){var c,l="string"===typeof t?k(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||S(!1),n=l}else n=s;var f=n.pathname||"/",h=I(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return q(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:O([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:O([u,e.pathnameBase])})})),r)}($(t),n)}function $(e){var t=[];return i.Children.forEach(e,(function(e){if((0,i.isValidElement)(e))if(e.type!==i.Fragment){e.type!==K&&S(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=$(e.props.children)),t.push(n)}else t.push.apply(t,$(e.props.children))})),t}function Q(){return Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(this,arguments)}function Y(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var J=["onClick","reloadDocument","replace","state","target","to"],X=["aria-current","caseSensitive","className","end","style","to","children"];function Z(e){var t=e.basename,n=e.children,r=e.window,a=(0,i.useRef)();null==a.current&&(a.current=v({window:r}));var o=a.current,u=l((0,i.useState)({action:o.action,location:o.location}),2),s=u[0],c=u[1];return(0,i.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,i.createElement)(G,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}var ee=(0,i.forwardRef)((function(e,t){var n=e.onClick,r=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=Y(e,J),f=V(c),h=function(e,t){var n=void 0===t?{}:t,r=n.target,a=n.replace,o=n.state,u=z(),s=j(),c=B(e);return(0,i.useCallback)((function(t){if(0===t.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||b(s)===b(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,r,e])}(c,{replace:o,state:u,target:s});return(0,i.createElement)("a",Q({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||r||h(e)},ref:t,target:s}))}));var te=(0,i.forwardRef)((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,a=e.caseSensitive,o=void 0!==a&&a,u=e.className,s=void 0===u?"":u,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,p=Y(e,X),v=j(),m=B(h),y=v.pathname,g=m.pathname;o||(y=y.toLowerCase(),g=g.toLowerCase());var b,k=y===g||!l&&y.startsWith(g)&&"/"===y.charAt(g.length),w=k?r:void 0;b="function"===typeof s?s({isActive:k}):[s,k?"active":null].filter(Boolean).join(" ");var x="function"===typeof f?f({isActive:k}):f;return(0,i.createElement)(ee,Q({},p,{"aria-current":w,className:b,ref:t,style:x,to:h}),"function"===typeof d?d({isActive:k}):d)}));function ne(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function re(e,t){if(null==e)return{};var n,r,i=ne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ie(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=ie(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function ae(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=ie(e))&&(r&&(r+=" "),r+=t);return r}var oe=n(110),ue=n.n(oe),se="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce="object"===("undefined"===typeof window?"undefined":se(window))&&"object"===("undefined"===typeof document?"undefined":se(document))&&9===document.nodeType;function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t,n){return t&&le(e.prototype,t),n&&le(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function he(e,t){return he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},he(e,t)}function de(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,he(e,t)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ve={}.constructor;function me(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(me);if(e.constructor!==ve)return e;var t={};for(var n in e)t[n]=me(e[n]);return t}function ye(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=me(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var ge=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},be=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=ge(e[r]," ");else n=ge(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function ke(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function we(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function xe(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var u=ke(n),s=u.linebreak,c=u.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=s),r+=we(h+":"+c+be(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=s),r+=we(p+":"+c+be(v)+";",a))}for(var m in t){var y=t[m];null!=y&&"fallbacks"!==m&&(r&&(r+=s),r+=we(m+":"+c+be(y)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+s+r+s),we(""+e+c+"{"+r,--a)+we("}",a)):r}var Ee=/([[\].#*$><+~=|^:(),"'`\s])/g,Se="undefined"!==typeof CSS&&CSS.escape,Ie=function(e){return Se?Se(e):e.replace(Ee,"\\$1")},_e=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var u=a&&o;if(u?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var s=this.options.sheet;return s&&s.attached,this},e}(),Te=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,u=r.sheet,s=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=s(pe(pe(i)),u),i.selectorText="."+Ie(i.id)),i}de(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=be(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?f({},e,{allowEmpty:!0}):e;return xe(this.selectorText,this.style,n)},fe(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(_e),Ce={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new Te(e,t,n)}},Ne={indent:1,children:!0},Re=/@([\w-]+)/,Ae=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(Re);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new tt(f({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=Ne);var t=ke(e).linebreak;if(null==e.indent&&(e.indent=Ne.indent),null==e.children&&(e.children=Ne.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),Pe=/@media|@supports\s+/,De={onCreateRule:function(e,t,n){return Pe.test(e)?new Ae(e,t,n):null}},Oe={indent:1,children:!0},Le=/@keyframes\s+([\w-]+)/,Me=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(Le);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,a=n.sheet,o=n.generateId;for(var u in this.id=!1===i?this.name:Ie(o(this,a)),this.rules=new tt(f({},n,{parent:this})),t)this.rules.add(u,t[u],f({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=Oe);var t=ke(e).linebreak;if(null==e.indent&&(e.indent=Oe.indent),null==e.children&&(e.children=Oe.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),Fe=/@keyframes\s+/,Ve=/\$([\w-]+)/g,Ue=function(e,t){return"string"===typeof e?e.replace(Ve,(function(e,n){return n in t?t[n]:e})):e},je=function(e,t,n){var r=e[t],i=Ue(r,n);i!==r&&(e[t]=i)},ze={onCreateRule:function(e,t,n){return"string"===typeof e&&Fe.test(e)?new Me(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&je(e,"animation-name",n.keyframes),"animation"in e&&je(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return Ue(e,r.keyframes);default:return e}}},Be=function(e){function t(){return e.apply(this,arguments)||this}return de(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?f({},e,{allowEmpty:!0}):e;return xe(this.key,this.style,n)},t}(_e),qe={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new Be(e,t,n):null}},We=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=ke(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=xe(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return xe(this.at,this.style,e)},e}(),Ke=/@font-face/,Ge={onCreateRule:function(e,t,n){return Ke.test(e)?new We(e,t,n):null}},He=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return xe(this.key,this.style,e)},e}(),$e={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new He(e,t,n):null}},Qe=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),Ye={"@charset":!0,"@import":!0,"@namespace":!0},Je={onCreateRule:function(e,t,n){return e in Ye?new Qe(e,t,n):null}},Xe=[Ce,De,ze,qe,Ge,$e,Je],Ze={process:!0},et={force:!0,process:!0},tt=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,a=r.sheet,o=r.jss,u=r.Renderer,s=r.generateId,c=r.scoped,l=f({classes:this.classes,parent:i,sheet:a,jss:o,Renderer:u,generateId:s,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(l.selector="."+Ie(this.classes[h]));var d=ye(h,t,l);if(!d)return null;this.register(d);var p=void 0===l.index?this.index.length:l.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==i&&(a=f({},n,{index:i})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof Te?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof Me&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof Te?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof Me&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=Ze);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var u=t.style;if(a.onUpdate(n,t,o,r),r.process&&u&&u!==t.style){for(var s in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[s];c!==u[s]&&t.prop(s,c,et)}for(var l in u){var f=t.style[l],h=u[l];null==f&&f!==h&&t.prop(l,null,et)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=ke(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),nt=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=f({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new tt(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),rt=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),it=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=ne(t,["attached"]),i=ke(r).linebreak,a="",o=0;o<this.registry.length;o++){var u=this.registry[o];null!=n&&u.attached!==n||(a&&(a+=i),a+=u.toString(r))}return a},fe(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),at=new it,ot="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ut="2f1acc6c3a606b082e5eef5e54414ffb";null==ot[ut]&&(ot[ut]=0);var st=ot[ut]++,ct=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+st+i+t:a+n.key+"-"+st+(i?"-"+i:"")+"-"+t}},lt=function(e){var t;return function(){return t||(t=e()),t}},ft=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},ht=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=be(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},dt=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},pt=function(e,t){return e.selectorText=t,e.selectorText===t},vt=lt((function(){return document.querySelector("head")}));function mt(e){var t=at.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=vt(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var yt=lt((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),gt=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},bt=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},kt=function(){function e(e){this.getPropertyValue=ft,this.setProperty=ht,this.removeProperty=dt,this.setSelector=pt,this.hasInsertedRules=!1,this.cssRules=[],e&&at.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=yt();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=mt(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else vt().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=bt(n,t);if(!1===(i=gt(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var u=bt(n,t),s=gt(n,o,u);return!1!==s&&(this.hasInsertedRules=!0,this.refCssRule(e,u,s),s)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof nt&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),wt=0,xt=function(){function e(e){this.id=wt++,this.version="10.9.0",this.plugins=new rt,this.options={id:{minify:!1},createGenerateId:ct,Renderer:ce?kt:null,plugins:[]},this.generateId=ct({minify:!1});for(var t=0;t<Xe.length;t++)this.plugins.use(Xe[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=f({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===at.index?0:at.index+1);var r=new nt(e,f({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),at.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=f({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=ye(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),Et=function(e){return new xt(e)},St="object"===typeof CSS&&null!=CSS&&"number"in CSS;function It(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=It(r);a&&(t||(t={}),t[n]=a)}}return t}Et();function _t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=f({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var Tt={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Ct=Tt;var Nt=i.createContext(null);function Rt(){return i.useContext(Nt)}var At="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",Pt=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Dt=Date.now(),Ot="fnValues"+Dt,Lt="fnStyle"+ ++Dt,Mt=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=ye(e,{},n);return r[Lt]=t,r},onProcessStyle:function(e,t){if(Ot in t||Lt in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Ot]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Lt];a&&(i.style=a(e)||{});var o=i[Ot];if(o)for(var u in o)i.prop(u,o[u](e),r)}}},Ft="@global",Vt="@global ",Ut=function(){function e(e,t,n){for(var r in this.type="global",this.at=Ft,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new tt(f({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),jt=function(){function e(e,t,n){this.type="global",this.at=Ft,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(Vt.length);this.rule=n.jss.createRule(r,t,f({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),zt=/\s*,\s*/g;function Bt(e,t){for(var n=e.split(zt),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var qt=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Ft)return new Ut(e,t,n);if("@"===e[0]&&e.substr(0,Vt.length)===Vt)return new jt(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[Ft]:null;if(i){for(var a in i)t.addRule(a,i[a],f({},n,{selector:Bt(a,e.selector)}));delete r[Ft]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,Ft.length)===Ft){var a=Bt(i.substr(Ft.length),e.selector);t.addRule(a,r[i],f({},n,{selector:a})),delete r[i]}}(e,t))}}},Wt=/\s*,\s*/g,Kt=/&/g,Gt=/\$([\w-]+)/g;var Ht=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Wt),r=e.split(Wt),i="",a=0;a<n.length;a++)for(var o=n[a],u=0;u<r.length;u++){var s=r[u];i&&(i+=", "),i+=-1!==s.indexOf("&")?s.replace(Kt,o):o+" "+s}return i}function n(e,t,n){if(n)return f({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=f({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,a){if("style"!==i.type)return r;var o,u,s=i,c=s.options.parent;for(var l in r){var h=-1!==l.indexOf("&"),d="@"===l[0];if(h||d){if(o=n(s,c,o),h){var p=t(l,s.selector);u||(u=e(c,a)),p=p.replace(Gt,u);var v=s.key+"-"+l;"replaceRule"in c?c.replaceRule(v,r[l],f({},o,{selector:p})):c.addRule(v,r[l],f({},o,{selector:p}))}else d&&c.addRule(l,{},o).addRule(s.key,r[l],{selector:s.selector});delete r[l]}}return r}}},$t=/[A-Z]/g,Qt=/^ms-/,Yt={};function Jt(e){return"-"+e.toLowerCase()}var Xt=function(e){if(Yt.hasOwnProperty(e))return Yt[e];var t=e.replace($t,Jt);return Yt[e]=Qt.test(t)?"-"+t:t};function Zt(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Xt(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Zt):t.fallbacks=Zt(e.fallbacks)),t}var en=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Zt(e[t]);return e}return Zt(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Xt(t);return t===r?e:(n.prop(r,e),null)}}},tn=St&&CSS?CSS.px:"px",nn=St&&CSS?CSS.ms:"ms",rn=St&&CSS?CSS.percent:"%";function an(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var on=an({"animation-delay":nn,"animation-duration":nn,"background-position":tn,"background-position-x":tn,"background-position-y":tn,"background-size":tn,border:tn,"border-bottom":tn,"border-bottom-left-radius":tn,"border-bottom-right-radius":tn,"border-bottom-width":tn,"border-left":tn,"border-left-width":tn,"border-radius":tn,"border-right":tn,"border-right-width":tn,"border-top":tn,"border-top-left-radius":tn,"border-top-right-radius":tn,"border-top-width":tn,"border-width":tn,"border-block":tn,"border-block-end":tn,"border-block-end-width":tn,"border-block-start":tn,"border-block-start-width":tn,"border-block-width":tn,"border-inline":tn,"border-inline-end":tn,"border-inline-end-width":tn,"border-inline-start":tn,"border-inline-start-width":tn,"border-inline-width":tn,"border-start-start-radius":tn,"border-start-end-radius":tn,"border-end-start-radius":tn,"border-end-end-radius":tn,margin:tn,"margin-bottom":tn,"margin-left":tn,"margin-right":tn,"margin-top":tn,"margin-block":tn,"margin-block-end":tn,"margin-block-start":tn,"margin-inline":tn,"margin-inline-end":tn,"margin-inline-start":tn,padding:tn,"padding-bottom":tn,"padding-left":tn,"padding-right":tn,"padding-top":tn,"padding-block":tn,"padding-block-end":tn,"padding-block-start":tn,"padding-inline":tn,"padding-inline-end":tn,"padding-inline-start":tn,"mask-position-x":tn,"mask-position-y":tn,"mask-size":tn,height:tn,width:tn,"min-height":tn,"max-height":tn,"min-width":tn,"max-width":tn,bottom:tn,left:tn,top:tn,right:tn,inset:tn,"inset-block":tn,"inset-block-end":tn,"inset-block-start":tn,"inset-inline":tn,"inset-inline-end":tn,"inset-inline-start":tn,"box-shadow":tn,"text-shadow":tn,"column-gap":tn,"column-rule":tn,"column-rule-width":tn,"column-width":tn,"font-size":tn,"font-size-delta":tn,"letter-spacing":tn,"text-decoration-thickness":tn,"text-indent":tn,"text-stroke":tn,"text-stroke-width":tn,"word-spacing":tn,motion:tn,"motion-offset":tn,outline:tn,"outline-offset":tn,"outline-width":tn,perspective:tn,"perspective-origin-x":rn,"perspective-origin-y":rn,"transform-origin":rn,"transform-origin-x":rn,"transform-origin-y":rn,"transform-origin-z":rn,"transition-delay":nn,"transition-duration":nn,"vertical-align":tn,"flex-basis":tn,"shape-margin":tn,size:tn,gap:tn,grid:tn,"grid-gap":tn,"row-gap":tn,"grid-row-gap":tn,"grid-column-gap":tn,"grid-template-rows":tn,"grid-template-columns":tn,"grid-auto-rows":tn,"grid-auto-columns":tn,"box-shadow-x":tn,"box-shadow-y":tn,"box-shadow-blur":tn,"box-shadow-spread":tn,"font-line-height":tn,"text-shadow-x":tn,"text-shadow-y":tn,"text-shadow-blur":tn});function un(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=un(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=un(i,t[i],n);else for(var a in t)t[a]=un(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||on[e];return!o||0===t&&o===tn?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var sn=function(e){void 0===e&&(e={});var t=an(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=un(r,e[r],t);return e},onChangeValue:function(e,n){return un(n,e,t)}}};function cn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ln(e){return function(e){if(Array.isArray(e))return u(e)}(e)||cn(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fn="",hn="",dn="",pn="",vn=ce&&"ontouchstart"in document.documentElement;if(ce){var mn={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},yn=document.createElement("p").style;for(var gn in mn)if(gn+"Transform"in yn){fn=gn,hn=mn[gn];break}"Webkit"===fn&&"msHyphens"in yn&&(fn="ms",hn=mn.ms,pn="edge"),"Webkit"===fn&&"-apple-trailing-word"in yn&&(dn="apple")}var bn=fn,kn=hn,wn=dn,xn=pn,En=vn;var Sn={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===bn?"-webkit-"+e:kn+e)}},In={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===bn?kn+"print-"+e:e)}},_n=/[-\s]+(.)?/g;function Tn(e,t){return t?t.toUpperCase():""}function Cn(e){return e.replace(_n,Tn)}function Nn(e){return Cn("-"+e)}var Rn,An={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===bn){var n="mask-image";if(Cn(n)in t)return e;if(bn+Nn(n)in t)return kn+e}return e}},Pn={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==wn||En?e:kn+e)}},Dn={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:kn+e)}},On={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:kn+e)}},Ln={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===bn||"ms"===bn&&"edge"!==xn?kn+e:e)}},Mn={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===bn||"ms"===bn||"apple"===wn?kn+e:e)}},Fn={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===bn?"WebkitColumn"+Nn(e)in t&&kn+"column-"+e:"Moz"===bn&&("page"+Nn(e)in t&&"page-"+e))}},Vn={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===bn)return e;var n=e.replace("-inline","");return bn+Nn(n)in t&&kn+n}},Un={supportedProperty:function(e,t){return Cn(e)in t&&e}},jn={supportedProperty:function(e,t){var n=Nn(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:bn+n in t?kn+e:"Webkit"!==bn&&"Webkit"+n in t&&"-webkit-"+e}},zn={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===bn?""+kn+e:e)}},Bn={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===bn?kn+"scroll-chaining":e)}},qn={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Wn={supportedProperty:function(e,t){var n=qn[e];return!!n&&(bn+Nn(n)in t&&kn+n)}},Kn={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Gn=Object.keys(Kn),Hn=function(e){return kn+e},$n={supportedProperty:function(e,t,n){var r=n.multiple;if(Gn.indexOf(e)>-1){var i=Kn[e];if(!Array.isArray(i))return bn+Nn(i)in t&&kn+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(bn+Nn(i[0])in t))return!1;return i.map(Hn)}return!1}},Qn=[Sn,In,An,Pn,Dn,On,Ln,Mn,Fn,Vn,Un,jn,zn,Bn,Wn,$n],Yn=Qn.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Jn=Qn.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,ln(t.noPrefill)),e}),[]),Xn={};if(ce){Rn=document.createElement("p");var Zn=window.getComputedStyle(document.documentElement,"");for(var er in Zn)isNaN(er)||(Xn[Zn[er]]=Zn[er]);Jn.forEach((function(e){return delete Xn[e]}))}function tr(e,t){if(void 0===t&&(t={}),!Rn)return e;if(null!=Xn[e])return Xn[e];"transition"!==e&&"transform"!==e||(t[e]=e in Rn.style);for(var n=0;n<Yn.length&&(Xn[e]=Yn[n](e,Rn.style,t),!Xn[e]);n++);try{Rn.style[e]=""}catch(r){return!1}return Xn[e]}var nr,rr={},ir={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},ar=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function or(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?tr(t):", "+tr(n);return r||(t||n)}function ur(e,t){var n=t;if(!nr||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=rr[r])return rr[r];try{nr.style[e]=n}catch(i){return rr[r]=!1,!1}if(ir[e])n=n.replace(ar,or);else if(""===nr.style[e]&&("-ms-flex"===(n=kn+n)&&(nr.style[e]="-ms-flexbox"),nr.style[e]=n,""===nr.style[e]))return rr[r]=!1,!1;return nr.style[e]="",rr[r]=n,rr[r]}ce&&(nr=document.createElement("p"));var sr=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=tr(n);a&&a!==n&&(i=!0);var o=!1,u=ur(a,be(r));u&&u!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=u||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===bn?e:"@"+kn+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return ur(t,be(e))||e}}};var cr=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var lr=Et({plugins:[Mt(),qt(),Ht(),en(),sn(),"undefined"===typeof window?null:sr(),cr()]}),fr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,u=""===o?"":"".concat(o,"-"),s=0,c=function(){return s+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Pt.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(u).concat(r,"-").concat(e.key);return t.options.theme[At]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(u).concat(i).concat(c())}}(),hr={disableGeneration:!1,generateClassName:fr,jss:lr,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},dr=i.createContext(hr);var pr=-1e9;function vr(){return pr+=1}function mr(e){return mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(e)}function yr(e){return e&&"object"===mr(e)&&e.constructor===Object}function gr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?f({},e):e;return yr(e)&&yr(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(yr(t[i])&&i in e?r[i]=gr(e[i],t[i],n):r[i]=t[i])})),r}function br(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(u){throw u}if(!r||!n.overrides||!n.overrides[r])return i;var a=n.overrides[r],o=f({},i);return Object.keys(a).forEach((function(e){o[e]=gr(o[e],a[e])})),o},options:{}}}var kr={};function wr(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=_t({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function xr(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,a=e.stylesCreator,o=e.name;if(!i.disableGeneration){var u=Ct.get(i.sheetsManager,a,r);u||(u={refs:0,staticSheet:null,dynamicStyles:null},Ct.set(i.sheetsManager,a,r,u));var s=f({},a.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});s.generateId=s.serverGenerateClassName||s.generateClassName;var c=i.sheetsRegistry;if(0===u.refs){var l;i.sheetsCache&&(l=Ct.get(i.sheetsCache,a,r));var h=a.create(r,o);l||((l=i.jss.createStyleSheet(h,f({link:!1},s))).attach(),i.sheetsCache&&Ct.set(i.sheetsCache,a,r,l)),c&&c.add(l),u.staticSheet=l,u.dynamicStyles=It(h)}if(u.dynamicStyles){var d=i.jss.createStyleSheet(u.dynamicStyles,f({link:!0},s));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=_t({baseClasses:u.staticSheet.classes,newClasses:d.classes}),c&&c.add(d)}else n.classes=u.staticSheet.classes;u.refs+=1}}function Er(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function Sr(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Ct.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Ct.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function Ir(e,t){var n,r=i.useRef([]),a=i.useMemo((function(){return{}}),t);r.current!==a&&(r.current=a,n=e()),i.useEffect((function(){return function(){n&&n()}}),[a])}function _r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,r=t.classNamePrefix,a=t.Component,o=t.defaultTheme,u=void 0===o?kr:o,s=re(t,["name","classNamePrefix","Component","defaultTheme"]),c=br(e),l=n||r||"makeStyles";c.options={index:vr(),name:n,meta:l,classNamePrefix:l};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Rt()||u,r=f({},i.useContext(dr),s),o=i.useRef(),l=i.useRef();Ir((function(){var i={name:n,state:{},stylesCreator:c,stylesOptions:r,theme:t};return xr(i,e),l.current=!1,o.current=i,function(){Sr(i)}}),[t,c]),i.useEffect((function(){l.current&&Er(o.current,e),l.current=!0}));var h=wr(o.current,e.classes,a);return h};return h}function Tr(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}var Cr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=t.defaultTheme,a=t.withTheme,o=void 0!==a&&a,u=t.name,s=re(t,["defaultTheme","withTheme","name"]);var c=u,l=_r(e,f({defaultTheme:r,Component:n,name:u||n.displayName,classNamePrefix:c},s)),h=i.forwardRef((function(e,t){e.classes;var a,s=e.innerRef,c=re(e,["classes","innerRef"]),h=l(f({},n.defaultProps,e)),d=c;return("string"===typeof u||o)&&(a=Rt()||r,u&&(d=Tr({theme:a,name:u,props:c})),o&&!d.theme&&(d.theme=a)),i.createElement(n,f({ref:s||t,classes:h},d))}));return ue()(h,n),h}},Nr=["xs","sm","md","lg","xl"];function Rr(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=re(e,["values","unit","step"]);function s(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function c(e,t){var r=Nr.indexOf(t);return r===Nr.length-1?s(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[Nr[r+1]]?n[Nr[r+1]]:t)-o/100).concat(i,")")}return f({keys:Nr,values:n,up:s,down:function(e){var t=Nr.indexOf(e)+1,r=n[Nr[t]];return t===Nr.length?s("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-o/100).concat(i,")")},between:c,only:function(e){return c(e,e)},width:function(e){return n[e]}},u)}function Ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pr(e,t,n){var r;return f({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),f({paddingLeft:t(2),paddingRight:t(2)},n,Ar({},e.up("sm"),f({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},Ar(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Ar(r,e.up("sm"),{minHeight:64}),r)},n)}function Dr(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}var Or={black:"#000",white:"#fff"},Lr={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Mr={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Fr={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Vr={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ur={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},jr={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},zr={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Br(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function qr(e){if(e.type)return e;if("#"===e.charAt(0))return qr(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Dr(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function Wr(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function Kr(e){var t="hsl"===(e=qr(e)).type?qr(function(e){var t=(e=qr(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),Wr({type:u,values:s})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Gr(e,t){return e=qr(e),t=Br(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,Wr(e)}function Hr(e,t){if(e=qr(e),t=Br(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Wr(e)}function $r(e,t){if(e=qr(e),t=Br(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return Wr(e)}var Qr={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Or.white,default:Lr[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Yr={text:{primary:Or.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Lr[800],default:"#303030"},action:{active:Or.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Jr(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=$r(e.main,i):"dark"===t&&(e.dark=Hr(e.main,a)))}function Xr(e){var t=e.primary,n=void 0===t?{light:Mr[300],main:Mr[500],dark:Mr[700]}:t,r=e.secondary,i=void 0===r?{light:Fr.A200,main:Fr.A400,dark:Fr.A700}:r,a=e.error,o=void 0===a?{light:Vr[300],main:Vr[500],dark:Vr[700]}:a,u=e.warning,s=void 0===u?{light:Ur[300],main:Ur[500],dark:Ur[700]}:u,c=e.info,l=void 0===c?{light:jr[300],main:jr[500],dark:jr[700]}:c,h=e.success,d=void 0===h?{light:zr[300],main:zr[500],dark:zr[700]}:h,p=e.type,v=void 0===p?"light":p,m=e.contrastThreshold,y=void 0===m?3:m,g=e.tonalOffset,b=void 0===g?.2:g,k=re(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function w(e){var t=function(e,t){var n=Kr(e),r=Kr(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Yr.text.primary)>=y?Yr.text.primary:Qr.text.primary;return t}var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=f({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Dr(4,t));if("string"!==typeof e.main)throw new Error(Dr(5,JSON.stringify(e.main)));return Jr(e,"light",n,b),Jr(e,"dark",r,b),e.contrastText||(e.contrastText=w(e.main)),e},E={dark:Yr,light:Qr};return gr(f({common:Or,type:v,primary:x(n),secondary:x(i,"A400","A200","A700"),error:x(o),warning:x(s),info:x(l),success:x(d),grey:Lr,contrastThreshold:y,getContrastText:w,augmentColor:x,tonalOffset:b},E[v]),k)}function Zr(e){return Math.round(1e5*e)/1e5}function ei(e){return Zr(e)}var ti={textTransform:"uppercase"},ni='"Roboto", "Helvetica", "Arial", sans-serif';function ri(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?ni:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,l=void 0===c?400:c,h=n.fontWeightMedium,d=void 0===h?500:h,p=n.fontWeightBold,v=void 0===p?700:p,m=n.htmlFontSize,y=void 0===m?16:m,g=n.allVariants,b=n.pxToRem,k=re(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var w=o/14,x=b||function(e){return"".concat(e/y*w,"rem")},E=function(e,t,n,r,a){return f({fontFamily:i,fontWeight:e,fontSize:x(t),lineHeight:n},i===ni?{letterSpacing:"".concat(Zr(r/t),"em")}:{},a,g)},S={h1:E(s,96,1.167,-1.5),h2:E(s,60,1.2,-.5),h3:E(l,48,1.167,0),h4:E(l,34,1.235,.25),h5:E(l,24,1.334,0),h6:E(d,20,1.6,.15),subtitle1:E(l,16,1.75,.15),subtitle2:E(d,14,1.57,.1),body1:E(l,16,1.5,.15),body2:E(l,14,1.43,.15),button:E(d,14,1.75,.4,ti),caption:E(l,12,1.66,.4),overline:E(l,12,2.66,1,ti)};return gr(f({htmlFontSize:y,pxToRem:x,round:ei,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:l,fontWeightMedium:d,fontWeightBold:v},S),k,{clone:!1})}function ii(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var ai=["none",ii(0,2,1,-1,0,1,1,0,0,1,3,0),ii(0,3,1,-2,0,2,2,0,0,1,5,0),ii(0,3,3,-2,0,3,4,0,0,1,8,0),ii(0,2,4,-1,0,4,5,0,0,1,10,0),ii(0,3,5,-1,0,5,8,0,0,1,14,0),ii(0,3,5,-1,0,6,10,0,0,1,18,0),ii(0,4,5,-2,0,7,10,1,0,2,16,1),ii(0,5,5,-3,0,8,10,1,0,3,14,2),ii(0,5,6,-3,0,9,12,1,0,3,16,2),ii(0,6,6,-3,0,10,14,1,0,4,18,3),ii(0,6,7,-4,0,11,15,1,0,4,20,3),ii(0,7,8,-4,0,12,17,2,0,5,22,4),ii(0,7,8,-4,0,13,19,2,0,5,24,4),ii(0,7,9,-4,0,14,21,2,0,5,26,4),ii(0,8,9,-5,0,15,22,2,0,6,28,5),ii(0,8,10,-5,0,16,24,2,0,6,30,5),ii(0,8,11,-5,0,17,26,2,0,6,32,5),ii(0,9,11,-5,0,18,28,2,0,7,34,6),ii(0,9,12,-6,0,19,29,2,0,7,36,6),ii(0,10,13,-6,0,20,31,3,0,8,38,7),ii(0,10,13,-6,0,21,33,3,0,8,40,7),ii(0,10,14,-6,0,22,35,3,0,8,42,7),ii(0,11,14,-7,0,23,36,3,0,9,44,8),ii(0,11,15,-7,0,24,38,3,0,9,46,8)],oi={borderRadius:4},ui={xs:0,sm:600,md:960,lg:1280,xl:1920},si={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(ui[e],"px)")}};function ci(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||si;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===mr(t)){var i=e.theme.breakpoints||si;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}var li=function(e,t){return t?gr(e,t,{clone:!1}):e};var fi={m:"margin",p:"padding"},hi={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},di={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},pi=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!di[e])return[e];e=di[e]}var t=l(e.split(""),2),n=t[0],r=t[1],i=fi[n],a=hi[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),vi=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function mi(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function yi(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function gi(e){var t=mi(e.theme);return Object.keys(e).map((function(n){if(-1===vi.indexOf(n))return null;var r=yi(pi(n),t),i=e[n];return ci(e,i,r)})).reduce(li,{})}gi.propTypes={},gi.filterProps=vi;var bi=gi;function ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=mi({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var wi={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},xi={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Ei(e){return"".concat(Math.round(e),"ms")}var Si={easing:wi,duration:xi,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?xi.standard:n,i=t.easing,a=void 0===i?wi.easeInOut:i,o=t.delay,u=void 0===o?0:o;re(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:Ei(r)," ").concat(a," ").concat("string"===typeof u?u:Ei(u))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},Ii={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function _i(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,i=void 0===r?{}:r,a=e.palette,o=void 0===a?{}:a,u=e.spacing,s=e.typography,c=void 0===s?{}:s,l=re(e,["breakpoints","mixins","palette","spacing","typography"]),f=Xr(o),h=Rr(n),d=ki(u),p=gr({breakpoints:h,direction:"ltr",mixins:Pr(h,d,i),overrides:{},palette:f,props:{},shadows:ai,typography:ri(f,c),spacing:d,shape:oi,transitions:Si,zIndex:Ii},l),v=arguments.length,m=new Array(v>1?v-1:0),y=1;y<v;y++)m[y-1]=arguments[y];return p=m.reduce((function(e,t){return gr(e,t)}),p)}var Ti=_i();var Ci=function(e,t){return Cr(e,f({defaultTheme:Ti},t))};function Ni(e){if("string"!==typeof e)throw new Error(Dr(7));return e.charAt(0).toUpperCase()+e.slice(1)}var Ri=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.component,o=void 0===a?"div":a,u=e.square,s=void 0!==u&&u,c=e.elevation,l=void 0===c?1:c,h=e.variant,d=void 0===h?"elevation":h,p=re(e,["classes","className","component","square","elevation","variant"]);return i.createElement(o,f({className:ae(n.root,r,"outlined"===d?n.outlined:n["elevation".concat(l)],!s&&n.rounded),ref:t},p))})),Ai=Ci((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),f({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(Ri),Pi=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.color,o=void 0===a?"primary":a,u=e.position,s=void 0===u?"fixed":u,c=re(e,["classes","className","color","position"]);return i.createElement(Ai,f({square:!0,component:"header",elevation:4,className:ae(n.root,n["position".concat(Ni(s))],n["color".concat(Ni(o))],r,"fixed"===s&&"mui-fixed"),ref:t},c))})),Di=Ci((function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}}),{name:"MuiAppBar"})(Pi),Oi=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.component,o=void 0===a?"div":a,u=e.disableGutters,s=void 0!==u&&u,c=e.variant,l=void 0===c?"regular":c,h=re(e,["classes","className","component","disableGutters","variant"]);return i.createElement(o,f({className:ae(n.root,n[l],r,!s&&n.gutters),ref:t},h))})),Li=Ci((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Ar({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(Oi),Mi=[0,1,2,3,4,5,6,7,8,9,10],Fi=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function Vi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var Ui=i.forwardRef((function(e,t){var n=e.alignContent,r=void 0===n?"stretch":n,a=e.alignItems,o=void 0===a?"stretch":a,u=e.classes,s=e.className,c=e.component,l=void 0===c?"div":c,h=e.container,d=void 0!==h&&h,p=e.direction,v=void 0===p?"row":p,m=e.item,y=void 0!==m&&m,g=e.justify,b=e.justifyContent,k=void 0===b?"flex-start":b,w=e.lg,x=void 0!==w&&w,E=e.md,S=void 0!==E&&E,I=e.sm,_=void 0!==I&&I,T=e.spacing,C=void 0===T?0:T,N=e.wrap,R=void 0===N?"wrap":N,A=e.xl,P=void 0!==A&&A,D=e.xs,O=void 0!==D&&D,L=e.zeroMinWidth,M=void 0!==L&&L,F=re(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),V=ae(u.root,s,d&&[u.container,0!==C&&u["spacing-xs-".concat(String(C))]],y&&u.item,M&&u.zeroMinWidth,"row"!==v&&u["direction-xs-".concat(String(v))],"wrap"!==R&&u["wrap-xs-".concat(String(R))],"stretch"!==o&&u["align-items-xs-".concat(String(o))],"stretch"!==r&&u["align-content-xs-".concat(String(r))],"flex-start"!==(g||k)&&u["justify-content-xs-".concat(String(g||k))],!1!==O&&u["grid-xs-".concat(String(O))],!1!==_&&u["grid-sm-".concat(String(_))],!1!==S&&u["grid-md-".concat(String(S))],!1!==x&&u["grid-lg-".concat(String(x))],!1!==P&&u["grid-xl-".concat(String(P))]);return i.createElement(l,f({className:V,ref:t},F))})),ji=Ci((function(e){return f({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return Mi.forEach((function(r){var i=e.spacing(r);0!==i&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(Vi(i,2)),width:"calc(100% + ".concat(Vi(i),")"),"& > $item":{padding:Vi(i,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var r={};Fi.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?f(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t}),{}))}),{name:"MuiGrid"})(Ui),zi=ji;function Bi(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function qi(e,t){return i.useMemo((function(){return null==e&&null==t?null:function(n){Bi(e,n),Bi(t,n)}}),[e,t])}var Wi="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;function Ki(e){var t=i.useRef(e);return Wi((function(){t.current=e})),i.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}var Gi=!0,Hi=!1,$i=null,Qi={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Yi(e){e.metaKey||e.altKey||e.ctrlKey||(Gi=!0)}function Ji(){Gi=!1}function Xi(){"hidden"===this.visibilityState&&Hi&&(Gi=!0)}function Zi(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Gi||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Qi[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function ea(){Hi=!0,window.clearTimeout($i),$i=window.setTimeout((function(){Hi=!1}),100)}function ta(){return{isFocusVisible:Zi,onBlurVisible:ea,ref:i.useCallback((function(e){var t,n=a.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",Yi,!0),t.addEventListener("mousedown",Ji,!0),t.addEventListener("pointerdown",Ji,!0),t.addEventListener("touchstart",Ji,!0),t.addEventListener("visibilitychange",Xi,!0))}),[])}}var na=i.createContext(null);function ra(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function ia(e,t,n){return null!=n[t]?n[t]:e.props[t]}function aa(e,t,n){var r=ra(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(t,r);return Object.keys(a).forEach((function(o){var u=a[o];if((0,i.isValidElement)(u)){var s=o in t,c=o in r,l=t[o],f=(0,i.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,i.isValidElement)(l)&&(a[o]=(0,i.cloneElement)(u,{onExited:n.bind(null,u),in:l.props.in,exit:ia(u,"exit",e),enter:ia(u,"enter",e)})):a[o]=(0,i.cloneElement)(u,{in:!1}):a[o]=(0,i.cloneElement)(u,{onExited:n.bind(null,u),in:!0,exit:ia(u,"exit",e),enter:ia(u,"enter",e)})}})),a}var oa=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},ua=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(pe(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}de(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,a=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,ra(n.children,(function(e){return(0,i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:ia(e,"appear",n),enter:ia(e,"enter",n),exit:ia(e,"exit",n)})}))):aa(e,a,o),firstRender:!1}},n.handleExited=function(e,t){var n=ra(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=f({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=ne(e,["component","childFactory"]),a=this.state.contextValue,o=oa(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.createElement(na.Provider,{value:a},o):i.createElement(na.Provider,{value:a},i.createElement(t,r,o))},t}(i.Component);ua.propTypes={},ua.defaultProps={component:"div",childFactory:function(e){return e}};var sa=ua,ca="undefined"===typeof window?i.useEffect:i.useLayoutEffect;var la=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,a=e.rippleX,o=e.rippleY,u=e.rippleSize,s=e.in,c=e.onExited,l=void 0===c?function(){}:c,f=e.timeout,h=i.useState(!1),d=h[0],p=h[1],v=ae(t.ripple,t.rippleVisible,r&&t.ripplePulsate),m={width:u,height:u,top:-u/2+o,left:-u/2+a},y=ae(t.child,d&&t.childLeaving,r&&t.childPulsate),g=Ki(l);return ca((function(){if(!s){p(!0);var e=setTimeout(g,f);return function(){clearTimeout(e)}}}),[g,s,f]),i.createElement("span",{className:v,style:m},i.createElement("span",{className:y}))},fa=i.forwardRef((function(e,t){var n=e.center,r=void 0!==n&&n,a=e.classes,o=e.className,u=re(e,["center","classes","className"]),s=i.useState([]),c=s[0],l=s[1],h=i.useRef(0),d=i.useRef(null);i.useEffect((function(){d.current&&(d.current(),d.current=null)}),[c]);var p=i.useRef(!1),v=i.useRef(null),m=i.useRef(null),y=i.useRef(null);i.useEffect((function(){return function(){clearTimeout(v.current)}}),[]);var g=i.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,o=e.rippleSize,u=e.cb;l((function(e){return[].concat(ln(e),[i.createElement(la,{key:h.current,classes:a,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:o})])})),h.current+=1,d.current=u}),[a]),b=i.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=t.pulsate,a=void 0!==i&&i,o=t.center,u=void 0===o?r||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&p.current)p.current=!1;else{"touchstart"===e.type&&(p.current=!0);var l,f,h,d=c?null:y.current,b=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(b.width/2),f=Math.round(b.height/2);else{var k=e.touches?e.touches[0]:e,w=k.clientX,x=k.clientY;l=Math.round(w-b.left),f=Math.round(x-b.top)}if(u)(h=Math.sqrt((2*Math.pow(b.width,2)+Math.pow(b.height,2))/3))%2===0&&(h+=1);else{var E=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,S=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(E,2)+Math.pow(S,2))}e.touches?null===m.current&&(m.current=function(){g({pulsate:a,rippleX:l,rippleY:f,rippleSize:h,cb:n})},v.current=setTimeout((function(){m.current&&(m.current(),m.current=null)}),80)):g({pulsate:a,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[r,g]),k=i.useCallback((function(){b({},{pulsate:!0})}),[b]),w=i.useCallback((function(e,t){if(clearTimeout(v.current),"touchend"===e.type&&m.current)return e.persist(),m.current(),m.current=null,void(v.current=setTimeout((function(){w(e,t)})));m.current=null,l((function(e){return e.length>0?e.slice(1):e})),d.current=t}),[]);return i.useImperativeHandle(t,(function(){return{pulsate:k,start:b,stop:w}}),[k,b,w]),i.createElement("span",f({className:ae(a.root,o),ref:y},u),i.createElement(sa,{component:null,exit:!0},c))})),ha=Ci((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(i.memo(fa)),da=i.forwardRef((function(e,t){var n=e.action,r=e.buttonRef,o=e.centerRipple,u=void 0!==o&&o,s=e.children,c=e.classes,l=e.className,h=e.component,d=void 0===h?"button":h,p=e.disabled,v=void 0!==p&&p,m=e.disableRipple,y=void 0!==m&&m,g=e.disableTouchRipple,b=void 0!==g&&g,k=e.focusRipple,w=void 0!==k&&k,x=e.focusVisibleClassName,E=e.onBlur,S=e.onClick,I=e.onFocus,_=e.onFocusVisible,T=e.onKeyDown,C=e.onKeyUp,N=e.onMouseDown,R=e.onMouseLeave,A=e.onMouseUp,P=e.onTouchEnd,D=e.onTouchMove,O=e.onTouchStart,L=e.onDragLeave,M=e.tabIndex,F=void 0===M?0:M,V=e.TouchRippleProps,U=e.type,j=void 0===U?"button":U,z=re(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),B=i.useRef(null);var q=i.useRef(null),W=i.useState(!1),K=W[0],G=W[1];v&&K&&G(!1);var H=ta(),$=H.isFocusVisible,Q=H.onBlurVisible,Y=H.ref;function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;return Ki((function(r){return t&&t(r),!n&&q.current&&q.current[e](r),!0}))}i.useImperativeHandle(n,(function(){return{focusVisible:function(){G(!0),B.current.focus()}}}),[]),i.useEffect((function(){K&&w&&!y&&q.current.pulsate()}),[y,w,K]);var X=J("start",N),Z=J("stop",L),ee=J("stop",A),te=J("stop",(function(e){K&&e.preventDefault(),R&&R(e)})),ne=J("start",O),ie=J("stop",P),oe=J("stop",D),ue=J("stop",(function(e){K&&(Q(e),G(!1)),E&&E(e)}),!1),se=Ki((function(e){B.current||(B.current=e.currentTarget),$(e)&&(G(!0),_&&_(e)),I&&I(e)})),ce=function(){var e=a.findDOMNode(B.current);return d&&"button"!==d&&!("A"===e.tagName&&e.href)},le=i.useRef(!1),fe=Ki((function(e){w&&!le.current&&K&&q.current&&" "===e.key&&(le.current=!0,e.persist(),q.current.stop(e,(function(){q.current.start(e)}))),e.target===e.currentTarget&&ce()&&" "===e.key&&e.preventDefault(),T&&T(e),e.target===e.currentTarget&&ce()&&"Enter"===e.key&&!v&&(e.preventDefault(),S&&S(e))})),he=Ki((function(e){w&&" "===e.key&&q.current&&K&&!e.defaultPrevented&&(le.current=!1,e.persist(),q.current.stop(e,(function(){q.current.pulsate(e)}))),C&&C(e),S&&e.target===e.currentTarget&&ce()&&" "===e.key&&!e.defaultPrevented&&S(e)})),de=d;"button"===de&&z.href&&(de="a");var pe={};"button"===de?(pe.type=j,pe.disabled=v):("a"===de&&z.href||(pe.role="button"),pe["aria-disabled"]=v);var ve=qi(r,t),me=qi(Y,B),ye=qi(ve,me),ge=i.useState(!1),be=ge[0],ke=ge[1];i.useEffect((function(){ke(!0)}),[]);var we=be&&!y&&!v;return i.createElement(de,f({className:ae(c.root,l,K&&[c.focusVisible,x],v&&c.disabled),onBlur:ue,onClick:S,onFocus:se,onKeyDown:fe,onKeyUp:he,onMouseDown:X,onMouseLeave:te,onMouseUp:ee,onDragLeave:Z,onTouchEnd:ie,onTouchMove:oe,onTouchStart:ne,ref:ye,tabIndex:v?-1:F},pe,z),s,we?i.createElement(ha,f({ref:q,center:u},V)):null)})),pa=Ci({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(da),va=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,o=e.color,u=void 0===o?"default":o,s=e.component,c=void 0===s?"button":s,l=e.disabled,h=void 0!==l&&l,d=e.disableElevation,p=void 0!==d&&d,v=e.disableFocusRipple,m=void 0!==v&&v,y=e.endIcon,g=e.focusVisibleClassName,b=e.fullWidth,k=void 0!==b&&b,w=e.size,x=void 0===w?"medium":w,E=e.startIcon,S=e.type,I=void 0===S?"button":S,_=e.variant,T=void 0===_?"text":_,C=re(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),N=E&&i.createElement("span",{className:ae(r.startIcon,r["iconSize".concat(Ni(x))])},E),R=y&&i.createElement("span",{className:ae(r.endIcon,r["iconSize".concat(Ni(x))])},y);return i.createElement(pa,f({className:ae(r.root,r[T],a,"inherit"===u?r.colorInherit:"default"!==u&&r["".concat(T).concat(Ni(u))],"medium"!==x&&[r["".concat(T,"Size").concat(Ni(x))],r["size".concat(Ni(x))]],p&&r.disableElevation,h&&r.disabled,k&&r.fullWidth),component:c,disabled:h,focusRipple:!m,focusVisibleClassName:ae(r.focusVisible,g),ref:t,type:I},C),i.createElement("span",{className:r.label},N,n,R))})),ma=Ci((function(e){return{root:f({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Gr(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Gr(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Gr(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Gr(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Gr(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Gr(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Gr(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(va),ya="/login",ga="/chat";function ba(e){return ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ba(e)}function ka(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ba(e)););return e}function wa(){return wa="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ka(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},wa.apply(this,arguments)}function xa(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&he(e,t)}function Ea(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Sa(e,t){if(t&&("object"===mr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pe(e)}function Ia(e){var t=Ea();return function(){var n,r=ba(e);if(t){var i=ba(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Sa(this,n)}}function _a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Ta(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Ca(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ta(a,r,i,o,u,"next",e)}function u(e){Ta(a,r,i,o,u,"throw",e)}o(void 0)}))}}function Na(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ra=n(757),Aa=n.n(Ra);function Pa(e,t,n){return Pa=Ea()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&he(i,n.prototype),i},Pa.apply(null,arguments)}function Da(e){var t="function"===typeof Map?new Map:void 0;return Da=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Pa(e,arguments,ba(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),he(n,e)},Da(e)}var Oa=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},La={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Oa(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ma=function(e){return function(e){var t=Oa(e);return La.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Fa=function(e){try{return La.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Va(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Ua(n)&&(e[n]=Va(e[n],t[n]));return e}function Ua(e){return"__proto__"!==e}var ja=function(){function e(){var t=this;Na(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return fe(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function za(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ma(JSON.stringify({alg:"none",type:"JWT"})),Ma(JSON.stringify(a)),""].join(".")}function Ba(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function qa(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ba())}function Wa(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Ka(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ga(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ha(){var e=Ba();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function $a(){return"object"===typeof indexedDB}var Qa=function(e){xa(n,e);var t=Ia(n);function n(e,r,i){var a;return Na(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(pe(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(pe(a),Ya.prototype.create),a}return fe(n)}(Da(Error)),Ya=function(){function e(t,n,r){Na(this,e),this.service=t,this.serviceName=n,this.errors=r}return fe(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ja(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Qa(n,a,t);return o}}]),e}();function Ja(e,t){return e.replace(Xa,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Xa=/\{\$([^}]+)}/g;function Za(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function eo(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(to(u)&&to(s)){if(!eo(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function to(e){return null!==e&&"object"===typeof e}function no(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ro(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function io(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ao(e,t){var n=new oo(e,t);return n.subscribe.bind(n)}var oo=function(){function e(t,n){var r=this;Na(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return fe(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=_a(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=uo),void 0===r.error&&(r.error=uo),void 0===r.complete&&(r.complete=uo);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function uo(){}function so(e){return e&&e._delegate?e._delegate:e}function co(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var lo=function(){function e(t){Na(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return fe(e,[{key:"transaction",value:function(e,t){return new fo(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new ho(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),fo=function(){function e(t){var n=this;Na(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return fe(e,[{key:"objectStore",value:function(e){return new ho(this._transaction.objectStore(e))}}]),e}(),ho=function(){function e(t){Na(this,e),this._store=t}return fe(e,[{key:"index",value:function(e){return new po(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new po(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return co(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return co(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return co(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return co(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),po=function(){function e(t){Na(this,e),this._index=t}return fe(e,[{key:"get",value:function(e){return co(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var vo=function(){function e(t,n,r){Na(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return fe(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),mo="[DEFAULT]",yo=function(){function e(t,n){Na(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return fe(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ja;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch(s){}var t,n=_a(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mo;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ca(Ra.mark((function e(){var t;return Ra.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ln(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ln(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mo;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mo;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=_a(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=l(i.value,2),s=u[0],c=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=_a(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(AN){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===mo?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(AN){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mo;return this.component?this.component.multipleInstances?e:mo:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var go,bo,ko=function(){function e(t){Na(this,e),this.name=t,this.providers=new Map}return fe(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new yo(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),wo=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(bo||(bo={}));var xo,Eo,So={debug:bo.DEBUG,verbose:bo.VERBOSE,info:bo.INFO,warn:bo.WARN,error:bo.ERROR,silent:bo.SILENT},Io=bo.INFO,_o=(Ar(go={},bo.DEBUG,"log"),Ar(go,bo.VERBOSE,"log"),Ar(go,bo.INFO,"info"),Ar(go,bo.WARN,"warn"),Ar(go,bo.ERROR,"error"),go),To=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=_o[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Co=function(){function e(t){Na(this,e),this.name=t,this._logLevel=Io,this._logHandler=To,this._userLogHandler=null,wo.push(this)}return fe(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in bo))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?So[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bo.DEBUG].concat(t)),this._logHandler.apply(this,[this,bo.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bo.VERBOSE].concat(t)),this._logHandler.apply(this,[this,bo.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bo.INFO].concat(t)),this._logHandler.apply(this,[this,bo.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bo.WARN].concat(t)),this._logHandler.apply(this,[this,bo.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bo.ERROR].concat(t)),this._logHandler.apply(this,[this,bo.ERROR].concat(t))}}]),e}();var No=function(){function e(t){Na(this,e),this.container=t}return fe(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ro="@firebase/app",Ao="0.7.20",Po=new Co("@firebase/app"),Do="[DEFAULT]",Oo=(Ar(xo={},Ro,"fire-core"),Ar(xo,"@firebase/app-compat","fire-core-compat"),Ar(xo,"@firebase/analytics","fire-analytics"),Ar(xo,"@firebase/analytics-compat","fire-analytics-compat"),Ar(xo,"@firebase/app-check","fire-app-check"),Ar(xo,"@firebase/app-check-compat","fire-app-check-compat"),Ar(xo,"@firebase/auth","fire-auth"),Ar(xo,"@firebase/auth-compat","fire-auth-compat"),Ar(xo,"@firebase/database","fire-rtdb"),Ar(xo,"@firebase/database-compat","fire-rtdb-compat"),Ar(xo,"@firebase/functions","fire-fn"),Ar(xo,"@firebase/functions-compat","fire-fn-compat"),Ar(xo,"@firebase/installations","fire-iid"),Ar(xo,"@firebase/installations-compat","fire-iid-compat"),Ar(xo,"@firebase/messaging","fire-fcm"),Ar(xo,"@firebase/messaging-compat","fire-fcm-compat"),Ar(xo,"@firebase/performance","fire-perf"),Ar(xo,"@firebase/performance-compat","fire-perf-compat"),Ar(xo,"@firebase/remote-config","fire-rc"),Ar(xo,"@firebase/remote-config-compat","fire-rc-compat"),Ar(xo,"@firebase/storage","fire-gcs"),Ar(xo,"@firebase/storage-compat","fire-gcs-compat"),Ar(xo,"@firebase/firestore","fire-fst"),Ar(xo,"@firebase/firestore-compat","fire-fst-compat"),Ar(xo,"fire-js","fire-js"),Ar(xo,"firebase","fire-js-all"),xo),Lo=new Map,Mo=new Map;function Fo(e,t){try{e.container.addComponent(t)}catch(n){Po.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Vo(e,t){e.container.addOrOverwriteComponent(t)}function Uo(e){var t=e.name;if(Mo.has(t))return Po.debug("There were multiple attempts to register component ".concat(t,".")),!1;Mo.set(t,e);var n,r=_a(Lo.values());try{for(r.s();!(n=r.n()).done;){Fo(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function jo(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function zo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Do;jo(e,t).clearInstance(n)}function Bo(){Mo.clear()}var qo=(Ar(Eo={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ar(Eo,"bad-app-name","Illegal App name: '{$appName}"),Ar(Eo,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ar(Eo,"app-deleted","Firebase App named '{$appName}' already deleted"),Ar(Eo,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ar(Eo,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ar(Eo,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Ar(Eo,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Ar(Eo,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Ar(Eo,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Eo),Wo=new Ya("app","Firebase",qo),Ko=function(){function e(t,n,r){var i=this;Na(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vo("app",(function(){return i}),"PUBLIC"))}return fe(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Wo.create("app-deleted",{appName:this._name})}}]),e}(),Go="9.6.10";function Ho(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Do,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Wo.create("bad-app-name",{appName:String(i)});var a=Lo.get(i);if(a){if(eo(e,a.options)&&eo(r,a.config))return a;throw Wo.create("duplicate-app",{appName:i})}var o,u=new ko(i),s=_a(Mo.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Ko(e,r,u);return Lo.set(i,l),l}function $o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do,t=Lo.get(e);if(!t)throw Wo.create("no-app",{appName:e});return t}function Qo(){return Array.from(Lo.values())}function Yo(e){return Jo.apply(this,arguments)}function Jo(){return(Jo=Ca(Ra.mark((function e(t){var n;return Ra.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Lo.has(n)){e.next=6;break}return Lo.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xo(e,t,n){var r,i=null!==(r=Oo[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Po.warn(u.join(" "))}Uo(new vo("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Zo(e,t){if(null!==e&&"function"!==typeof e)throw Wo.create("invalid-log-argument");!function(e,t){var n,r=_a(wo);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=So[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:bo[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function eu(e){var t;t=e,wo.forEach((function(e){e.setLogLevel(t)}))}var tu="firebase-heartbeat-store",nu=null;function ru(){var e,t,n;return nu||(nu=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(tu)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new lo(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new lo(a.result),e.oldVersion,e.newVersion,new fo(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw Wo.create("storage-open",{originalErrorMessage:e.message})}))),nu}function iu(e){return au.apply(this,arguments)}function au(){return au=Ca(Ra.mark((function e(t){var n;return Ra.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ru();case 3:return n=e.sent,e.abrupt("return",n.transaction(tu).objectStore(tu).get(su(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Wo.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),au.apply(this,arguments)}function ou(e,t){return uu.apply(this,arguments)}function uu(){return uu=Ca(Ra.mark((function e(t,n){var r,i,a;return Ra.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ru();case 3:return r=e.sent,i=r.transaction(tu,"readwrite"),a=i.objectStore(tu),e.next=8,a.put(n,su(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),Wo.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),uu.apply(this,arguments)}function su(e){return"".concat(e.name,"!").concat(e.options.appId)}var cu=function(){function e(t){var n=this;Na(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new du(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return fe(e,[{key:"triggerHeartbeat",value:function(){var e=Ca(Ra.mark((function e(){var t,n,r;return Ra.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=lu(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ca(Ra.mark((function e(){var t,n,r,i,a;return Ra.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=lu(),n=fu(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ma(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function lu(){return(new Date).toISOString().substring(0,10)}function fu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=_a(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),pu(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),pu(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var hu,du=function(){function e(t){Na(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return fe(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ca(Ra.mark((function e(){return Ra.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($a()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ca(Ra.mark((function e(){var t;return Ra.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,iu(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ca(Ra.mark((function e(t){var n,r;return Ra.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ou(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ca(Ra.mark((function e(t){var n,r;return Ra.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ou(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(ln(r.heartbeats),ln(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function pu(e){return Ma(JSON.stringify({version:2,heartbeats:e})).length}hu="",Uo(new vo("platform-logger",(function(e){return new No(e)}),"PRIVATE")),Uo(new vo("heartbeat",(function(e){return new cu(e)}),"PRIVATE")),Xo(Ro,Ao,hu),Xo(Ro,Ao,"esm2017"),Xo("fire-js","");function vu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var mu;Object.create;var yu="facebook.com",gu="github.com",bu="google.com",ku="password",wu="twitter.com",xu="EMAIL_SIGNIN",Eu="PASSWORD_RESET",Su="RECOVER_EMAIL",Iu="REVERT_SECOND_FACTOR_ADDITION",_u="VERIFY_AND_CHANGE_EMAIL",Tu="VERIFY_EMAIL";function Cu(){return Ar({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Nu=function(){var e;return Ar(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Ar(e,"argument-error",""),Ar(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Ar(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Ar(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Ar(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Ar(e,"cordova-not-ready","Cordova framework is not ready."),Ar(e,"cors-unsupported","This browser is not supported."),Ar(e,"credential-already-in-use","This credential is already associated with a different user account."),Ar(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Ar(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Ar(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Ar(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Ar(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Ar(e,"email-already-in-use","The email address is already in use by another account."),Ar(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Ar(e,"expired-action-code","The action code has expired."),Ar(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Ar(e,"internal-error","An internal AuthError has occurred."),Ar(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Ar(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Ar(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Ar(e,"invalid-auth-event","An internal AuthError has occurred."),Ar(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Ar(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Ar(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Ar(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Ar(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Ar(e,"invalid-email","The email address is badly formatted."),Ar(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Ar(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Ar(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Ar(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Ar(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Ar(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Ar(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Ar(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Ar(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Ar(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Ar(e,"wrong-password","The password is invalid or the user does not have a password."),Ar(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Ar(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Ar(e,"invalid-provider-id","The specified provider ID is invalid."),Ar(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Ar(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Ar(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Ar(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Ar(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Ar(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Ar(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Ar(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Ar(e,"missing-continue-uri","A continue URL must be provided in the request."),Ar(e,"missing-iframe-start","An internal AuthError has occurred."),Ar(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Ar(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Ar(e,"missing-multi-factor-info","No second factor identifier is provided."),Ar(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Ar(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Ar(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Ar(e,"app-deleted","This instance of FirebaseApp has been deleted."),Ar(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Ar(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Ar(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Ar(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Ar(e,"no-auth-event","An internal AuthError has occurred."),Ar(e,"no-such-provider","User was not linked to an account with the given provider."),Ar(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Ar(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Ar(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Ar(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Ar(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Ar(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Ar(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Ar(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Ar(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Ar(e,"rejected-credential","The request contains malformed or mismatching credentials."),Ar(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Ar(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Ar(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Ar(e,"timeout","The operation has timed out."),Ar(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Ar(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Ar(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Ar(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Ar(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Ar(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Ar(e,"unverified-email","The operation requires a verified email."),Ar(e,"user-cancelled","The user did not grant your application the permissions it requested."),Ar(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Ar(e,"user-disabled","The user account has been disabled by an administrator."),Ar(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Ar(e,"user-signed-out",""),Ar(e,"weak-password","The password must be 6 characters long or more."),Ar(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Ar(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Ru=Cu,Au=new Ya("auth","Firebase",Cu()),Pu=new Co("@firebase/auth");function Du(e){if(Pu.logLevel<=bo.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Pu.error.apply(Pu,["Auth (".concat(Go,"): ").concat(e)].concat(n))}}function Ou(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Vu.apply(void 0,[e].concat(n))}function Lu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Vu.apply(void 0,[e].concat(n))}function Mu(e,t,n){var r=Object.assign(Object.assign({},Ru()),Ar({},t,n));return new Ya("auth","Firebase",r).create(t,{appName:e.name})}function Fu(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ou(e,"argument-error"),Mu(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Vu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=ln(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(ln(o)))}return Au.create.apply(Au,[e].concat(n))}function Uu(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Vu.apply(void 0,[t].concat(r))}}function ju(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Du(t),new Error(t)}function zu(e,t){e||ju(t)}var Bu=new Map;function qu(e){zu(e instanceof Function,"Expected a class definition");var t=Bu.get(e);return t?(zu(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Bu.set(e,t),t)}function Wu(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ku(){return"http:"===Gu()||"https:"===Gu()}function Gu(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Hu=function(){function e(t,n){Na(this,e),this.shortDelay=t,this.longDelay=n,zu(n>t,"Short delay should be less than long delay!"),this.isMobile=qa()||Ga()}return fe(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ku()||Ka()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function $u(e,t){zu(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Qu=function(){function e(){Na(this,e)}return fe(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ju("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ju("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ju("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Yu=(Ar(mu={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ar(mu,"MISSING_CUSTOM_TOKEN","internal-error"),Ar(mu,"INVALID_IDENTIFIER","invalid-email"),Ar(mu,"MISSING_CONTINUE_URI","internal-error"),Ar(mu,"INVALID_PASSWORD","wrong-password"),Ar(mu,"MISSING_PASSWORD","internal-error"),Ar(mu,"EMAIL_EXISTS","email-already-in-use"),Ar(mu,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ar(mu,"INVALID_IDP_RESPONSE","invalid-credential"),Ar(mu,"INVALID_PENDING_TOKEN","invalid-credential"),Ar(mu,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ar(mu,"MISSING_REQ_TYPE","internal-error"),Ar(mu,"EMAIL_NOT_FOUND","user-not-found"),Ar(mu,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ar(mu,"EXPIRED_OOB_CODE","expired-action-code"),Ar(mu,"INVALID_OOB_CODE","invalid-action-code"),Ar(mu,"MISSING_OOB_CODE","internal-error"),Ar(mu,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ar(mu,"INVALID_ID_TOKEN","invalid-user-token"),Ar(mu,"TOKEN_EXPIRED","user-token-expired"),Ar(mu,"USER_NOT_FOUND","user-token-expired"),Ar(mu,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ar(mu,"INVALID_CODE","invalid-verification-code"),Ar(mu,"INVALID_SESSION_INFO","invalid-verification-id"),Ar(mu,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ar(mu,"MISSING_SESSION_INFO","missing-verification-id"),Ar(mu,"SESSION_EXPIRED","code-expired"),Ar(mu,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ar(mu,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ar(mu,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ar(mu,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ar(mu,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ar(mu,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ar(mu,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ar(mu,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ar(mu,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ar(mu,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ar(mu,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),mu),Ju=new Hu(3e4,6e4);function Xu(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Zu(e,t,n,r){return es.apply(this,arguments)}function es(){return es=Ca(Aa().mark((function e(t,n,r,i){var a,o=arguments;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ts(t,a,Ca(Aa().mark((function e(){var a,o,u,s;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=no(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Qu.fetch()(as(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),es.apply(this,arguments)}function ts(e,t,n){return ns.apply(this,arguments)}function ns(){return ns=Ca(Aa().mark((function e(t,n,r){var i,a,o,u,s,c,f,h,d,p;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Yu),n),e.prev=2,a=new os(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw us(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw us(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw us(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw Mu(t,p,d);case 30:Ou(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Qa)){e.next=37;break}throw e.t0;case 37:Ou(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),ns.apply(this,arguments)}function rs(e,t,n,r){return is.apply(this,arguments)}function is(){return is=Ca(Aa().mark((function e(t,n,r,i){var a,o,u=arguments;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Zu(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Ou(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),is.apply(this,arguments)}function as(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?$u(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var os=function(){function e(t){var n=this;Na(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Lu(n.auth,"network-request-failed"))}),Ju.get())}))}return fe(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function us(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Lu(e,t,r);return i.customData._tokenResponse=n,i}function ss(e,t){return cs.apply(this,arguments)}function cs(){return cs=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zu(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}function ls(e,t){return fs.apply(this,arguments)}function fs(){return fs=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zu(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),fs.apply(this,arguments)}function hs(e,t){return ds.apply(this,arguments)}function ds(){return ds=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zu(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ds.apply(this,arguments)}function ps(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function vs(){return vs=Ca(Aa().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=so(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Uu((a=ys(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ps(ms(a.auth_time)),issuedAtTime:ps(ms(a.iat)),expirationTime:ps(ms(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),vs.apply(this,arguments)}function ms(e){return 1e3*Number(e)}function ys(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Du("JWT malformed, contained fewer than 3 sections"),null;try{var a=Fa(r);return a?JSON.parse(a):(Du("Failed to decode base64 JWT payload"),null)}catch(o){return Du("Caught error parsing JWT payload as JSON",o),null}}function gs(e,t){return bs.apply(this,arguments)}function bs(){return bs=Ca(Aa().mark((function e(t,n){var r=arguments;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Qa&&ks(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),bs.apply(this,arguments)}function ks(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ws=function(){function e(t){Na(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return fe(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ca(Aa().mark((function t(){return Aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),xs=function(){function e(t,n){Na(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return fe(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ps(this.lastLoginAt),this.creationTime=ps(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Es(e){return Ss.apply(this,arguments)}function Ss(){return Ss=Ca(Aa().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,gs(t,hs(r,{idToken:i}));case 6:Uu(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Ts(o.providerUserInfo):[],s=_s(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new xs(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Ss.apply(this,arguments)}function Is(){return(Is=Ca(Aa().mark((function e(t){var n;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=so(t),e.next=3,Es(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _s(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(ln(n),ln(t))}function Ts(e){return e.map((function(e){var t=e.providerId,n=vu(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Cs(e,t){return Ns.apply(this,arguments)}function Ns(){return Ns=Ca(Aa().mark((function e(t,n){var r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ts(t,{},Ca(Aa().mark((function e(){var r,i,a,o,u,s;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=no({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=as(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Qu.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Ns.apply(this,arguments)}var Rs=function(){function e(){Na(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return fe(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Uu(e.idToken,"internal-error"),Uu("undefined"!==typeof e.idToken,"internal-error"),Uu("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ys(e);return Uu(t,"internal-error"),Uu("undefined"!==typeof t.exp,"internal-error"),Uu("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ca(Aa().mark((function e(t){var n,r=arguments;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Uu(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ca(Aa().mark((function e(t,n){var r,i,a,o;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cs(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ju("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Uu("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Uu("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Uu("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function As(e,t){Uu("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Ps=function(){function e(t){Na(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=vu(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ws(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?ln(a.providerData):[],this.metadata=new xs(a.createdAt||void 0,a.lastLoginAt||void 0)}return fe(e,[{key:"getIdToken",value:function(){var e=Ca(Aa().mark((function e(t){var n;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gs(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Uu(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return vs.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Is.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Uu(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Uu(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ca(Aa().mark((function e(t){var n,r,i=arguments;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Es(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ca(Aa().mark((function e(){var t;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,gs(this,ss(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;Uu(b&&E,t,"internal-error");var S=Rs.fromJSON(this.name,E);Uu("string"===typeof b,t,"internal-error"),As(f,t.name),As(h,t.name),Uu("boolean"===typeof k,t,"internal-error"),Uu("boolean"===typeof w,t,"internal-error"),As(d,t.name),As(p,t.name),As(v,t.name),As(m,t.name),As(y,t.name),As(g,t.name);var I=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Ca(Aa().mark((function t(n,r){var i,a,o,u=arguments;return Aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Rs).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Es(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ds=function(){function e(){Na(this,e),this.type="NONE",this.storage={}}return fe(e,[{key:"_isAvailable",value:function(){var e=Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ca(Aa().mark((function e(t){var n;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ds.type="NONE";var Os=Ds;function Ls(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ms=function(){function e(t,n,r){Na(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ls(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ls("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return fe(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ca(Aa().mark((function e(){var t;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Ps._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ca(Aa().mark((function e(t){var n;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ca(Aa().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(qu(Os),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||qu(Os),u=Ls(i,n.config.apiKey,n.name),s=null,c=_a(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Ps._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Fs(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(zs(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Vs(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(qs(t))return"Blackberry";if(Ws(t))return"Webos";if(Us(t))return"Safari";if((t.includes("chrome/")||js(t))&&!t.includes("edge/"))return"Chrome";if(Bs(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Vs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba();return/firefox\//i.test(e)}function Us(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function js(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba();return/crios\//i.test(e)}function zs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba();return/iemobile/i.test(e)}function Bs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba();return/android/i.test(e)}function qs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba();return/blackberry/i.test(e)}function Ws(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba();return/webos/i.test(e)}function Ks(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba();return/iphone|ipad|ipod/i.test(e)}function Gs(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba();return Ks(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Hs(){return Ha()&&10===document.documentMode}function $s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba();return Ks(e)||Bs(e)||Ws(e)||qs(e)||/windows phone/i.test(e)||zs(e)}function Qs(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Fs(Ba());break;case"Worker":t="".concat(Fs(Ba()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Go,"/").concat(r)}var Ys=function(){function e(t,n,r){Na(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xs(this),this.idTokenSubscription=new Xs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Au,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return fe(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=qu(t)),this._initializationPromise=this.queue(Ca(Aa().mark((function r(){var i,a;return Aa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ms.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ca(Aa().mark((function e(){var t;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ca(Aa().mark((function e(t){var n,r,i,a,o;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Uu(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ca(Aa().mark((function e(t){var n;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Es(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ca(Aa().mark((function e(t){var n;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?so(t):null)&&Uu(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ca(Aa().mark((function e(t){var n=this;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Uu(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ca(Aa().mark((function n(){return Aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(qu(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ya("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ca(Aa().mark((function e(t,n){var r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ca(Aa().mark((function e(t){var n;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Uu(n=t&&qu(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ms.create(this,[qu(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ca(Aa().mark((function e(t){var n,r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ca(Aa().mark((function e(t){var n=this;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Uu(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Uu(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qs(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ca(Aa().mark((function e(){var t,n,r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ar({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Js(e){return so(e)}var Xs=function(){function e(t){var n=this;Na(this,e),this.auth=t,this.observer=null,this.addObserver=ao((function(e){return n.observer=e}))}return fe(e,[{key:"next",get:function(){return Uu(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Zs(e,t,n){var r=Js(e);Uu(r._canInitEmulator,r,"emulator-config-failed"),Uu(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=ec(t),o=function(e){var t=ec(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:tc(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:tc(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ec(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function tc(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var nc=function(){function e(t,n){Na(this,e),this.providerId=t,this.signInMethod=n}return fe(e,[{key:"toJSON",value:function(){return ju("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ju("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ju("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ju("not implemented")}}]),e}();function rc(e,t){return ic.apply(this,arguments)}function ic(){return ic=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zu(t,"POST","/v1/accounts:resetPassword",Xu(t,n)));case 1:case"end":return e.stop()}}),e)}))),ic.apply(this,arguments)}function ac(e,t){return oc.apply(this,arguments)}function oc(){return oc=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zu(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),oc.apply(this,arguments)}function uc(e,t){return sc.apply(this,arguments)}function sc(){return sc=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zu(t,"POST","/v1/accounts:update",Xu(t,n)));case 1:case"end":return e.stop()}}),e)}))),sc.apply(this,arguments)}function cc(e,t){return lc.apply(this,arguments)}function lc(){return lc=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rs(t,"POST","/v1/accounts:signInWithPassword",Xu(t,n)));case 1:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}function fc(e,t){return hc.apply(this,arguments)}function hc(){return hc=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zu(t,"POST","/v1/accounts:sendOobCode",Xu(t,n)));case 1:case"end":return e.stop()}}),e)}))),hc.apply(this,arguments)}function dc(e,t){return pc.apply(this,arguments)}function pc(){return pc=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fc(t,n));case 1:case"end":return e.stop()}}),e)}))),pc.apply(this,arguments)}function vc(e,t){return mc.apply(this,arguments)}function mc(){return mc=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fc(t,n));case 1:case"end":return e.stop()}}),e)}))),mc.apply(this,arguments)}function yc(e,t){return gc.apply(this,arguments)}function gc(){return gc=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fc(t,n));case 1:case"end":return e.stop()}}),e)}))),gc.apply(this,arguments)}function bc(e,t){return kc.apply(this,arguments)}function kc(){return kc=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fc(t,n));case 1:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}function wc(e,t){return xc.apply(this,arguments)}function xc(){return xc=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rs(t,"POST","/v1/accounts:signInWithEmailLink",Xu(t,n)));case 1:case"end":return e.stop()}}),e)}))),xc.apply(this,arguments)}function Ec(e,t){return Sc.apply(this,arguments)}function Sc(){return Sc=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rs(t,"POST","/v1/accounts:signInWithEmailLink",Xu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}var Ic=function(e){xa(n,e);var t=Ia(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Na(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return fe(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",cc(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",wc(t,{email:this._email,oobCode:this._password}));case 5:Ou(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ac(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ec(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Ou(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(nc);function _c(e,t){return Tc.apply(this,arguments)}function Tc(){return Tc=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rs(t,"POST","/v1/accounts:signInWithIdp",Xu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Tc.apply(this,arguments)}var Cc=function(e){xa(n,e);var t=Ia(n);function n(){var e;return Na(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return fe(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return _c(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,_c(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,_c(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=no(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ou("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=vu(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(nc);function Nc(e,t){return Rc.apply(this,arguments)}function Rc(){return Rc=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zu(t,"POST","/v1/accounts:sendVerificationCode",Xu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rc.apply(this,arguments)}function Ac(){return Ac=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rs(t,"POST","/v1/accounts:signInWithPhoneNumber",Xu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ac.apply(this,arguments)}function Pc(){return Pc=Ca(Aa().mark((function e(t,n){var r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rs(t,"POST","/v1/accounts:signInWithPhoneNumber",Xu(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw us(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}var Dc=Ar({},"USER_NOT_FOUND","user-not-found");function Oc(){return Oc=Ca(Aa().mark((function e(t,n){var r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",rs(t,"POST","/v1/accounts:signInWithPhoneNumber",Xu(t,r),Dc));case 2:case"end":return e.stop()}}),e)}))),Oc.apply(this,arguments)}var Lc=function(e){xa(n,e);var t=Ia(n);function n(e){var r;return Na(this,n),(r=t.call(this,"phone","phone")).params=e,r}return fe(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ac.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Pc.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Oc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(nc);var Mc=function(){function e(t){var n,r,i,a,o,u;Na(this,e);var s=ro(io(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Uu(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return fe(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ro(io(e)).link,n=t?ro(io(t)).deep_link_id:null,r=ro(io(e)).deep_link_id;return(r?ro(io(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(AN){return null}}}]),e}();var Fc=function(){function e(){Na(this,e),this.providerId=e.PROVIDER_ID}return fe(e,null,[{key:"credential",value:function(e,t){return Ic._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Mc.parseLink(t);return Uu(n,"argument-error"),Ic._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Fc.PROVIDER_ID="password",Fc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Fc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Vc=function(){function e(t){Na(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return fe(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Uc=function(e){xa(n,e);var t=Ia(n);function n(){var e;return Na(this,n),(e=t.apply(this,arguments)).scopes=[],e}return fe(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return ln(this.scopes)}}]),n}(Vc),jc=function(e){xa(n,e);var t=Ia(n);function n(){return Na(this,n),t.apply(this,arguments)}return fe(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Uu(e.idToken||e.accessToken,"argument-error"),Cc._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Uu("providerId"in t&&"signInMethod"in t,"argument-error"),Cc._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Uc),zc=function(e){xa(n,e);var t=Ia(n);function n(){return Na(this,n),t.call(this,"facebook.com")}return fe(n,null,[{key:"credential",value:function(e){return Cc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(AN){return null}}}]),n}(Uc);zc.FACEBOOK_SIGN_IN_METHOD="facebook.com",zc.PROVIDER_ID="facebook.com";var Bc=function(e){xa(n,e);var t=Ia(n);function n(){var e;return Na(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return fe(n,null,[{key:"credential",value:function(e,t){return Cc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(AN){return null}}}]),n}(Uc);Bc.GOOGLE_SIGN_IN_METHOD="google.com",Bc.PROVIDER_ID="google.com";var qc=function(e){xa(n,e);var t=Ia(n);function n(){return Na(this,n),t.call(this,"github.com")}return fe(n,null,[{key:"credential",value:function(e){return Cc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(AN){return null}}}]),n}(Uc);qc.GITHUB_SIGN_IN_METHOD="github.com",qc.PROVIDER_ID="github.com";var Wc=function(e){xa(n,e);var t=Ia(n);function n(e,r){var i;return Na(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return fe(n,[{key:"_getIdTokenResponse",value:function(e){return _c(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,_c(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,_c(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(nc),Kc=function(e){xa(n,e);var t=Ia(n);function n(e){return Na(this,n),Uu(e.startsWith("saml."),"argument-error"),t.call(this,e)}return fe(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Wc.fromJSON(e);return Uu(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Wc._create(r,n)}catch(i){return null}}}]),n}(Vc),Gc=function(e){xa(n,e);var t=Ia(n);function n(){return Na(this,n),t.call(this,"twitter.com")}return fe(n,null,[{key:"credential",value:function(e,t){return Cc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(AN){return null}}}]),n}(Uc);function Hc(e,t){return $c.apply(this,arguments)}function $c(){return $c=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rs(t,"POST","/v1/accounts:signUp",Xu(t,n)));case 1:case"end":return e.stop()}}),e)}))),$c.apply(this,arguments)}Gc.TWITTER_SIGN_IN_METHOD="twitter.com",Gc.PROVIDER_ID="twitter.com";var Qc=function(){function e(t){Na(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return fe(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ca(Aa().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Ps._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Yc(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ca(Aa().mark((function t(n,r,i){var a;return Aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Yc(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Yc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Jc(){return Jc=Ca(Aa().mark((function e(t){var n,r,i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Js(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Qc({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Hc(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Qc._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Jc.apply(this,arguments)}var Xc=function(e){xa(n,e);var t=Ia(n);function n(e,r,i,a){var o,u;return Na(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(pe(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return fe(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Qa);function Zc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Xc._fromErrorAndOperation(e,n,t,r);throw n}))}function el(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function tl(e,t){return nl.apply(this,arguments)}function nl(){return nl=Ca(Aa().mark((function e(t,n){var r,i,a,o;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=so(t),e.next=3,al(!0,r,n);case 3:return e.t0=ls,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=el(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),nl.apply(this,arguments)}function rl(e,t){return il.apply(this,arguments)}function il(){return il=Ca(Aa().mark((function e(t,n){var r,i,a=arguments;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=gs,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Qc._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),il.apply(this,arguments)}function al(e,t,n){return ol.apply(this,arguments)}function ol(){return(ol=Ca(Aa().mark((function e(t,n,r){var i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Es(n);case 2:i=el(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Uu(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ul(e,t){return sl.apply(this,arguments)}function sl(){return sl=Ca(Aa().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,gs(t,Zc(i,a,n,t),r);case 6:return Uu((o=e.sent).idToken,i,"internal-error"),Uu(u=ys(o.idToken),i,"internal-error"),s=u.sub,Uu(t.uid===s,i,"user-mismatch"),e.abrupt("return",Qc._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Ou(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),sl.apply(this,arguments)}function cl(e,t){return ll.apply(this,arguments)}function ll(){return ll=Ca(Aa().mark((function e(t,n){var r,i,a,o,u=arguments;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Zc(t,i,n);case 4:return a=e.sent,e.next=7,Qc._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),ll.apply(this,arguments)}function fl(e,t){return hl.apply(this,arguments)}function hl(){return hl=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cl(Js(t),n));case 1:case"end":return e.stop()}}),e)}))),hl.apply(this,arguments)}function dl(e,t){return pl.apply(this,arguments)}function pl(){return(pl=Ca(Aa().mark((function e(t,n){var r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=so(t),e.next=3,al(!1,r,n.providerId);case 3:return e.abrupt("return",rl(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vl(e,t){return ml.apply(this,arguments)}function ml(){return(ml=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ul(so(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yl(e,t){return gl.apply(this,arguments)}function gl(){return gl=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rs(t,"POST","/v1/accounts:signInWithCustomToken",Xu(t,n)));case 1:case"end":return e.stop()}}),e)}))),gl.apply(this,arguments)}function bl(){return bl=Ca(Aa().mark((function e(t,n){var r,i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Js(t),e.next=3,yl(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Qc._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),bl.apply(this,arguments)}var kl=function(){function e(t,n){Na(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return fe(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?wl._fromServerResponse(e,t):Ou(e,"internal-error")}}]),e}(),wl=function(e){xa(n,e);var t=Ia(n);function n(e){var r;return Na(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return fe(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(kl);function xl(e,t,n){var r;Uu((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Uu("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Uu(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Uu(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function El(){return El=Ca(Aa().mark((function e(t,n,r){var i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=so(t),a={requestType:"PASSWORD_RESET",email:n},r&&xl(i,a,r),e.next=5,vc(i,a);case 5:case"end":return e.stop()}}),e)}))),El.apply(this,arguments)}function Sl(){return Sl=Ca(Aa().mark((function e(t,n,r){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rc(so(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Sl.apply(this,arguments)}function Il(){return Il=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uc(so(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Il.apply(this,arguments)}function _l(e,t){return Tl.apply(this,arguments)}function Tl(){return Tl=Ca(Aa().mark((function e(t,n){var r,i,a,o;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=so(t),e.next=3,rc(r,{oobCode:n});case 3:i=e.sent,Uu(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Uu(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Uu(i.mfaInfo,r,"internal-error");case 13:Uu(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=kl._fromServerResponse(Js(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Tl.apply(this,arguments)}function Cl(){return Cl=Ca(Aa().mark((function e(t,n){var r,i;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_l(so(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Cl.apply(this,arguments)}function Nl(e,t,n){return Rl.apply(this,arguments)}function Rl(){return Rl=Ca(Aa().mark((function e(t,n,r){var i,a,o;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Js(t),e.next=3,Hc(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Qc._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Rl.apply(this,arguments)}function Al(){return Al=Ca(Aa().mark((function e(t,n,r){var i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=so(t),a={requestType:"EMAIL_SIGNIN",email:n},Uu(r.handleCodeInApp,i,"argument-error"),r&&xl(i,a,r),e.next=6,yc(i,a);case 6:case"end":return e.stop()}}),e)}))),Al.apply(this,arguments)}function Pl(){return Pl=Ca(Aa().mark((function e(t,n,r){var i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=so(t),Uu((a=Fc.credentialWithLink(n,r||Wu()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",fl(i,a));case 4:case"end":return e.stop()}}),e)}))),Pl.apply(this,arguments)}function Dl(e,t){return Ol.apply(this,arguments)}function Ol(){return Ol=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zu(t,"POST","/v1/accounts:createAuthUri",Xu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ol.apply(this,arguments)}function Ll(){return Ll=Ca(Aa().mark((function e(t,n){var r,i,a,o;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ku()?Wu():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Dl(so(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Ll.apply(this,arguments)}function Ml(){return(Ml=Ca(Aa().mark((function e(t,n){var r,i,a,o;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=so(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&xl(r.auth,a,n),e.next=8,dc(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fl(){return(Fl=Ca(Aa().mark((function e(t,n,r){var i,a,o,u;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=so(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&xl(i.auth,o,r),e.next=8,bc(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vl(e,t){return Ul.apply(this,arguments)}function Ul(){return Ul=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zu(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}function jl(){return(jl=Ca(Aa().mark((function e(t,n){var r,i,a,o,u,s,c;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=so(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,gs(a,Vl(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zl(e,t,n){return Bl.apply(this,arguments)}function Bl(){return Bl=Ca(Aa().mark((function e(t,n,r){var i,a,o,u;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,gs(t,ac(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Bl.apply(this,arguments)}var ql=fe((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Na(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Wl=function(e){xa(n,e);var t=Ia(n);function n(e,r,i,a){var o;return Na(this,n),(o=t.call(this,e,r,i)).username=a,o}return fe(n)}(ql),Kl=function(e){xa(n,e);var t=Ia(n);function n(e,r){return Na(this,n),t.call(this,e,"facebook.com",r)}return fe(n)}(ql),Gl=function(e){xa(n,e);var t=Ia(n);function n(e,r){return Na(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return fe(n)}(Wl),Hl=function(e){xa(n,e);var t=Ia(n);function n(e,r){return Na(this,n),t.call(this,e,"google.com",r)}return fe(n)}(ql),$l=function(e){xa(n,e);var t=Ia(n);function n(e,r,i){return Na(this,n),t.call(this,e,"twitter.com",r,i)}return fe(n)}(Wl);function Ql(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ys(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new ql(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Kl(a,i);case"github.com":return new Gl(a,i);case"google.com":return new Hl(a,i);case"twitter.com":return new $l(a,i,e.screenName||null);case"custom":case"anonymous":return new ql(a,null);default:return new ql(a,r,i)}}(n)}var Yl=function(){function e(t,n){Na(this,e),this.type=t,this.credential=n}return fe(e,[{key:"toJSON",value:function(){return{multiFactorSession:Ar({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Jl=function(){function e(t,n,r){Na(this,e),this.session=t,this.hints=n,this.signInResolver=r}return fe(e,[{key:"resolveSignIn",value:function(){var e=Ca(Aa().mark((function e(t){var n;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Js(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return kl._fromServerResponse(r,e)}));Uu(i.mfaPendingCredential,r,"internal-error");var o=Yl._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ca(Aa().mark((function e(t){var a,u,s;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Qc._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Uu(n.user,r,"internal-error"),e.abrupt("return",Qc._forOperation(n.user,n.operationType,u));case 17:Ou(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Xl(e,t){return Zu(e,"POST","/v2/accounts/mfaEnrollment:start",Xu(e,t))}function Zl(e,t){return Zu(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Xu(e,t))}var ef=function(){function e(t){var n=this;Na(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return kl._fromServerResponse(t.auth,e)})))}))}return fe(e,[{key:"getSession",value:function(){var e=Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Yl,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ca(Aa().mark((function e(t,n){var r,i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,gs(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ca(Aa().mark((function e(t){var n,r,i;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,gs(this.user,Zl(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),tf=new WeakMap;var nf="__sak",rf=function(){function e(t,n){Na(this,e),this.storageRetriever=t,this.type=n}return fe(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(nf,"1"),this.storage.removeItem(nf),Promise.resolve(!0)):Promise.resolve(!1)}catch(AN){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var af=function(e){xa(n,e);var t=Ia(n);function n(){var e;return Na(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ba();return Us(e)||Ks(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=$s(),e._shouldAllowMigration=!0,e}return fe(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Hs()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ca(Aa().mark((function e(t,r){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wa(ba(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ca(Aa().mark((function e(t){var r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wa(ba(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wa(ba(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(rf);af.type="LOCAL";var of=af,uf=function(e){xa(n,e);var t=Ia(n);function n(){return Na(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return fe(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(rf);uf.type="SESSION";var sf=uf;function cf(e){return Promise.all(e.map(function(){var e=Ca(Aa().mark((function e(t){var n;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var lf=function(){function e(t){Na(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return fe(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ca(Aa().mark((function e(t){var n,r,i,a,o,u,s,c;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,cf(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ff(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}lf.receivers=[];var hf=function(){function e(t){Na(this,e),this.target=t,this.handlers=new Set}return fe(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ca(Aa().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=ff("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function df(){return window}function pf(){return"undefined"!==typeof df().WorkerGlobalScope&&"function"===typeof df().importScripts}function vf(){return mf.apply(this,arguments)}function mf(){return(mf=Ca(Aa().mark((function e(){var t;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function yf(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var gf="firebaseLocalStorageDb",bf="firebaseLocalStorage",kf="fbase_key",wf=function(){function e(t){Na(this,e),this.request=t}return fe(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function xf(e,t){return e.transaction([bf],t?"readwrite":"readonly").objectStore(bf)}function Ef(){var e=indexedDB.deleteDatabase(gf);return new wf(e).toPromise()}function Sf(){var e=indexedDB.open(gf,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(bf,{keyPath:kf})}catch(r){n(r)}})),e.addEventListener("success",Ca(Aa().mark((function n(){var r;return Aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(bf)){n.next=12;break}return r.close(),n.next=5,Ef();case 5:return n.t0=t,n.next=8,Sf();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function If(e,t,n){return _f.apply(this,arguments)}function _f(){return _f=Ca(Aa().mark((function e(t,n,r){var i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=xf(t,!0).put((Ar(i={},kf,n),Ar(i,"value",r),i)),e.abrupt("return",new wf(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),_f.apply(this,arguments)}function Tf(e,t){return Cf.apply(this,arguments)}function Cf(){return Cf=Ca(Aa().mark((function e(t,n){var r,i;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xf(t,!1).get(n),e.next=3,new wf(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Cf.apply(this,arguments)}function Nf(e,t){var n=xf(e,!0).delete(t);return new wf(n).toPromise()}var Rf=function(){function e(){Na(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return fe(e,[{key:"_openDb",value:function(){var e=Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Sf();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ca(Aa().mark((function e(t){var n,r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pf()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ca(Aa().mark((function e(){var t=this;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=lf._getInstance(pf()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ca(Aa().mark((function e(n,r){var i;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ca(Aa().mark((function e(){var t,n,r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vf();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new hf(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&yf()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ca(Aa().mark((function e(){var t;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Sf();case 5:return t=e.sent,e.next=8,If(t,nf,"1");case 8:return e.next=10,Nf(t,nf);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ca(Aa().mark((function e(t,n){var r=this;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return If(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ca(Aa().mark((function e(t){var n;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Tf(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ca(Aa().mark((function e(t){var n=this;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Nf(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ca(Aa().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=xf(e,!1).getAll();return new wf(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=_a(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ca(Aa().mark((function t(){return Aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Rf.type="LOCAL";var Af=Rf;function Pf(e,t){return Zu(e,"POST","/v2/accounts/mfaSignIn:start",Xu(e,t))}function Df(e){return Of.apply(this,arguments)}function Of(){return Of=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zu(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Of.apply(this,arguments)}function Lf(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Lu("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Mf(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Ff=1e12,Vf=function(){function e(t){Na(this,e),this.auth=t,this.counter=Ff,this._widgets=new Map}return fe(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Uf(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Ff;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Ff;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ca(Aa().mark((function e(t){var n,r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Ff,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Uf=function(){function e(t,n,r){var i=this;Na(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Uu(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return fe(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var jf=Mf("rcb"),zf=new Hu(3e4,6e4),Bf="https://www.google.com/recaptcha/api.js?",qf=function(){function e(){Na(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!df().grecaptcha}return fe(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Uu(Wf(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(df().grecaptcha):new Promise((function(r,i){var a=df().setTimeout((function(){i(Lu(e,"network-request-failed"))}),zf.get());df()[jf]=function(){df().clearTimeout(a),delete df()[jf];var o=df().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Lu(e,"internal-error"))},Lf("".concat(Bf,"?").concat(no({onload:jf,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Lu(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!df().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Wf(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Kf=function(){function e(){Na(this,e)}return fe(e,[{key:"load",value:function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Vf(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Gf="recaptcha",Hf={theme:"light",type:"image"},$f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Hf),r=arguments.length>2?arguments[2]:void 0;Na(this,e),this.parameters=n,this.type=Gf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Js(r),this.isInvisible="invisible"===this.parameters.size,Uu("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Uu(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Kf:new qf,this.validateStartingState()}return fe(e,[{key:"verify",value:function(){var e=Ca(Aa().mark((function e(){var t,n,r,i=this;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Uu(!this.parameters.sitekey,this.auth,"argument-error"),Uu(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Uu("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=df()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Uu(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ca(Aa().mark((function e(){var t,n;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ca(Aa().mark((function e(){var t;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Uu(Ku()&&!pf(),this.auth,"internal-error"),e.next=3,Qf();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Df(this.auth);case 8:Uu(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Uu(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Qf(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Yf=function(){function e(t,n){Na(this,e),this.verificationId=t,this.onConfirmation=n}return fe(e,[{key:"confirm",value:function(e){var t=Lc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Jf(){return Jf=Ca(Aa().mark((function e(t,n,r){var i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Js(t),e.next=3,th(i,n,so(r));case 3:return a=e.sent,e.abrupt("return",new Yf(a,(function(e){return fl(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Jf.apply(this,arguments)}function Xf(e,t,n){return Zf.apply(this,arguments)}function Zf(){return(Zf=Ca(Aa().mark((function e(t,n,r){var i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=so(t),e.next=3,al(!1,i,"phone");case 3:return e.next=5,th(i.auth,n,so(r));case 5:return a=e.sent,e.abrupt("return",new Yf(a,(function(e){return dl(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eh(){return(eh=Ca(Aa().mark((function e(t,n,r){var i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=so(t),e.next=3,th(i.auth,n,so(r));case 3:return a=e.sent,e.abrupt("return",new Yf(a,(function(e){return vl(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function th(e,t,n){return nh.apply(this,arguments)}function nh(){return nh=Ca(Aa().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Uu("string"===typeof a,t,"argument-error"),Uu(r.type===Gf,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Uu("enroll"===u.type,t,"internal-error"),e.next=13,Xl(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Uu("signin"===u.type,t,"internal-error"),Uu(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Pf(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Nc(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),nh.apply(this,arguments)}function rh(){return(rh=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rl(so(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ih=function(){function e(t){Na(this,e),this.providerId=e.PROVIDER_ID,this.auth=Js(t)}return fe(e,[{key:"verifyPhoneNumber",value:function(e,t){return th(this.auth,e,so(t))}}],[{key:"credential",value:function(e,t){return Lc._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Lc._fromTokenResponse(n,r):null}}]),e}();function ah(e,t){return t?qu(t):(Uu(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ih.PROVIDER_ID="phone",ih.PHONE_SIGN_IN_METHOD="phone";var oh=function(e){xa(n,e);var t=Ia(n);function n(e){var r;return Na(this,n),(r=t.call(this,"custom","custom")).params=e,r}return fe(n,[{key:"_getIdTokenResponse",value:function(e){return _c(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return _c(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return _c(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(nc);function uh(e){return cl(e.auth,new oh(e),e.bypassAuthState)}function sh(e){var t=e.auth,n=e.user;return Uu(n,t,"internal-error"),ul(n,new oh(e),e.bypassAuthState)}function ch(e){return lh.apply(this,arguments)}function lh(){return lh=Ca(Aa().mark((function e(t){var n,r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Uu(r=t.user,n,"internal-error"),e.abrupt("return",rl(r,new oh(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),lh.apply(this,arguments)}var fh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Na(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return fe(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ca(Aa().mark((function t(n,r){return Aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ca(Aa().mark((function e(t){var n,r,i,a,o,u,s;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uh;case"linkViaPopup":case"linkViaRedirect":return ch;case"reauthViaPopup":case"reauthViaRedirect":return sh;default:Ou(this.auth,"internal-error")}}},{key:"resolve",value:function(e){zu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){zu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),hh=new Hu(2e3,1e4);function dh(e,t,n){return ph.apply(this,arguments)}function ph(){return ph=Ca(Aa().mark((function e(t,n,r){var i,a,o;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Js(t),Fu(t,n,Vc),a=ah(i,r),o=new gh(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),ph.apply(this,arguments)}function vh(){return(vh=Ca(Aa().mark((function e(t,n,r){var i,a,o;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fu((i=so(t)).auth,n,Vc),a=ah(i.auth,r),o=new gh(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mh(e,t,n){return yh.apply(this,arguments)}function yh(){return(yh=Ca(Aa().mark((function e(t,n,r){var i,a,o;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fu((i=so(t)).auth,n,Vc),a=ah(i.auth,r),o=new gh(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gh=function(e){xa(n,e);var t=Ia(n);function n(e,r,i,a,o){var u;return Na(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=pe(u),u}return fe(n,[{key:"executeNotNull",value:function(){var e=Ca(Aa().mark((function e(){var t;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Uu(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ca(Aa().mark((function e(){var t,n=this;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zu(1===this.filter.length,"Popup operations only handle one event"),t=ff(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Lu(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Lu(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Lu(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,hh.get())}()}}]),n}(fh);gh.currentPopupAction=null;var bh=new Map,kh=function(e){xa(n,e);var t=Ia(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Na(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return fe(n,[{key:"execute",value:function(){var e=Ca(Aa().mark((function e(){var t,r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=bh.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,wh(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,wa(ba(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:bh.set(this.auth._key(),t);case 21:return this.bypassAuthState||bh.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ca(Aa().mark((function e(t){var r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",wa(ba(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",wa(ba(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(fh);function wh(e,t){return xh.apply(this,arguments)}function xh(){return xh=Ca(Aa().mark((function e(t,n){var r,i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_h(n),i=Ih(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),xh.apply(this,arguments)}function Eh(e,t){return Sh.apply(this,arguments)}function Sh(){return Sh=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ih(t)._set(_h(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Sh.apply(this,arguments)}function Ih(e){return qu(e._redirectPersistence)}function _h(e){return Ls("pendingRedirect",e.config.apiKey,e.name)}function Th(e,t,n){return function(e,t,n){return Ch.apply(this,arguments)}(e,t,n)}function Ch(){return Ch=Ca(Aa().mark((function e(t,n,r){var i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Js(t),Fu(t,n,Vc),a=ah(i,r),e.next=5,Eh(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Ch.apply(this,arguments)}function Nh(e,t,n){return function(e,t,n){return Rh.apply(this,arguments)}(e,t,n)}function Rh(){return(Rh=Ca(Aa().mark((function e(t,n,r){var i,a,o;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fu((i=so(t)).auth,n,Vc),a=ah(i.auth,r),e.next=5,Eh(a,i.auth);case 5:return e.next=7,Fh(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ah(e,t,n){return function(e,t,n){return Ph.apply(this,arguments)}(e,t,n)}function Ph(){return(Ph=Ca(Aa().mark((function e(t,n,r){var i,a,o;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fu((i=so(t)).auth,n,Vc),a=ah(i.auth,r),e.next=5,al(!1,i,n.providerId);case 5:return e.next=7,Eh(a,i.auth);case 7:return e.next=9,Fh(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dh(e,t){return Oh.apply(this,arguments)}function Oh(){return Oh=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Js(t)._initializationPromise;case 2:return e.abrupt("return",Lh(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Oh.apply(this,arguments)}function Lh(e,t){return Mh.apply(this,arguments)}function Mh(){return Mh=Ca(Aa().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Js(t),a=ah(i,n),o=new kh(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Mh.apply(this,arguments)}function Fh(e){return Vh.apply(this,arguments)}function Vh(){return(Vh=Ca(Aa().mark((function e(t){var n;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ff("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Uh=function(){function e(t){Na(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return fe(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!zh(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Lu(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jh(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(jh(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function jh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function zh(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Bh(e){return qh.apply(this,arguments)}function qh(){return qh=Ca(Aa().mark((function e(t){var n,r=arguments;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Zu(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),qh.apply(this,arguments)}var Wh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kh=/^https?/;function Gh(){return Gh=Ca(Aa().mark((function e(t){var n,r,i,a,o;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Bh(t);case 4:n=e.sent,r=n.authorizedDomains,i=_a(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Hh(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Ou(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Gh.apply(this,arguments)}function Hh(e){var t=Wu(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Kh.test(r))return!1;if(Wh.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var $h=new Hu(3e4,6e4);function Qh(){var e=df().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=ln(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Yh=null;function Jh(e){return Yh=Yh||function(e){return new Promise((function(t,n){var r,i,a;function o(){Qh(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Qh(),n(Lu(e,"network-request-failed"))},timeout:$h.get()})}if(null===(i=null===(r=df().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=df().gapi)||void 0===a?void 0:a.load)){var u=Mf("iframefcb");return df()[u]=function(){gapi.load?o():n(Lu(e,"network-request-failed"))},Lf("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Yh=null,e}))}(e),Yh}var Xh=new Hu(5e3,15e3),Zh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ed=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function td(e){var t=e.config;Uu(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?$u(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Go},i=ed.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(no(r).slice(1))}function nd(e){return rd.apply(this,arguments)}function rd(){return rd=Ca(Aa().mark((function e(t){var n,r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jh(t);case 2:return n=e.sent,Uu(r=df().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:td(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zh,dontclear:!0},(function(e){return new Promise(function(){var n=Ca(Aa().mark((function n(r,i){var a,o,u;return Aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){df().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Lu(t,"network-request-failed"),o=df().setTimeout((function(){i(a)}),Xh.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}var id={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ad="_blank",od="http://localhost",ud=function(){function e(t){Na(this,e),this.window=t,this.associatedEvent=null}return fe(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function sd(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},id),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Ba().toLowerCase();n&&(u=js(c)?ad:n),Vs(c)&&(t=t||od,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Gs(c)&&"_self"!==u)return cd(t||"",u),new ud(null);var h=window.open(t||"",u,f);Uu(h,e,"popup-blocked");try{h.focus()}catch(d){}return new ud(h)}function cd(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ld="__/auth/handler",fd="emulator/auth/handler";function hd(e,t,n,r,i,a){Uu(e.config.authDomain,e,"auth-domain-config-required"),Uu(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Go,eventId:i};if(t instanceof Vc){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=l(s[u],2),f=c[0],h=c[1];o[f]=h}}if(t instanceof Uc){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ld);return $u(t,fd)}(e),"?").concat(no(p).slice(1))}var dd="webStorageSupport",pd=function(){function e(){Na(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sf,this._completeRedirectFn=Lh}return fe(e,[{key:"_openPopup",value:function(){var e=Ca(Aa().mark((function e(t,n,r,i){var a,o;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zu(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=hd(t,n,r,Wu(),i),e.abrupt("return",sd(t,o,ff()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ca(Aa().mark((function e(t,n,r,i){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=hd(t,n,r,Wu(),i),df().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(zu(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ca(Aa().mark((function e(t){var n,r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nd(t);case 2:return n=e.sent,r=new Uh(t),n.register("authEvent",(function(e){return Uu(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(dd,{type:dd},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Ou(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Gh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return $s()||Us()||Ks()}}]),e}(),vd=pd,md=function(){function e(t){Na(this,e),this.factorId=t}return fe(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ju("unexpected MultiFactorSessionType")}}}]),e}(),yd=function(e){xa(n,e);var t=Ia(n);function n(e){var r;return Na(this,n),(r=t.call(this,"phone")).credential=e,r}return fe(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Zu(e,"POST","/v2/accounts/mfaEnrollment:finalize",Xu(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Zu(e,"POST","/v2/accounts/mfaSignIn:finalize",Xu(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(md),gd=function(){function e(){Na(this,e)}return fe(e,null,[{key:"assertion",value:function(e){return yd._fromCredential(e)}}]),e}();gd.FACTOR_ID="phone";var bd,kd="@firebase/auth",wd="0.19.11",xd=function(){function e(t){Na(this,e),this.auth=t,this.internalListeners=new Map}return fe(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ca(Aa().mark((function e(t){var n;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Uu(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Ed(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function Sd(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}bd="Browser",Uo(new vo("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Uu(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Uu(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:bd,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qs(bd)},i=new Ys(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qu);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Uo(new vo("auth-internal",(function(e){return function(e){return new xd(e)}(Js(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Xo(kd,wd,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(bd)),Xo(kd,wd,"esm2017");var Id=function(){return Id=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Id.apply(this,arguments)},_d=function(e){return{loading:void 0===e||null===e,value:e}},Td=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return Id(Id({},e),{error:t.error,loading:!1,value:void 0});case"reset":return _d(t.defaultValue);case"value":return Id(Id({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),_d(t)),r=n[0],a=n[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:s,value:r.value}}),[r.error,r.loading,o,u,s,r.value])},Cd=function(e,t){var n=Td((function(){return e.currentUser})),r=n.error,a=n.loading,o=n.setError,u=n.setValue,s=n.value;(0,i.useEffect)((function(){var n=function(e,t,n,r){return so(e).onAuthStateChanged(t,n,r)}(e,(function(e){return Ed(void 0,void 0,void 0,(function(){var n;return Sd(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){n()}}),[e]);var c=[s,a,r];return(0,i.useMemo)((function(){return c}),c)},Nd=n(184),Rd=function(){var e=(0,i.useContext)(sO).auth,t=l(Cd(e),1)[0];return(0,Nd.jsx)(Di,{color:"secondary",position:"static",children:(0,Nd.jsx)(Li,{variant:"dense",children:(0,Nd.jsx)(zi,{container:!0,justify:"flex-end",children:t?(0,Nd.jsx)(ma,{onClick:function(){return e.signOut()},variant:"outlined",children:"Exit"}):(0,Nd.jsx)(te,{to:ya,children:(0,Nd.jsx)(ma,{variant:"outlined",children:"Login"})})})})})},Ad=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.component,o=void 0===a?"div":a,u=e.disableGutters,s=void 0!==u&&u,c=e.fixed,l=void 0!==c&&c,h=e.maxWidth,d=void 0===h?"lg":h,p=re(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return i.createElement(o,f({className:ae(n.root,r,l&&n.fixed,s&&n.disableGutters,!1!==d&&n["maxWidth".concat(Ni(String(d)))]),ref:t},p))})),Pd=Ci((function(e){return{root:Ar({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,n){var r=e.breakpoints.values[n];return 0!==r&&(t[e.breakpoints.up(n)]={maxWidth:r}),t}),{}),maxWidthXs:Ar({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Ar({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Ar({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Ar({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Ar({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(Ad),Dd=function(){return(0,Nd.jsx)(Pd,{children:(0,Nd.jsx)(zi,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:(0,Nd.jsx)(zi,{container:!0,alignItems:"center",direction:"column",children:(0,Nd.jsxs)("div",{class:"lds-spinner",children:[(0,Nd.jsx)("div",{}),(0,Nd.jsx)("div",{}),(0,Nd.jsx)("div",{}),(0,Nd.jsx)("div",{}),(0,Nd.jsx)("div",{}),(0,Nd.jsx)("div",{}),(0,Nd.jsx)("div",{}),(0,Nd.jsx)("div",{}),(0,Nd.jsx)("div",{}),(0,Nd.jsx)("div",{}),(0,Nd.jsx)("div",{}),(0,Nd.jsx)("div",{})]})})})})};function Od(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function Ld(e){var t=function(t){var n=e(t);return t.css?f({},li(n,e(f({theme:t.theme},t.css))),Od(t.css,[e.filterProps])):t.sx?f({},li(n,e(f({theme:t.theme},t.sx))),Od(t.sx,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css","sx"].concat(ln(e.filterProps)),t}var Md=Ld;var Fd=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?li(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r};function Vd(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var Ud=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=Vd(e.theme,i)||{};return ci(e,n,(function(e){var t;return"function"===typeof o?t=o(e):Array.isArray(o)?t=o[e]||e:(t=Vd(o,e)||e,a&&(t=a(t))),!1===r?t:Ar({},r,t)}))};return o.propTypes={},o.filterProps=[t],o};function jd(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var zd=Fd(Ud({prop:"border",themeKey:"borders",transform:jd}),Ud({prop:"borderTop",themeKey:"borders",transform:jd}),Ud({prop:"borderRight",themeKey:"borders",transform:jd}),Ud({prop:"borderBottom",themeKey:"borders",transform:jd}),Ud({prop:"borderLeft",themeKey:"borders",transform:jd}),Ud({prop:"borderColor",themeKey:"palette"}),Ud({prop:"borderRadius",themeKey:"shape"})),Bd=Fd(Ud({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),Ud({prop:"display"}),Ud({prop:"overflow"}),Ud({prop:"textOverflow"}),Ud({prop:"visibility"}),Ud({prop:"whiteSpace"})),qd=Fd(Ud({prop:"flexBasis"}),Ud({prop:"flexDirection"}),Ud({prop:"flexWrap"}),Ud({prop:"justifyContent"}),Ud({prop:"alignItems"}),Ud({prop:"alignContent"}),Ud({prop:"order"}),Ud({prop:"flex"}),Ud({prop:"flexGrow"}),Ud({prop:"flexShrink"}),Ud({prop:"alignSelf"}),Ud({prop:"justifyItems"}),Ud({prop:"justifySelf"})),Wd=Fd(Ud({prop:"gridGap"}),Ud({prop:"gridColumnGap"}),Ud({prop:"gridRowGap"}),Ud({prop:"gridColumn"}),Ud({prop:"gridRow"}),Ud({prop:"gridAutoFlow"}),Ud({prop:"gridAutoColumns"}),Ud({prop:"gridAutoRows"}),Ud({prop:"gridTemplateColumns"}),Ud({prop:"gridTemplateRows"}),Ud({prop:"gridTemplateAreas"}),Ud({prop:"gridArea"})),Kd=Fd(Ud({prop:"position"}),Ud({prop:"zIndex",themeKey:"zIndex"}),Ud({prop:"top"}),Ud({prop:"right"}),Ud({prop:"bottom"}),Ud({prop:"left"})),Gd=Fd(Ud({prop:"color",themeKey:"palette"}),Ud({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),Hd=Ud({prop:"boxShadow",themeKey:"shadows"});function $d(e){return e<=1?"".concat(100*e,"%"):e}var Qd=Ud({prop:"width",transform:$d}),Yd=Ud({prop:"maxWidth",transform:$d}),Jd=Ud({prop:"minWidth",transform:$d}),Xd=Ud({prop:"height",transform:$d}),Zd=Ud({prop:"maxHeight",transform:$d}),ep=Ud({prop:"minHeight",transform:$d}),tp=(Ud({prop:"size",cssProperty:"width",transform:$d}),Ud({prop:"size",cssProperty:"height",transform:$d}),Fd(Qd,Yd,Jd,Xd,Zd,ep,Ud({prop:"boxSizing"}))),np=Fd(Ud({prop:"fontFamily",themeKey:"typography"}),Ud({prop:"fontSize",themeKey:"typography"}),Ud({prop:"fontStyle",themeKey:"typography"}),Ud({prop:"fontWeight",themeKey:"typography"}),Ud({prop:"letterSpacing"}),Ud({prop:"lineHeight"}),Ud({prop:"textAlign"}));function rp(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}var ip,ap=function(e){var t=function(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,o=re(r,["name"]),u=a,s=_r("function"===typeof t?function(e){return{root:function(n){return t(f({theme:e},n))}}}:{root:t},f({Component:e,name:a||e.displayName,classNamePrefix:u},o));t.filterProps&&(n=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var c=i.forwardRef((function(t,r){var a=t.children,o=t.className,u=t.clone,c=t.component,l=re(t,["children","className","clone","component"]),h=ae(s(t).root,o),d=l;if(n&&(d=rp(d,n)),u)return i.cloneElement(a,f({className:ae(a.props.className,h)},d));if("function"===typeof a)return a(f({className:h},d));var p=c||e;return i.createElement(p,f({ref:r,className:h},d),a)}));return ue()(c,e),c}}(e);return function(e,n){return t(e,f({defaultTheme:Ti},n))}},op=Md(Fd(zd,Bd,qd,Wd,Kd,Gd,Hd,tp,bi,np)),up=ap("div")(op,{name:"MuiBox"}),sp=function(){function e(t,n){var r=this;Na(this,e),this._delegate=t,this.firebase=n,Fo(t,new vo("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return fe(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Yo(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Do;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Do;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Fo(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Vo(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),cp=(Ar(ip={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ar(ip,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ip),lp=new Ya("app-compat","Firebase",cp);var fp=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Ho(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Za(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Xo,setLogLevel:eu,onLog:Zo,apps:null,SDK_VERSION:Go,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Uo(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw lp.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Va(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Za(n,e=e||Do))throw lp.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(sp);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Va(n,e)},createSubscribe:ao,ErrorFactory:Ya,deepExtend:Va}),n}(),hp=new Co("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){hp.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var dp=self.firebase.SDK_VERSION;dp&&dp.indexOf("LITE")>=0&&hp.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var pp=fp;!function(e){Xo("@firebase/app-compat","0.1.21",e)}();pp.registerVersion("firebase","9.6.10","app-compat");var vp=function(){var e=(0,i.useContext)(sO).auth,t=function(){var t=Ca(Aa().mark((function t(){var n,r;return Aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new pp.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:r=t.sent,r.user;case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,Nd.jsx)("div",{children:(0,Nd.jsx)(Pd,{children:(0,Nd.jsx)(zi,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:(0,Nd.jsx)(zi,{container:!0,style:{width:400,background:"lightgray"},alignItems:"center",direction:"column",children:(0,Nd.jsx)(up,{p:5,children:(0,Nd.jsx)(ma,{onClick:t,variant:"outlined",children:"Log in with Google"})})})})})})};function mp(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var yp=i.createContext();var gp=yp;function bp(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this,u=function(){e.apply(o,i)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}function kp(e,t){return parseInt(e[t],10)||0}var wp="undefined"!==typeof window?i.useLayoutEffect:i.useEffect,xp={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},Ep=i.forwardRef((function(e,t){var n=e.onChange,r=e.rows,a=e.rowsMax,o=e.rowsMin,u=e.maxRows,s=e.minRows,c=void 0===s?1:s,l=e.style,h=e.value,d=re(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),p=u||a,v=r||o||c,m=i.useRef(null!=h).current,y=i.useRef(null),g=qi(t,y),b=i.useRef(null),k=i.useRef(0),w=i.useState({}),x=w[0],E=w[1],S=i.useCallback((function(){var t=y.current,n=window.getComputedStyle(t),r=b.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=kp(n,"padding-bottom")+kp(n,"padding-top"),o=kp(n,"border-bottom-width")+kp(n,"border-top-width"),u=r.scrollHeight-a;r.value="x";var s=r.scrollHeight-a,c=u;v&&(c=Math.max(Number(v)*s,c)),p&&(c=Math.min(Number(p)*s,c));var l=(c=Math.max(c,s))+("border-box"===i?a+o:0),f=Math.abs(c-u)<=1;E((function(e){return k.current<20&&(l>0&&Math.abs((e.outerHeightStyle||0)-l)>1||e.overflow!==f)?(k.current+=1,{overflow:f,outerHeightStyle:l}):e}))}),[p,v,e.placeholder]);i.useEffect((function(){var e=bp((function(){k.current=0,S()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[S]),wp((function(){S()})),i.useEffect((function(){k.current=0}),[h]);return i.createElement(i.Fragment,null,i.createElement("textarea",f({value:h,onChange:function(e){k.current=0,m||S(),n&&n(e)},ref:g,rows:v,style:f({height:x.outerHeightStyle,overflow:x.overflow?"hidden":null},l)},d)),i.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:b,tabIndex:-1,style:f({},xp,l)}))})),Sp=Ep;function Ip(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function _p(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(Ip(e.value)&&""!==e.value||t&&Ip(e.defaultValue)&&""!==e.defaultValue)}var Tp="undefined"===typeof window?i.useEffect:i.useLayoutEffect,Cp=i.forwardRef((function(e,t){var n=e["aria-describedby"],r=e.autoComplete,a=e.autoFocus,o=e.classes,u=e.className,s=(e.color,e.defaultValue),c=e.disabled,l=e.endAdornment,h=(e.error,e.fullWidth),d=void 0!==h&&h,p=e.id,v=e.inputComponent,m=void 0===v?"input":v,y=e.inputProps,g=void 0===y?{}:y,b=e.inputRef,k=(e.margin,e.multiline),w=void 0!==k&&k,x=e.name,E=e.onBlur,S=e.onChange,I=e.onClick,_=e.onFocus,T=e.onKeyDown,C=e.onKeyUp,N=e.placeholder,R=e.readOnly,A=e.renderSuffix,P=e.rows,D=e.rowsMax,O=e.rowsMin,L=e.maxRows,M=e.minRows,F=e.startAdornment,V=e.type,U=void 0===V?"text":V,j=e.value,z=re(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),B=null!=g.value?g.value:j,q=i.useRef(null!=B).current,W=i.useRef(),K=i.useCallback((function(e){0}),[]),G=qi(g.ref,K),H=qi(b,G),$=qi(W,H),Q=i.useState(!1),Y=Q[0],J=Q[1],X=i.useContext(yp);var Z=mp({props:e,muiFormControl:X,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});Z.focused=X?X.focused:Y,i.useEffect((function(){!X&&c&&Y&&(J(!1),E&&E())}),[X,c,Y,E]);var ee=X&&X.onFilled,te=X&&X.onEmpty,ne=i.useCallback((function(e){_p(e)?ee&&ee():te&&te()}),[ee,te]);Tp((function(){q&&ne({value:B})}),[B,ne,q]);i.useEffect((function(){ne(W.current)}),[]);var ie=m,oe=f({},g,{ref:$});"string"!==typeof ie?oe=f({inputRef:$,type:U},oe,{ref:null}):w?!P||L||M||D||O?(oe=f({minRows:P||M,rowsMax:D,maxRows:L},oe),ie=Sp):ie="textarea":oe=f({type:U},oe);return i.useEffect((function(){X&&X.setAdornedStart(Boolean(F))}),[X,F]),i.createElement("div",f({className:ae(o.root,o["color".concat(Ni(Z.color||"primary"))],u,Z.disabled&&o.disabled,Z.error&&o.error,d&&o.fullWidth,Z.focused&&o.focused,X&&o.formControl,w&&o.multiline,F&&o.adornedStart,l&&o.adornedEnd,"dense"===Z.margin&&o.marginDense),onClick:function(e){W.current&&e.currentTarget===e.target&&W.current.focus(),I&&I(e)},ref:t},z),F,i.createElement(gp.Provider,{value:null},i.createElement(ie,f({"aria-invalid":Z.error,"aria-describedby":n,autoComplete:r,autoFocus:a,defaultValue:s,disabled:Z.disabled,id:p,onAnimationStart:function(e){ne("mui-auto-fill-cancel"===e.animationName?W.current:{value:"x"})},name:x,placeholder:N,readOnly:R,required:Z.required,rows:P,value:B,onKeyDown:T,onKeyUp:C},oe,{className:ae(o.input,g.className,Z.disabled&&o.disabled,w&&o.inputMultiline,Z.hiddenLabel&&o.inputHiddenLabel,F&&o.inputAdornedStart,l&&o.inputAdornedEnd,"search"===U&&o.inputTypeSearch,"dense"===Z.margin&&o.inputMarginDense),onBlur:function(e){E&&E(e),g.onBlur&&g.onBlur(e),X&&X.onBlur?X.onBlur(e):J(!1)},onChange:function(e){if(!q){var t=e.target||W.current;if(null==t)throw new Error(Dr(1));ne({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];g.onChange&&g.onChange.apply(g,[e].concat(r)),S&&S.apply(void 0,[e].concat(r))},onFocus:function(e){Z.disabled?e.stopPropagation():(_&&_(e),g.onFocus&&g.onFocus(e),X&&X.onFocus?X.onFocus(e):J(!0))}}))),l,A?A(f({},Z,{startAdornment:F})):null)})),Np=Ci((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:f({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(Cp),Rp=i.forwardRef((function(e,t){var n=e.disableUnderline,r=e.classes,a=e.fullWidth,o=void 0!==a&&a,u=e.inputComponent,s=void 0===u?"input":u,c=e.multiline,l=void 0!==c&&c,h=e.type,d=void 0===h?"text":h,p=re(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return i.createElement(Np,f({classes:f({},r,{root:ae(r.root,!n&&r.underline),underline:null}),fullWidth:o,inputComponent:s,multiline:l,ref:t,type:d},p))}));Rp.muiName="Input";var Ap=Ci((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(Rp),Pp=i.forwardRef((function(e,t){var n=e.disableUnderline,r=e.classes,a=e.fullWidth,o=void 0!==a&&a,u=e.inputComponent,s=void 0===u?"input":u,c=e.multiline,l=void 0!==c&&c,h=e.type,d=void 0===h?"text":h,p=re(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return i.createElement(Np,f({classes:f({},r,{root:ae(r.root,!n&&r.underline),underline:null}),fullWidth:o,inputComponent:s,multiline:l,ref:t,type:d},p))}));Pp.muiName="Input";var Dp=Ci((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(Pp);function Op(){return Rt()||Ti}var Lp=i.forwardRef((function(e,t){e.children;var n=e.classes,r=e.className,a=e.label,o=e.labelWidth,u=e.notched,s=e.style,c=re(e,["children","classes","className","label","labelWidth","notched","style"]),l="rtl"===Op().direction?"right":"left";if(void 0!==a)return i.createElement("fieldset",f({"aria-hidden":!0,className:ae(n.root,r),ref:t,style:s},c),i.createElement("legend",{className:ae(n.legendLabelled,u&&n.legendNotched)},a?i.createElement("span",null,a):i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var h=o>0?.75*o+8:.01;return i.createElement("fieldset",f({"aria-hidden":!0,style:f(Ar({},"padding".concat(Ni(l)),8),s),className:ae(n.root,r),ref:t},c),i.createElement("legend",{className:n.legend,style:{width:u?h:.01}},i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),Mp=Ci((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(Lp),Fp=i.forwardRef((function(e,t){var n=e.classes,r=e.fullWidth,a=void 0!==r&&r,o=e.inputComponent,u=void 0===o?"input":o,s=e.label,c=e.labelWidth,l=void 0===c?0:c,h=e.multiline,d=void 0!==h&&h,p=e.notched,v=e.type,m=void 0===v?"text":v,y=re(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return i.createElement(Np,f({renderSuffix:function(e){return i.createElement(Mp,{className:n.notchedOutline,label:s,labelWidth:l,notched:"undefined"!==typeof p?p:Boolean(e.startAdornment||e.filled||e.focused)})},classes:f({},n,{root:ae(n.root,n.underline),notchedOutline:null}),fullWidth:a,inputComponent:u,multiline:d,ref:t,type:m},y))}));Fp.muiName="Input";var Vp=Ci((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(Fp);function Up(){return i.useContext(gp)}var jp=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,o=(e.color,e.component),u=void 0===o?"label":o,s=(e.disabled,e.error,e.filled,e.focused,e.required,re(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),c=mp({props:e,muiFormControl:Up(),states:["color","required","focused","disabled","error","filled"]});return i.createElement(u,f({className:ae(r.root,r["color".concat(Ni(c.color||"primary"))],a,c.disabled&&r.disabled,c.error&&r.error,c.filled&&r.filled,c.focused&&r.focused,c.required&&r.required),ref:t},s),n,c.required&&i.createElement("span",{"aria-hidden":!0,className:ae(r.asterisk,c.error&&r.error)},"\u2009","*"))})),zp=Ci((function(e){return{root:f({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(jp),Bp=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.disableAnimation,o=void 0!==a&&a,u=(e.margin,e.shrink),s=(e.variant,re(e,["classes","className","disableAnimation","margin","shrink","variant"])),c=Up(),l=u;"undefined"===typeof l&&c&&(l=c.filled||c.focused||c.adornedStart);var h=mp({props:e,muiFormControl:c,states:["margin","variant"]});return i.createElement(zp,f({"data-shrink":l,className:ae(n.root,r,c&&n.formControl,!o&&n.animated,l&&n.shrink,"dense"===h.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[h.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:t},s))})),qp=Ci((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(Bp);function Wp(e,t){return i.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}var Kp=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,o=e.color,u=void 0===o?"primary":o,s=e.component,c=void 0===s?"div":s,l=e.disabled,h=void 0!==l&&l,d=e.error,p=void 0!==d&&d,v=e.fullWidth,m=void 0!==v&&v,y=e.focused,g=e.hiddenLabel,b=void 0!==g&&g,k=e.margin,w=void 0===k?"none":k,x=e.required,E=void 0!==x&&x,S=e.size,I=e.variant,_=void 0===I?"standard":I,T=re(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),C=i.useState((function(){var e=!1;return n&&i.Children.forEach(n,(function(t){if(Wp(t,["Input","Select"])){var n=Wp(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),N=C[0],R=C[1],A=i.useState((function(){var e=!1;return n&&i.Children.forEach(n,(function(t){Wp(t,["Input","Select"])&&_p(t.props,!0)&&(e=!0)})),e})),P=A[0],D=A[1],O=i.useState(!1),L=O[0],M=O[1],F=void 0!==y?y:L;h&&F&&M(!1);var V=i.useCallback((function(){D(!0)}),[]),U={adornedStart:N,setAdornedStart:R,color:u,disabled:h,error:p,filled:P,focused:F,fullWidth:m,hiddenLabel:b,margin:("small"===S?"dense":void 0)||w,onBlur:function(){M(!1)},onEmpty:i.useCallback((function(){D(!1)}),[]),onFilled:V,onFocus:function(){M(!0)},registerEffect:undefined,required:E,variant:_};return i.createElement(gp.Provider,{value:U},i.createElement(c,f({className:ae(r.root,a,"none"!==w&&r["margin".concat(Ni(w))],m&&r.fullWidth),ref:t},T),n))})),Gp=Ci({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(Kp),Hp=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,o=e.component,u=void 0===o?"p":o,s=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,re(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),c=mp({props:e,muiFormControl:Up(),states:["variant","margin","disabled","error","filled","focused","required"]});return i.createElement(u,f({className:ae(r.root,("filled"===c.variant||"outlined"===c.variant)&&r.contained,a,c.disabled&&r.disabled,c.error&&r.error,c.filled&&r.filled,c.focused&&r.focused,c.required&&r.required,"dense"===c.margin&&r.marginDense),ref:t},s)," "===n?i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)})),$p=Ci((function(e){return{root:f({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(Hp);n(441);function Qp(e){return e&&e.ownerDocument||document}function Yp(e){return Qp(e).defaultView||window}function Jp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var Xp="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;var Zp=i.forwardRef((function(e,t){var n=e.children,r=e.container,o=e.disablePortal,u=void 0!==o&&o,s=e.onRendered,c=i.useState(null),l=c[0],f=c[1],h=qi(i.isValidElement(n)?n.ref:null,t);return Xp((function(){u||f(function(e){return e="function"===typeof e?e():e,a.findDOMNode(e)}(r)||document.body)}),[r,u]),Xp((function(){if(l&&!u)return Bi(t,l),function(){Bi(t,null)}}),[t,l,u]),Xp((function(){s&&(l||u)&&s()}),[s,l,u]),u?i.isValidElement(n)?i.cloneElement(n,{ref:h}):n:l?a.createPortal(n,l):l}));function ev(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function tv(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function nv(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function rv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(ln(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&tv(e,i)}))}function iv(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function av(e,t){var n,r=[],i=[],a=e.container;if(!t.disableScrollLock){if(function(e){var t=Qp(e);return t.body===e?Yp(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(a)){var o=ev();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(nv(a)+o,"px"),n=Qp(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(nv(e)+o,"px")}))}var u=a.parentElement,s="HTML"===u.nodeName&&"scroll"===window.getComputedStyle(u)["overflow-y"]?u:a;r.push({value:s.style.overflow,key:"overflow",el:s}),s.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var ov=function(){function e(){Na(this,e),this.modals=[],this.containers=[]}return fe(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&tv(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);rv(t,e.mountNode,e.modalRef,r,!0);var i=iv(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=iv(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=av(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=iv(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&tv(e.modalRef,!0),rv(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&tv(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var uv=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,o=e.disableEnforceFocus,u=void 0!==o&&o,s=e.disableRestoreFocus,c=void 0!==s&&s,l=e.getDoc,f=e.isEnabled,h=e.open,d=i.useRef(),p=i.useRef(null),v=i.useRef(null),m=i.useRef(),y=i.useRef(null),g=i.useCallback((function(e){y.current=a.findDOMNode(e)}),[]),b=qi(t.ref,g),k=i.useRef();return i.useEffect((function(){k.current=h}),[h]),!k.current&&h&&"undefined"!==typeof window&&(m.current=l().activeElement),i.useEffect((function(){if(h){var e=Qp(y.current);r||!y.current||y.current.contains(e.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex",-1),y.current.focus());var t=function(){null!==y.current&&(e.hasFocus()&&!u&&f()&&!d.current?y.current&&!y.current.contains(e.activeElement)&&y.current.focus():d.current=!1)},n=function(t){!u&&f()&&9===t.keyCode&&e.activeElement===y.current&&(d.current=!0,t.shiftKey?v.current.focus():p.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var i=setInterval((function(){t()}),50);return function(){clearInterval(i),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),c||(m.current&&m.current.focus&&m.current.focus(),m.current=null)}}}),[r,u,c,f,h]),i.createElement(i.Fragment,null,i.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelStart"}),i.cloneElement(t,{ref:b}),i.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelEnd"}))},sv={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},cv=i.forwardRef((function(e,t){var n=e.invisible,r=void 0!==n&&n,a=e.open,o=re(e,["invisible","open"]);return a?i.createElement("div",f({"aria-hidden":!0,ref:t},o,{style:f({},sv.root,r?sv.invisible:{},o.style)})):null}));var lv=new ov,fv=i.forwardRef((function(e,t){var n=Rt(),r=Tr({name:"MuiModal",props:f({},e),theme:n}),o=r.BackdropComponent,u=void 0===o?cv:o,s=r.BackdropProps,c=r.children,l=r.closeAfterTransition,h=void 0!==l&&l,d=r.container,p=r.disableAutoFocus,v=void 0!==p&&p,m=r.disableBackdropClick,y=void 0!==m&&m,g=r.disableEnforceFocus,b=void 0!==g&&g,k=r.disableEscapeKeyDown,w=void 0!==k&&k,x=r.disablePortal,E=void 0!==x&&x,S=r.disableRestoreFocus,I=void 0!==S&&S,_=r.disableScrollLock,T=void 0!==_&&_,C=r.hideBackdrop,N=void 0!==C&&C,R=r.keepMounted,A=void 0!==R&&R,P=r.manager,D=void 0===P?lv:P,O=r.onBackdropClick,L=r.onClose,M=r.onEscapeKeyDown,F=r.onRendered,V=r.open,U=re(r,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),j=i.useState(!0),z=j[0],B=j[1],q=i.useRef({}),W=i.useRef(null),K=i.useRef(null),G=qi(K,t),H=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(r),$=function(){return Qp(W.current)},Q=function(){return q.current.modalRef=K.current,q.current.mountNode=W.current,q.current},Y=function(){D.mount(Q(),{disableScrollLock:T}),K.current.scrollTop=0},J=Ki((function(){var e=function(e){return e="function"===typeof e?e():e,a.findDOMNode(e)}(d)||$().body;D.add(Q(),e),K.current&&Y()})),X=i.useCallback((function(){return D.isTopModal(Q())}),[D]),Z=Ki((function(e){W.current=e,e&&(F&&F(),V&&X()?Y():tv(K.current,!0))})),ee=i.useCallback((function(){D.remove(Q())}),[D]);if(i.useEffect((function(){return function(){ee()}}),[ee]),i.useEffect((function(){V?J():H&&h||ee()}),[V,ee,H,h,J]),!A&&!V&&(!H||z))return null;var te=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:Ii}),ne={};return void 0===c.props.tabIndex&&(ne.tabIndex=c.props.tabIndex||"-1"),H&&(ne.onEnter=Jp((function(){B(!1)}),c.props.onEnter),ne.onExited=Jp((function(){B(!0),h&&ee()}),c.props.onExited)),i.createElement(Zp,{ref:Z,container:d,disablePortal:E},i.createElement("div",f({ref:G,onKeyDown:function(e){"Escape"===e.key&&X()&&(M&&M(e),w||(e.stopPropagation(),L&&L(e,"escapeKeyDown")))},role:"presentation"},U,{style:f({},te.root,!V&&z?te.hidden:{},U.style)}),N?null:i.createElement(u,f({open:V,onClick:function(e){e.target===e.currentTarget&&(O&&O(e),!y&&L&&L(e,"backdropClick"))}},s)),i.createElement(uv,{disableEnforceFocus:b,disableAutoFocus:v,disableRestoreFocus:I,getDoc:$,isEnabled:X,open:V},i.cloneElement(c,ne))))})),hv=!1,dv="unmounted",pv="exited",vv="entering",mv="entered",yv="exiting",gv=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=pv,r.appearStatus=vv):i=mv:i=t.unmountOnExit||t.mountOnEnter?dv:pv,r.state={status:i},r.nextCallback=null,r}de(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===dv?{status:pv}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==vv&&n!==mv&&(t=vv):n!==vv&&n!==mv||(t=yv)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===vv?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===pv&&this.setState({status:dv})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[a.findDOMNode(this),r],o=i[0],u=i[1],s=this.getTimeouts(),c=r?s.appear:s.enter;!e&&!n||hv?this.safeSetState({status:mv},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,u),this.safeSetState({status:vv},(function(){t.props.onEntering(o,u),t.onTransitionEnd(c,(function(){t.safeSetState({status:mv},(function(){t.props.onEntered(o,u)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!hv?(this.props.onExit(r),this.safeSetState({status:yv},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:pv},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:pv},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],u=i[1];this.props.addEndListener(o,u)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===dv)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,ne(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(na.Provider,{value:null},"function"===typeof n?n(e,r):i.cloneElement(i.Children.only(n),r))},t}(i.Component);function bv(){}gv.contextType=na,gv.propTypes={},gv.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:bv,onEntering:bv,onEntered:bv,onExit:bv,onExiting:bv,onExited:bv},gv.UNMOUNTED=dv,gv.EXITED=pv,gv.ENTERING=vv,gv.ENTERED=mv,gv.EXITING=yv;var kv=gv;function wv(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}function xv(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var Ev={entering:{opacity:1,transform:xv(1)},entered:{opacity:1,transform:"none"}},Sv=i.forwardRef((function(e,t){var n=e.children,r=e.disableStrictModeCompat,a=void 0!==r&&r,o=e.in,u=e.onEnter,s=e.onEntered,c=e.onEntering,h=e.onExit,d=e.onExited,p=e.onExiting,v=e.style,m=e.timeout,y=void 0===m?"auto":m,g=e.TransitionComponent,b=void 0===g?kv:g,k=re(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),w=i.useRef(),x=i.useRef(),E=Op(),S=E.unstable_strictMode&&!a,I=i.useRef(null),_=qi(n.ref,t),T=qi(S?I:void 0,_),C=function(e){return function(t,n){if(e){var r=l(S?[I.current,t]:[t,n],2),i=r[0],a=r[1];void 0===a?e(i):e(i,a)}}},N=C(c),R=C((function(e,t){!function(e){e.scrollTop}(e);var n,r=wv({style:v,timeout:y},{mode:"enter"}),i=r.duration,a=r.delay;"auto"===y?(n=E.transitions.getAutoHeightDuration(e.clientHeight),x.current=n):n=i,e.style.transition=[E.transitions.create("opacity",{duration:n,delay:a}),E.transitions.create("transform",{duration:.666*n,delay:a})].join(","),u&&u(e,t)})),A=C(s),P=C(p),D=C((function(e){var t,n=wv({style:v,timeout:y},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===y?(t=E.transitions.getAutoHeightDuration(e.clientHeight),x.current=t):t=r,e.style.transition=[E.transitions.create("opacity",{duration:t,delay:i}),E.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=xv(.75),h&&h(e)})),O=C(d);return i.useEffect((function(){return function(){clearTimeout(w.current)}}),[]),i.createElement(b,f({appear:!0,in:o,nodeRef:S?I:void 0,onEnter:R,onEntered:A,onEntering:N,onExit:D,onExited:O,onExiting:P,addEndListener:function(e,t){var n=S?e:t;"auto"===y&&(w.current=setTimeout(n,x.current||0))},timeout:"auto"===y?null:y},k),(function(e,t){return i.cloneElement(n,f({style:f({opacity:0,transform:xv(.75),visibility:"exited"!==e||o?void 0:"hidden"},Ev[e],v,n.props.style),ref:T},t))}))}));Sv.muiSupportAuto=!0;var Iv=Sv;function _v(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Tv(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Cv(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function Nv(e){return"function"===typeof e?e():e}var Rv=i.forwardRef((function(e,t){var n=e.action,r=e.anchorEl,o=e.anchorOrigin,u=void 0===o?{vertical:"top",horizontal:"left"}:o,s=e.anchorPosition,c=e.anchorReference,l=void 0===c?"anchorEl":c,h=e.children,d=e.classes,p=e.className,v=e.container,m=e.elevation,y=void 0===m?8:m,g=e.getContentAnchorEl,b=e.marginThreshold,k=void 0===b?16:b,w=e.onEnter,x=e.onEntered,E=e.onEntering,S=e.onExit,I=e.onExited,_=e.onExiting,T=e.open,C=e.PaperProps,N=void 0===C?{}:C,R=e.transformOrigin,A=void 0===R?{vertical:"top",horizontal:"left"}:R,P=e.TransitionComponent,D=void 0===P?Iv:P,O=e.transitionDuration,L=void 0===O?"auto":O,M=e.TransitionProps,F=void 0===M?{}:M,V=re(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),U=i.useRef(),j=i.useCallback((function(e){if("anchorPosition"===l)return s;var t=Nv(r),n=(t&&1===t.nodeType?t:Qp(U.current).body).getBoundingClientRect(),i=0===e?u.vertical:"center";return{top:n.top+_v(n,i),left:n.left+Tv(n,u.horizontal)}}),[r,u.horizontal,u.vertical,s,l]),z=i.useCallback((function(e){var t=0;if(g&&"anchorEl"===l){var n=g(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[u.vertical,l,g]),B=i.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:_v(e,A.vertical)+t,horizontal:Tv(e,A.horizontal)}}),[A.horizontal,A.vertical]),q=i.useCallback((function(e){var t=z(e),n={width:e.offsetWidth,height:e.offsetHeight},i=B(n,t);if("none"===l)return{top:null,left:null,transformOrigin:Cv(i)};var a=j(t),o=a.top-i.vertical,u=a.left-i.horizontal,s=o+n.height,c=u+n.width,f=Yp(Nv(r)),h=f.innerHeight-k,d=f.innerWidth-k;if(o<k){var p=o-k;o-=p,i.vertical+=p}else if(s>h){var v=s-h;o-=v,i.vertical+=v}if(u<k){var m=u-k;u-=m,i.horizontal+=m}else if(c>d){var y=c-d;u-=y,i.horizontal+=y}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(u),"px"),transformOrigin:Cv(i)}}),[r,l,j,z,B,k]),W=i.useCallback((function(){var e=U.current;if(e){var t=q(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[q]),K=i.useCallback((function(e){U.current=a.findDOMNode(e)}),[]);i.useEffect((function(){T&&W()})),i.useImperativeHandle(n,(function(){return T?{updatePosition:function(){W()}}:null}),[T,W]),i.useEffect((function(){if(T){var e=bp((function(){W()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[T,W]);var G=L;"auto"!==L||D.muiSupportAuto||(G=void 0);var H=v||(r?Qp(Nv(r)).body:void 0);return i.createElement(fv,f({container:H,open:T,ref:t,BackdropProps:{invisible:!0},className:ae(d.root,p)},V),i.createElement(D,f({appear:!0,in:T,onEnter:w,onEntered:x,onExit:S,onExited:I,onExiting:_,timeout:G},F,{onEntering:Jp((function(e,t){E&&E(e,t),W()}),F.onEntering)}),i.createElement(Ai,f({elevation:y,ref:K},N,{className:ae(d.paper,N.className)}),h)))})),Av=Ci({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(Rv);var Pv=i.createContext({}),Dv=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,o=e.component,u=void 0===o?"ul":o,s=e.dense,c=void 0!==s&&s,l=e.disablePadding,h=void 0!==l&&l,d=e.subheader,p=re(e,["children","classes","className","component","dense","disablePadding","subheader"]),v=i.useMemo((function(){return{dense:c}}),[c]);return i.createElement(Pv.Provider,{value:v},i.createElement(u,f({className:ae(r.root,a,c&&r.dense,!h&&r.padding,d&&r.subheader),ref:t},p),d,n))})),Ov=Ci({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(Dv);function Lv(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Mv(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Fv(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Vv(e,t,n,r,i,a){for(var o=!1,u=i(e,t,!!t&&n);u;){if(u===e.firstChild){if(o)return;o=!0}var s=!r&&(u.disabled||"true"===u.getAttribute("aria-disabled"));if(u.hasAttribute("tabindex")&&Fv(u,a)&&!s)return void u.focus();u=i(e,u,n)}}var Uv="undefined"===typeof window?i.useEffect:i.useLayoutEffect,jv=i.forwardRef((function(e,t){var n=e.actions,r=e.autoFocus,o=void 0!==r&&r,u=e.autoFocusItem,s=void 0!==u&&u,c=e.children,l=e.className,h=e.disabledItemsFocusable,d=void 0!==h&&h,p=e.disableListWrap,v=void 0!==p&&p,m=e.onKeyDown,y=e.variant,g=void 0===y?"selectedMenu":y,b=re(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),k=i.useRef(null),w=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Uv((function(){o&&k.current.focus()}),[o]),i.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!k.current.style.width;if(e.clientHeight<k.current.clientHeight&&n){var r="".concat(ev(),"px");k.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,k.current.style.width="calc(100% + ".concat(r,")")}return k.current}}}),[]);var x=qi(i.useCallback((function(e){k.current=a.findDOMNode(e)}),[]),t),E=-1;i.Children.forEach(c,(function(e,t){i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===g&&e.props.selected||-1===E)&&(E=t))}));var S=i.Children.map(c,(function(e,t){if(t===E){var n={};return s&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===g&&(n.tabIndex=0),i.cloneElement(e,n)}return e}));return i.createElement(Ov,f({role:"menu",ref:x,className:l,onKeyDown:function(e){var t=k.current,n=e.key,r=Qp(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Vv(t,r,v,d,Lv);else if("ArrowUp"===n)e.preventDefault(),Vv(t,r,v,d,Mv);else if("Home"===n)e.preventDefault(),Vv(t,null,v,d,Lv);else if("End"===n)e.preventDefault(),Vv(t,null,v,d,Mv);else if(1===n.length){var i=w.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var u=r&&!i.repeating&&Fv(r,i);i.previousKeyMatched&&(u||Vv(t,r,!1,d,Lv,i))?e.preventDefault():i.previousKeyMatched=!1}m&&m(e)},tabIndex:o?0:-1},b),S)})),zv=jv,Bv={vertical:"top",horizontal:"right"},qv={vertical:"top",horizontal:"left"},Wv=i.forwardRef((function(e,t){var n=e.autoFocus,r=void 0===n||n,o=e.children,u=e.classes,s=e.disableAutoFocusItem,c=void 0!==s&&s,l=e.MenuListProps,h=void 0===l?{}:l,d=e.onClose,p=e.onEntering,v=e.open,m=e.PaperProps,y=void 0===m?{}:m,g=e.PopoverClasses,b=e.transitionDuration,k=void 0===b?"auto":b,w=e.TransitionProps,x=(w=void 0===w?{}:w).onEntering,E=re(w,["onEntering"]),S=e.variant,I=void 0===S?"selectedMenu":S,_=re(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),T=Op(),C=r&&!c&&v,N=i.useRef(null),R=i.useRef(null),A=-1;i.Children.map(o,(function(e,t){i.isValidElement(e)&&(e.props.disabled||("menu"!==I&&e.props.selected||-1===A)&&(A=t))}));var P=i.Children.map(o,(function(e,t){return t===A?i.cloneElement(e,{ref:function(t){R.current=a.findDOMNode(t),Bi(e.ref,t)}}):e}));return i.createElement(Av,f({getContentAnchorEl:function(){return R.current},classes:g,onClose:d,TransitionProps:f({onEntering:function(e,t){N.current&&N.current.adjustStyleForScrollbar(e,T),p&&p(e,t),x&&x(e,t)}},E),anchorOrigin:"rtl"===T.direction?Bv:qv,transformOrigin:"rtl"===T.direction?Bv:qv,PaperProps:f({},y,{classes:f({},y.classes,{root:u.paper})}),open:v,ref:t,transitionDuration:k},_),i.createElement(zv,f({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),d&&d(e,"tabKeyDown"))},actions:N,autoFocus:r&&(-1===A||c),autoFocusItem:C,variant:I},h,{className:ae(u.list,h.className)}),P))})),Kv=Ci({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(Wv);function Gv(e,t){return"object"===mr(t)&&null!==t?e===t:String(e)===String(t)}var Hv=i.forwardRef((function(e,t){var n=e["aria-label"],r=e.autoFocus,a=e.autoWidth,o=e.children,u=e.classes,s=e.className,c=e.defaultValue,h=e.disabled,d=e.displayEmpty,p=e.IconComponent,v=e.inputRef,m=e.labelId,y=e.MenuProps,g=void 0===y?{}:y,b=e.multiple,k=e.name,w=e.onBlur,x=e.onChange,E=e.onClose,S=e.onFocus,I=e.onOpen,_=e.open,T=e.readOnly,C=e.renderValue,N=e.SelectDisplayProps,R=void 0===N?{}:N,A=e.tabIndex,P=(e.type,e.value),D=e.variant,O=void 0===D?"standard":D,L=re(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),M=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,i.useRef(void 0!==t).current),a=i.useState(n),o=a[0],u=a[1];return[r?t:o,i.useCallback((function(e){r||u(e)}),[])]}({controlled:P,default:c,name:"Select"}),F=l(M,2),V=F[0],U=F[1],j=i.useRef(null),z=i.useState(null),B=z[0],q=z[1],W=i.useRef(null!=_).current,K=i.useState(),G=K[0],H=K[1],$=i.useState(!1),Q=$[0],Y=$[1],J=qi(t,v);i.useImperativeHandle(J,(function(){return{focus:function(){B.focus()},node:j.current,value:V}}),[B,V]),i.useEffect((function(){r&&B&&B.focus()}),[r,B]),i.useEffect((function(){if(B){var e=Qp(B).getElementById(m);if(e){var t=function(){getSelection().isCollapsed&&B.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[m,B]);var X,Z,ee=function(e,t){e?I&&I(t):E&&E(t),W||(H(a?null:B.clientWidth),Y(e))},te=i.Children.toArray(o),ne=function(e){return function(t){var n;if(b||ee(!1,t),b){n=Array.isArray(V)?V.slice():[];var r=V.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),V!==n&&(U(n),x&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:k}}),x(t,e)))}},ie=null!==B&&(W?_:Q);delete L["aria-invalid"];var oe=[],ue=!1;(_p({value:V})||d)&&(C?X=C(V):ue=!0);var se=te.map((function(e){if(!i.isValidElement(e))return null;var t;if(b){if(!Array.isArray(V))throw new Error(Dr(2));t=V.some((function(t){return Gv(t,e.props.value)})),t&&ue&&oe.push(e.props.children)}else(t=Gv(V,e.props.value))&&ue&&(Z=e.props.children);return t&&!0,i.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:ne(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));ue&&(X=b?oe.join(", "):Z);var ce,le=G;!a&&W&&B&&(le=B.clientWidth),ce="undefined"!==typeof A?A:h?null:0;var fe=R.id||(k?"mui-component-select-".concat(k):void 0);return i.createElement(i.Fragment,null,i.createElement("div",f({className:ae(u.root,u.select,u.selectMenu,u[O],s,h&&u.disabled),ref:q,tabIndex:ce,role:"button","aria-disabled":h?"true":void 0,"aria-expanded":ie?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[m,fe].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!T){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ee(!0,e))}},onMouseDown:h||T?null:function(e){0===e.button&&(e.preventDefault(),B.focus(),ee(!0,e))},onBlur:function(e){!ie&&w&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:V,name:k}}),w(e))},onFocus:S},R,{id:fe}),function(e){return null==e||"string"===typeof e&&!e.trim()}(X)?i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):X),i.createElement("input",f({value:Array.isArray(V)?V.join(","):V,name:k,ref:j,"aria-hidden":!0,onChange:function(e){var t=te.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=te[t];U(n.props.value),x&&x(e,n)}},tabIndex:-1,className:u.nativeInput,autoFocus:r},L)),i.createElement(p,{className:ae(u.icon,u["icon".concat(Ni(O))],ie&&u.iconOpen,h&&u.disabled)}),i.createElement(Kv,f({id:"menu-".concat(k||""),anchorEl:B,open:ie,onClose:function(e){ee(!1,e)}},g,{MenuListProps:f({"aria-labelledby":m,role:"listbox",disableListWrap:!0},g.MenuListProps),PaperProps:f({},g.PaperProps,{style:f({minWidth:le},null!=g.PaperProps?g.PaperProps.style:null)})}),se))})),$v=Hv,Qv=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,o=e.color,u=void 0===o?"inherit":o,s=e.component,c=void 0===s?"svg":s,l=e.fontSize,h=void 0===l?"medium":l,d=e.htmlColor,p=e.titleAccess,v=e.viewBox,m=void 0===v?"0 0 24 24":v,y=re(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return i.createElement(c,f({className:ae(r.root,a,"inherit"!==u&&r["color".concat(Ni(u))],"default"!==h&&"medium"!==h&&r["fontSize".concat(Ni(h))]),focusable:"false",viewBox:m,color:d,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:t},y),n,p?i.createElement("title",null,p):null)}));Qv.muiName="SvgIcon";var Yv=Ci((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(Qv);function Jv(e,t){var n=function(t,n){return i.createElement(Yv,f({ref:n},t),e)};return n.muiName=Yv.muiName,i.memo(i.forwardRef(n))}var Xv=Jv(i.createElement("path",{d:"M7 10l5 5 5-5z"})),Zv=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.disabled,o=e.IconComponent,u=e.inputRef,s=e.variant,c=void 0===s?"standard":s,l=re(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return i.createElement(i.Fragment,null,i.createElement("select",f({className:ae(n.root,n.select,n[c],r,a&&n.disabled),disabled:a,ref:u||t},l)),e.multiple?null:i.createElement(o,{className:ae(n.icon,n["icon".concat(Ni(c))],a&&n.disabled)}))})),em=Zv,tm=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},nm=i.createElement(Ap,null),rm=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.IconComponent,o=void 0===a?Xv:a,u=e.input,s=void 0===u?nm:u,c=e.inputProps,l=(e.variant,re(e,["children","classes","IconComponent","input","inputProps","variant"])),h=mp({props:e,muiFormControl:Up(),states:["variant"]});return i.cloneElement(s,f({inputComponent:em,inputProps:f({children:n,classes:r,IconComponent:o,variant:h.variant,type:void 0},c,s?s.props.inputProps:{}),ref:t},l))}));rm.muiName="Select";Ci(tm,{name:"MuiNativeSelect"})(rm);var im=tm,am=i.createElement(Ap,null),om=i.createElement(Dp,null),um=i.forwardRef((function e(t,n){var r=t.autoWidth,a=void 0!==r&&r,o=t.children,u=t.classes,s=t.displayEmpty,c=void 0!==s&&s,l=t.IconComponent,h=void 0===l?Xv:l,d=t.id,p=t.input,v=t.inputProps,m=t.label,y=t.labelId,g=t.labelWidth,b=void 0===g?0:g,k=t.MenuProps,w=t.multiple,x=void 0!==w&&w,E=t.native,S=void 0!==E&&E,I=t.onClose,_=t.onOpen,T=t.open,C=t.renderValue,N=t.SelectDisplayProps,R=t.variant,A=void 0===R?"standard":R,P=re(t,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),D=S?em:$v,O=mp({props:t,muiFormControl:Up(),states:["variant"]}).variant||A,L=p||{standard:am,outlined:i.createElement(Vp,{label:m,labelWidth:b}),filled:om}[O];return i.cloneElement(L,f({inputComponent:D,inputProps:f({children:o,IconComponent:h,variant:O,type:void 0,multiple:x},S?{id:d}:{autoWidth:a,displayEmpty:c,labelId:y,MenuProps:k,onClose:I,onOpen:_,open:T,renderValue:C,SelectDisplayProps:f({id:d},N)},v,{classes:v?_t({baseClasses:u,newClasses:v.classes,Component:e}):u},p?p.props.inputProps:{}),ref:n},P))}));um.muiName="Select";var sm=Ci(im,{name:"MuiSelect"})(um),cm={standard:Ap,filled:Dp,outlined:Vp},lm=i.forwardRef((function(e,t){var n=e.autoComplete,r=e.autoFocus,a=void 0!==r&&r,o=e.children,u=e.classes,s=e.className,c=e.color,l=void 0===c?"primary":c,h=e.defaultValue,d=e.disabled,p=void 0!==d&&d,v=e.error,m=void 0!==v&&v,y=e.FormHelperTextProps,g=e.fullWidth,b=void 0!==g&&g,k=e.helperText,w=e.hiddenLabel,x=e.id,E=e.InputLabelProps,S=e.inputProps,I=e.InputProps,_=e.inputRef,T=e.label,C=e.multiline,N=void 0!==C&&C,R=e.name,A=e.onBlur,P=e.onChange,D=e.onFocus,O=e.placeholder,L=e.required,M=void 0!==L&&L,F=e.rows,V=e.rowsMax,U=e.maxRows,j=e.minRows,z=e.select,B=void 0!==z&&z,q=e.SelectProps,W=e.type,K=e.value,G=e.variant,H=void 0===G?"standard":G,$=re(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]);var Q={};if("outlined"===H&&(E&&"undefined"!==typeof E.shrink&&(Q.notched=E.shrink),T)){var Y,J=null!==(Y=null===E||void 0===E?void 0:E.required)&&void 0!==Y?Y:M;Q.label=i.createElement(i.Fragment,null,T,J&&"\xa0*")}B&&(q&&q.native||(Q.id=void 0),Q["aria-describedby"]=void 0);var X=k&&x?"".concat(x,"-helper-text"):void 0,Z=T&&x?"".concat(x,"-label"):void 0,ee=cm[H],te=i.createElement(ee,f({"aria-describedby":X,autoComplete:n,autoFocus:a,defaultValue:h,fullWidth:b,multiline:N,name:R,rows:F,rowsMax:V,maxRows:U,minRows:j,type:W,value:K,id:x,inputRef:_,onBlur:A,onChange:P,onFocus:D,placeholder:O,inputProps:S},Q,I));return i.createElement(Gp,f({className:ae(u.root,s),disabled:p,error:m,fullWidth:b,hiddenLabel:w,ref:t,required:M,color:l,variant:H},$),T&&i.createElement(qp,f({htmlFor:x,id:Z},E),T),B?i.createElement(sm,f({"aria-describedby":X,id:x,labelId:Z,value:K,input:te},q),o):te,k&&i.createElement($p,f({id:X},y),k))})),fm=Ci({root:{}},{name:"MuiTextField"})(lm),hm=Jv(i.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));var dm,pm=i.forwardRef((function(e,t){var n=e.alt,r=e.children,a=e.classes,o=e.className,u=e.component,s=void 0===u?"div":u,c=e.imgProps,l=e.sizes,h=e.src,d=e.srcSet,p=e.variant,v=void 0===p?"circular":p,m=re(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),y=null,g=function(e){var t=e.src,n=e.srcSet,r=i.useState(!1),a=r[0],o=r[1];return i.useEffect((function(){if(t||n){o(!1);var e=!0,r=new Image;return r.src=t,r.srcSet=n,r.onload=function(){e&&o("loaded")},r.onerror=function(){e&&o("error")},function(){e=!1}}}),[t,n]),a}({src:h,srcSet:d}),b=h||d,k=b&&"error"!==g;return y=k?i.createElement("img",f({alt:n,src:h,srcSet:d,sizes:l,className:a.img},c)):null!=r?r:b&&n?n[0]:i.createElement(hm,{className:a.fallback}),i.createElement(s,f({className:ae(a.root,a.system,a[v],o,!k&&a.colorDefault),ref:t},m),y)})),vm=Ci((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(pm),mm="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ym={},gm=gm||{},bm=mm||self;function km(){}function wm(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function xm(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Em="closure_uid_"+(1e9*Math.random()>>>0),Sm=0;function Im(e,t,n){return e.call.apply(e.bind,arguments)}function _m(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Tm(e,t,n){return(Tm=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Im:_m).apply(null,arguments)}function Cm(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Nm(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Rm(){this.s=this.s,this.o=this.o}var Am={};Rm.prototype.s=!1,Rm.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Em)&&e[Em]||(e[Em]=++Sm)}(this);delete Am[e]}},Rm.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Pm=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Dm=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Om(e){return Array.prototype.concat.apply([],arguments)}function Lm(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Mm(e){return/^[\s\xa0]*$/.test(e)}var Fm,Vm=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Um(e,t){return-1!=e.indexOf(t)}function jm(e,t){return e<t?-1:e>t?1:0}e:{var zm=bm.navigator;if(zm){var Bm=zm.userAgent;if(Bm){Fm=Bm;break e}}Fm=""}function qm(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Wm(e){var t={};for(var n in e)t[n]=e[n];return t}var Km="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gm(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Km.length;a++)n=Km[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Hm(e){return Hm[" "](e),e}Hm[" "]=km;var $m,Qm=Um(Fm,"Opera"),Ym=Um(Fm,"Trident")||Um(Fm,"MSIE"),Jm=Um(Fm,"Edge"),Xm=Jm||Ym,Zm=Um(Fm,"Gecko")&&!(Um(Fm.toLowerCase(),"webkit")&&!Um(Fm,"Edge"))&&!(Um(Fm,"Trident")||Um(Fm,"MSIE"))&&!Um(Fm,"Edge"),ey=Um(Fm.toLowerCase(),"webkit")&&!Um(Fm,"Edge");function ty(){var e=bm.document;return e?e.documentMode:void 0}e:{var ny="",ry=function(){var e=Fm;return Zm?/rv:([^\);]+)(\)|;)/.exec(e):Jm?/Edge\/([\d\.]+)/.exec(e):Ym?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ey?/WebKit\/(\S+)/.exec(e):Qm?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ry&&(ny=ry?ry[1]:""),Ym){var iy=ty();if(null!=iy&&iy>parseFloat(ny)){$m=String(iy);break e}}$m=ny}var ay,oy={};function uy(){return function(e){var t=oy;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Vm(String($m)).split("."),n=Vm("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=jm(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||jm(0==a[2].length,0==o[2].length)||jm(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(bm.document&&Ym){var sy=ty();ay=sy||(parseInt($m,10)||void 0)}else ay=void 0;var cy=ay,ly=function(){if(!bm.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{bm.addEventListener("test",km,t),bm.removeEventListener("test",km,t)}catch(n){}return e}();function fy(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function hy(e,t){if(fy.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Zm){e:{try{Hm(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:dy[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&hy.Z.h.call(this)}}fy.prototype.h=function(){this.defaultPrevented=!0},Nm(hy,fy);var dy={2:"touch",3:"pen",4:"mouse"};hy.prototype.h=function(){hy.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var py="closure_listenable_"+(1e6*Math.random()|0),vy=0;function my(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++vy,this.ca=this.fa=!1}function yy(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function gy(e){this.src=e,this.g={},this.h=0}function by(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Pm(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(yy(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ky(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}gy.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ky(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new my(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var wy="closure_lm_"+(1e6*Math.random()|0),xy={};function Ey(e,t,n,r,i){if(r&&r.once)return Iy(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ey(e,t[a],n,r,i);return null}return n=Py(n),e&&e[py]?e.N(t,n,xm(r)?!!r.capture:!!r,i):Sy(e,t,n,!1,r,i)}function Sy(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=xm(i)?!!i.capture:!!i,u=Ry(e);if(u||(e[wy]=u=new gy(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ny;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ly||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Cy(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Iy(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Iy(e,t[a],n,r,i);return null}return n=Py(n),e&&e[py]?e.O(t,n,xm(r)?!!r.capture:!!r,i):Sy(e,t,n,!0,r,i)}function _y(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)_y(e,t[a],n,r,i);else r=xm(r)?!!r.capture:!!r,n=Py(n),e&&e[py]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ky(a=e.g[t],n,r,i))&&(yy(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ry(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ky(t,n,r,i)),(n=-1<e?t[e]:null)&&Ty(n))}function Ty(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[py])by(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Cy(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ry(t))?(by(n,e),0==n.h&&(n.src=null,t[wy]=null)):yy(e)}}}function Cy(e){return e in xy?xy[e]:xy[e]="on"+e}function Ny(e,t){if(e.ca)e=!0;else{t=new hy(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Ty(e),e=n.call(r,t)}return e}function Ry(e){return(e=e[wy])instanceof gy?e:null}var Ay="__closure_events_fn_"+(1e9*Math.random()>>>0);function Py(e){return"function"===typeof e?e:(e[Ay]||(e[Ay]=function(t){return e.handleEvent(t)}),e[Ay])}function Dy(){Rm.call(this),this.i=new gy(this),this.P=this,this.I=null}function Oy(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new fy(t,e);else if(t instanceof fy)t.target=t.target||e;else{var i=t;Gm(t=new fy(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ly(o,r,!0,t)&&i}if(i=Ly(o=t.g=e,r,!0,t)&&i,i=Ly(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ly(o=t.g=n[a],r,!1,t)&&i}function Ly(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&by(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Nm(Dy,Rm),Dy.prototype[py]=!0,Dy.prototype.removeEventListener=function(e,t,n,r){_y(this,e,t,n,r)},Dy.prototype.M=function(){if(Dy.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)yy(n[r]);delete t.g[e],t.h--}}this.I=null},Dy.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Dy.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var My=bm.JSON.stringify;function Fy(){var e=Ky,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Vy,Uy=function(){function e(){Na(this,e),this.h=this.g=null}return fe(e,[{key:"add",value:function(e,t){var n=jy.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),jy=new(function(){function e(t,n){Na(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return fe(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new zy}),(function(e){return e.reset()})),zy=function(){function e(){Na(this,e),this.next=this.g=this.h=null}return fe(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function By(e){bm.setTimeout((function(){throw e}),0)}function qy(e,t){Vy||function(){var e=bm.Promise.resolve(void 0);Vy=function(){e.then(Gy)}}(),Wy||(Vy(),Wy=!0),Ky.add(e,t)}var Wy=!1,Ky=new Uy;function Gy(){for(var e;e=Fy();){try{e.h.call(e.g)}catch(n){By(n)}var t=jy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Wy=!1}function Hy(e,t){Dy.call(this),this.h=e||1,this.g=t||bm,this.j=Tm(this.kb,this),this.l=Date.now()}function $y(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Qy(e,t,n){if("function"===typeof e)n&&(e=Tm(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Tm(e.handleEvent,e)}return 2147483647<Number(t)?-1:bm.setTimeout(e,t||0)}function Yy(e){e.g=Qy((function(){e.g=null,e.i&&(e.i=!1,Yy(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Nm(Hy,Dy),(dm=Hy.prototype).da=!1,dm.S=null,dm.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Oy(this,"tick"),this.da&&($y(this),this.start()))}},dm.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dm.M=function(){Hy.Z.M.call(this),$y(this),delete this.g};var Jy=function(e){xa(n,e);var t=Ia(n);function n(e,r){var i;return Na(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return fe(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Yy(this)}},{key:"M",value:function(){wa(ba(n.prototype),"M",this).call(this),this.g&&(bm.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Rm);function Xy(e){Rm.call(this),this.h=e,this.g={}}Nm(Xy,Rm);var Zy=[];function eg(e,t,n,r){Array.isArray(n)||(n&&(Zy[0]=n.toString()),n=Zy);for(var i=0;i<n.length;i++){var a=Ey(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function tg(e){qm(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ty(e)}),e),e.g={}}function ng(){this.g=!0}function rg(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return My(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Xy.prototype.M=function(){Xy.Z.M.call(this),tg(this)},Xy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ng.prototype.Aa=function(){this.g=!1},ng.prototype.info=function(){};var ig={},ag=null;function og(){return ag=ag||new Dy}function ug(e){fy.call(this,ig.Ma,e)}function sg(e){var t=og();Oy(t,new ug(t,e))}function cg(e,t){fy.call(this,ig.STAT_EVENT,e),this.stat=t}function lg(e){var t=og();Oy(t,new cg(t,e))}function fg(e,t){fy.call(this,ig.Na,e),this.size=t}function hg(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return bm.setTimeout((function(){e()}),t)}ig.Ma="serverreachability",Nm(ug,fy),ig.STAT_EVENT="statevent",Nm(cg,fy),ig.Na="timingevent",Nm(fg,fy);var dg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},pg={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function vg(){}function mg(e){return e.h||(e.h=e.i())}function yg(){}vg.prototype.h=null;var gg,bg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function kg(){fy.call(this,"d")}function wg(){fy.call(this,"c")}function xg(){}function Eg(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Xy(this),this.P=Ig,e=Xm?125:void 0,this.W=new Hy(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Sg}function Sg(){this.i=null,this.g="",this.h=!1}Nm(kg,fy),Nm(wg,fy),Nm(xg,vg),xg.prototype.g=function(){return new XMLHttpRequest},xg.prototype.i=function(){return{}},gg=new xg;var Ig=45e3,_g={},Tg={};function Cg(e,t,n){e.K=1,e.v=Jg(Kg(t)),e.s=n,e.U=!0,Ng(e,null)}function Ng(e,t){e.F=Date.now(),Dg(e),e.A=Kg(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),lb(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Sg,e.g=hk(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Jy(Tm(e.Ia,e,e.g),e.O)),eg(e.V,e.g,"readystatechange",e.gb),t=e.H?Wm(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),sg(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Rg(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ag(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Pg(e,n))==Tg){4==t&&(e.o=4,lg(14),i=!1),rg(e.j,e.m,null,"[Incomplete Response]");break}if(r==_g){e.o=4,lg(15),rg(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}rg(e.j,e.m,r,null),Vg(e,r)}Rg(e)&&r!=Tg&&r!=_g&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,lg(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ik(t),t.L=!0,lg(11))):(rg(e.j,e.m,n,"[Invalid Chunked Response]"),Fg(e),Mg(e))}function Pg(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Tg:(n=Number(t.substring(n,r)),isNaN(n)?_g:(r+=1)+n>t.length?Tg:(t=t.substr(r,n),e.C=r+n,t))}function Dg(e){e.Y=Date.now()+e.P,Og(e,e.P)}function Og(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=hg(Tm(e.eb,e),t)}function Lg(e){e.B&&(bm.clearTimeout(e.B),e.B=null)}function Mg(e){0==e.l.G||e.I||uk(e.l,e)}function Fg(e){Lg(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,$y(e.W),tg(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Vg(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||gb(n.i,e)))if(n.I=e.N,!e.J&&gb(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ok(n),Qb(n)}rk(n),lg(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=hg(Tm(n.ab,n),6e3));if(1>=yb(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else ck(n,11)}else if((e.J||n.g==e)&&ok(n),!Mm(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Um(l,"spdy")||Um(l,"quic")||Um(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(bb(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Yg(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=fk(r,r.H?r.la:null,r.W),d.J){kb(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Lg(p),Dg(p)),r.g=d}else nk(r);0<n.l.length&&Xb(n)}else"stop"!=a[0]&&"close"!=a[0]||ck(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ck(n,7):$b(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}sg(4)}catch(a){}}function Ug(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(wm(e)||"string"===typeof e)Dm(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(wm(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(wm(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function jg(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof jg)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function zg(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Bg(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Bg(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Bg(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(dm=Eg.prototype).setTimeout=function(e){this.P=e},dm.gb=function(e){e=e.target;var t=this.L;t&&3==qb(e)?t.l():this.Ia(e)},dm.Ia=function(e){try{if(e==this.g)e:{var t=qb(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Xm||this.g&&(this.h.h||this.g.ga()||Wb(this.g)))){this.I||4!=t||7==n||sg(8==n||0>=r?3:2),Lg(this);var i=this.g.ba();this.N=i;t:if(Rg(this)){var a=Wb(this.g);e="";var o=a.length,u=4==qb(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Fg(this),Mg(this);var s="";break t}this.h.i=new bm.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mm(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,lg(12),Fg(this),Mg(this);break e}rg(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Vg(this,i)}this.U?(Ag(this,t,s),Xm&&this.i&&3==t&&(eg(this.V,this.W,"tick",this.fb),this.W.start())):(rg(this.j,this.m,s,null),Vg(this,s)),4==t&&Fg(this),this.i&&!this.I&&(4==t?uk(this.l,this):(this.i=!1,Dg(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,lg(12)):(this.o=0,lg(13)),Fg(this),Mg(this)}}}catch(t){}},dm.fb=function(){if(this.g){var e=qb(this.g),t=this.g.ga();this.C<t.length&&(Lg(this),Ag(this,e,t),this.i&&4!=e&&Dg(this))}},dm.cancel=function(){this.I=!0,Fg(this)},dm.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(sg(3),lg(17)),Fg(this),this.o=2,Mg(this)):Og(this,this.Y-e)},(dm=jg.prototype).R=function(){zg(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},dm.T=function(){return zg(this),this.g.concat()},dm.get=function(e,t){return Bg(this.h,e)?this.h[e]:t},dm.set=function(e,t){Bg(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},dm.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var qg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wg(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Wg){this.g=void 0!==t?t:e.g,Gg(this,e.j),this.s=e.s,Hg(this,e.i),$g(this,e.m),this.l=e.l,t=e.h;var n=new ob;n.i=t.i,t.g&&(n.g=new jg(t.g),n.h=t.h),Qg(this,n),this.o=e.o}else e&&(n=String(e).match(qg))?(this.g=!!t,Gg(this,n[1]||"",!0),this.s=Xg(n[2]||""),Hg(this,n[3]||"",!0),$g(this,n[4]),this.l=Xg(n[5]||"",!0),Qg(this,n[6]||"",!0),this.o=Xg(n[7]||"")):(this.g=!!t,this.h=new ob(null,this.g))}function Kg(e){return new Wg(e)}function Gg(e,t,n){e.j=n?Xg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Hg(e,t,n){e.i=n?Xg(t,!0):t}function $g(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Qg(e,t,n){t instanceof ob?(e.h=t,function(e,t){t&&!e.j&&(ub(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(sb(this,t),lb(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Zg(t,ib)),e.h=new ob(t,e.g))}function Yg(e,t,n){e.h.set(t,n)}function Jg(e){return Yg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Xg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Zg(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,eb),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function eb(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Wg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Zg(t,tb,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Zg(t,tb,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Zg(n,"/"==n.charAt(0)?rb:nb,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Zg(n,ab)),e.join("")};var tb=/[#\/\?@]/g,nb=/[#\?:]/g,rb=/[#\?]/g,ib=/[#\?@]/g,ab=/#/g;function ob(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ub(e){e.g||(e.g=new jg,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function sb(e,t){ub(e),t=fb(e,t),Bg(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Bg((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&zg(e)))}function cb(e,t){return ub(e),t=fb(e,t),Bg(e.g.h,t)}function lb(e,t,n){sb(e,t),0<n.length&&(e.i=null,e.g.set(fb(e,t),Lm(n)),e.h+=n.length)}function fb(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(dm=ob.prototype).add=function(e,t){ub(this),this.i=null,e=fb(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},dm.forEach=function(e,t){ub(this),this.g.forEach((function(n,r){Dm(n,(function(n){e.call(t,n,r,this)}),this)}),this)},dm.T=function(){ub(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},dm.R=function(e){ub(this);var t=[];if("string"===typeof e)cb(this,e)&&(t=Om(t,this.g.get(fb(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Om(t,e[n])}return t},dm.set=function(e,t){return ub(this),this.i=null,cb(this,e=fb(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},dm.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},dm.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var hb=fe((function e(t,n){Na(this,e),this.h=t,this.g=n}));function db(e){this.l=e||vb,bm.PerformanceNavigationTiming?e=0<(e=bm.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(bm.g&&bm.g.Ea&&bm.g.Ea()&&bm.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pb,vb=10;function mb(e){return!!e.h||!!e.g&&e.g.size>=e.j}function yb(e){return e.h?1:e.g?e.g.size:0}function gb(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function bb(e,t){e.g?e.g.add(t):e.h=t}function kb(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function wb(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=_a(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Lm(e.i)}function xb(){}function Eb(){this.g=new xb}function Sb(e,t,n){var r=n||"";try{Ug(e,(function(e,n){var i=e;xm(e)&&(i=My(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ib(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function _b(e){this.l=e.$b||null,this.j=e.ib||!1}function Tb(e,t){Dy.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Cb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}db.prototype.cancel=function(){if(this.i=wb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=_a(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},xb.prototype.stringify=function(e){return bm.JSON.stringify(e,void 0)},xb.prototype.parse=function(e){return bm.JSON.parse(e,void 0)},Nm(_b,vg),_b.prototype.g=function(){return new Tb(this.l,this.j)},_b.prototype.i=(pb={},function(){return pb}),Nm(Tb,Dy);var Cb=0;function Nb(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Rb(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ab(e)}function Ab(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(dm=Tb.prototype).open=function(e,t){if(this.readyState!=Cb)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ab(this)},dm.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||bm).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},dm.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rb(this)),this.readyState=Cb},dm.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ab(this)),this.g&&(this.readyState=3,Ab(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof bm.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Nb(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},dm.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rb(this):Ab(this),3==this.readyState&&Nb(this)}},dm.Ua=function(e){this.g&&(this.response=this.responseText=e,Rb(this))},dm.Ta=function(e){this.g&&(this.response=e,Rb(this))},dm.ha=function(){this.g&&Rb(this)},dm.setRequestHeader=function(e,t){this.v.append(e,t)},dm.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},dm.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Tb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Pb=bm.JSON.parse;function Db(e){Dy.call(this),this.headers=new jg,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ob,this.K=this.L=!1}Nm(Db,Dy);var Ob="",Lb=/^https?$/i,Mb=["POST","PUT"];function Fb(e){return"content-type"==e.toLowerCase()}function Vb(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ub(e),zb(e)}function Ub(e){e.D||(e.D=!0,Oy(e,"complete"),Oy(e,"error"))}function jb(e){if(e.h&&"undefined"!=typeof gm&&(!e.C[1]||4!=qb(e)||2!=e.ba()))if(e.v&&4==qb(e))Qy(e.Fa,0,e);else if(Oy(e,"readystatechange"),4==qb(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(qg)[1]||null;if(!a&&bm.self&&bm.self.location){var o=bm.self.location.protocol;a=o.substr(0,o.length-1)}i=!Lb.test(a?a.toLowerCase():"")}t=i}if(t)Oy(e,"complete"),Oy(e,"success");else{e.m=6;try{var u=2<qb(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Ub(e)}}finally{zb(e)}}}function zb(e,t){if(e.g){Bb(e);var n=e.g,r=e.C[0]?km:null;e.g=null,e.C=null,t||Oy(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Bb(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(bm.clearTimeout(e.A),e.A=null)}function qb(e){return e.g?e.g.readyState:0}function Wb(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ob:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Kb(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return qm(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Yg(e,t,n))}function Gb(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Hb(e){this.za=0,this.l=[],this.h=new ng,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Gb("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Gb("baseRetryDelayMs",5e3,e),this.$a=Gb("retryDelaySeedMs",1e4,e),this.Ya=Gb("forwardChannelMaxRetries",2,e),this.ra=Gb("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new db(e&&e.concurrentRequestLimit),this.Ca=new Eb,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function $b(e){if(Yb(e),3==e.G){var t=e.V++,n=Kg(e.F);Yg(n,"SID",e.J),Yg(n,"RID",t),Yg(n,"TYPE","terminate"),ek(e,n),(t=new Eg(e,e.h,t,void 0)).K=2,t.v=Jg(Kg(n)),n=!1,bm.navigator&&bm.navigator.sendBeacon&&(n=bm.navigator.sendBeacon(t.v.toString(),"")),!n&&bm.Image&&((new Image).src=t.v,n=!0),n||(t.g=hk(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Dg(t)}lk(e)}function Qb(e){e.g&&(ik(e),e.g.cancel(),e.g=null)}function Yb(e){Qb(e),e.u&&(bm.clearTimeout(e.u),e.u=null),ok(e),e.i.cancel(),e.m&&("number"===typeof e.m&&bm.clearTimeout(e.m),e.m=null)}function Jb(e,t){e.l.push(new hb(e.Za++,t)),3==e.G&&Xb(e)}function Xb(e){mb(e.i)||e.m||(e.m=!0,qy(e.Ha,e),e.C=0)}function Zb(e,t){var n;n=t?t.m:e.V++;var r=Kg(e.F);Yg(r,"SID",e.J),Yg(r,"RID",n),Yg(r,"AID",e.U),ek(e,r),e.o&&e.s&&Kb(r,e.o,e.s),n=new Eg(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=tk(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),bb(e.i,n),Cg(n,r,t)}function ek(e,t){e.j&&Ug({},(function(e,n){Yg(t,n,e)}))}function tk(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Tm(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Sb(l,o,"req"+c+"_")}catch(Uk){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function nk(e){e.g||e.u||(e.Y=1,qy(e.Ga,e),e.A=0)}function rk(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=hg(Tm(e.Ga,e),sk(e,e.A)),e.A++,!0)}function ik(e){null!=e.B&&(bm.clearTimeout(e.B),e.B=null)}function ak(e){e.g=new Eg(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Kg(e.oa);Yg(t,"RID","rpc"),Yg(t,"SID",e.J),Yg(t,"CI",e.N?"0":"1"),Yg(t,"AID",e.U),ek(e,t),Yg(t,"TYPE","xmlhttp"),e.o&&e.s&&Kb(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Jg(Kg(t)),n.s=null,n.U=!0,Ng(n,e)}function ok(e){null!=e.v&&(bm.clearTimeout(e.v),e.v=null)}function uk(e,t){var n=null;if(e.g==t){ok(e),ik(e),e.g=null;var r=2}else{if(!gb(e.i,t))return;n=t.D,kb(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Oy(r=og(),new fg(r,n,t,i)),Xb(e)}else nk(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(yb(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=hg(Tm(e.Ha,e,t),sk(e,e.C)),e.C++,!0))}(e,t)||2==r&&rk(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ck(e,5);break;case 4:ck(e,10);break;case 3:ck(e,6);break;default:ck(e,2)}}function sk(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ck(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Tm(e.jb,e);n||(n=new Wg("//www.google.com/images/cleardot.gif"),bm.location&&"http"==bm.location.protocol||Gg(n,"https"),Jg(n)),function(e,t){var n=new ng;if(bm.Image){var r=new Image;r.onload=Cm(Ib,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Cm(Ib,n,r,"TestLoadImage: error",!1,t),r.onabort=Cm(Ib,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Cm(Ib,n,r,"TestLoadImage: timeout",!1,t),bm.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else lg(2);e.G=0,e.j&&e.j.va(t),lk(e),Yb(e)}function lk(e){e.G=0,e.I=-1,e.j&&(0==wb(e.i).length&&0==e.l.length||(e.i.i.length=0,Lm(e.l),e.l.length=0),e.j.ua())}function fk(e,t,n){var r=function(e){return e instanceof Wg?Kg(e):new Wg(e,void 0)}(n);if(""!=r.i)t&&Hg(r,t+"."+r.i),$g(r,r.m);else{var i=bm.location;r=function(e,t,n,r){var i=new Wg(null,void 0);return e&&Gg(i,e),t&&Hg(i,t),n&&$g(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&qm(e.aa,(function(e,t){Yg(r,t,e)})),t=e.D,n=e.sa,t&&n&&Yg(r,t,n),Yg(r,"VER",e.ma),ek(e,r),r}function hk(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Db(new _b({ib:!0})):new Db(e.qa)).L=e.H,t}function dk(){}function pk(){if(Ym&&!(10<=Number(cy)))throw Error("Environmental error: no available transport.")}function vk(e,t){Dy.call(this),this.g=new Hb(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Mm(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Mm(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new gk(this)}function mk(e){kg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yk(){wg.call(this),this.status=1}function gk(e){this.g=e}(dm=Db.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():gg.g(),this.C=this.u?mg(this.u):mg(gg),this.g.onreadystatechange=Tm(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Vb(this,a)}e=n||"";var i=new jg(this.headers);r&&Ug(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Fb,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=bm.FormData&&e instanceof bm.FormData,!(0<=Pm(Mb,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Bb(this),0<this.B&&((this.K=function(e){return Ym&&uy()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Tm(this.pa,this)):this.A=Qy(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Vb(this,a)}},dm.pa=function(){"undefined"!=typeof gm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oy(this,"timeout"),this.abort(8))},dm.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Oy(this,"complete"),Oy(this,"abort"),zb(this))},dm.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zb(this,!0)),Db.Z.M.call(this)},dm.Fa=function(){this.s||(this.F||this.v||this.l?jb(this):this.cb())},dm.cb=function(){jb(this)},dm.ba=function(){try{return 2<qb(this)?this.g.status:-1}catch(pb){return-1}},dm.ga=function(){try{return this.g?this.g.responseText:""}catch(pb){return""}},dm.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Pb(t)}},dm.Da=function(){return this.m},dm.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(dm=Hb.prototype).ma=8,dm.G=1,dm.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},dm.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Eg(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Gm(n=Wm(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=tk(this,t,r),Yg(i=Kg(this.F),"RID",e),Yg(i,"CVER",22),this.D&&Yg(i,"X-HTTP-Session-Id",this.D),ek(this,i),this.o&&n&&Kb(i,this.o,n),bb(this.i,t),this.Ra&&Yg(i,"TYPE","init"),this.ja?(Yg(i,"$req",r),Yg(i,"SID","null"),t.$=!0,Cg(t,i,null)):Cg(t,i,r),this.G=2}}else 3==this.G&&(e?Zb(this,e):0==this.l.length||mb(this.i)||Zb(this))},dm.Ga=function(){if(this.u=null,ak(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=hg(Tm(this.bb,this),e)}},dm.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,lg(10),Qb(this),ak(this))},dm.ab=function(){null!=this.v&&(this.v=null,Qb(this),rk(this),lg(19))},dm.jb=function(e){e?(this.h.info("Successfully pinged google.com"),lg(2)):(this.h.info("Failed to ping google.com"),lg(1))},(dm=dk.prototype).xa=function(){},dm.wa=function(){},dm.va=function(){},dm.ua=function(){},dm.Oa=function(){},pk.prototype.g=function(e,t){return new vk(e,t)},Nm(vk,Dy),vk.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),qy(Tm(e.hb,e,t))),lg(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=fk(e,null,e.W),Xb(e)},vk.prototype.close=function(){$b(this.g)},vk.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Jb(this.g,t)}else this.v?((t={}).__data__=My(e),Jb(this.g,t)):Jb(this.g,e)},vk.prototype.M=function(){this.g.j=null,delete this.j,$b(this.g),delete this.g,vk.Z.M.call(this)},Nm(mk,kg),Nm(yk,wg),Nm(gk,dk),gk.prototype.xa=function(){Oy(this.g,"a")},gk.prototype.wa=function(e){Oy(this.g,new mk(e))},gk.prototype.va=function(e){Oy(this.g,new yk(e))},gk.prototype.ua=function(){Oy(this.g,"b")},pk.prototype.createWebChannel=pk.prototype.g,vk.prototype.send=vk.prototype.u,vk.prototype.open=vk.prototype.m,vk.prototype.close=vk.prototype.close,dg.NO_ERROR=0,dg.TIMEOUT=8,dg.HTTP_ERROR=6,pg.COMPLETE="complete",yg.EventType=bg,bg.OPEN="a",bg.CLOSE="b",bg.ERROR="c",bg.MESSAGE="d",Dy.prototype.listen=Dy.prototype.N,Db.prototype.listenOnce=Db.prototype.O,Db.prototype.getLastError=Db.prototype.La,Db.prototype.getLastErrorCode=Db.prototype.Da,Db.prototype.getStatus=Db.prototype.ba,Db.prototype.getResponseJson=Db.prototype.Qa,Db.prototype.getResponseText=Db.prototype.ga,Db.prototype.send=Db.prototype.ea;var bk=ym.createWebChannelTransport=function(){return new pk},kk=ym.getStatEventTarget=function(){return og()},wk=ym.ErrorCode=dg,xk=ym.EventType=pg,Ek=ym.Event=ig,Sk=ym.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ik=ym.FetchXmlHttpFactory=_b,_k=ym.WebChannel=yg,Tk=ym.XhrIo=Db,Ck="@firebase/firestore",Nk=function(){function e(t){Na(this,e),this.uid=t}return fe(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Nk.UNAUTHENTICATED=new Nk(null),Nk.GOOGLE_CREDENTIALS=new Nk("google-credentials-uid"),Nk.FIRST_PARTY=new Nk("first-party-uid"),Nk.MOCK_USER=new Nk("mock-user");var Rk="9.6.10",Ak=new Co("@firebase/firestore");function Pk(){return Ak.logLevel}function Dk(e){if(Ak.logLevel<=bo.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Mk);Ak.debug.apply(Ak,["Firestore (".concat(Rk,"): ").concat(e)].concat(ln(i)))}}function Ok(e){if(Ak.logLevel<=bo.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Mk);Ak.error.apply(Ak,["Firestore (".concat(Rk,"): ").concat(e)].concat(ln(i)))}}function Lk(e){if(Ak.logLevel<=bo.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Mk);Ak.warn.apply(Ak,["Firestore (".concat(Rk,"): ").concat(e)].concat(ln(i)))}}function Mk(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Fk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Rk,") INTERNAL ASSERTION FAILED: ")+e;throw Ok(t),new Error(t)}function Vk(e,t){e||Fk()}function Uk(e,t){return e}var jk={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},zk=function(e){xa(n,e);var t=Ia(n);function n(e,r){var i;return Na(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return fe(n)}(Qa),Bk=fe((function e(){var t=this;Na(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),qk=fe((function e(t,n){Na(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Wk=function(){function e(){Na(this,e)}return fe(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Nk.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Kk=function(){function e(t){Na(this,e),this.token=t,this.changeListener=null}return fe(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Gk=function(){function e(t){Na(this,e),this.t=t,this.currentUser=Nk.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return fe(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Bk;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Bk,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Dk("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Dk("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Bk)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Dk("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Vk("string"==typeof n.accessToken),new qk(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Vk(null===e||"string"==typeof e),new Nk(e)}}]),e}(),Hk=fe((function e(t,n,r){Na(this,e),this.type="FirstParty",this.user=Nk.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),$k=function(){function e(t,n,r){Na(this,e),this.h=t,this.l=n,this.m=r}return fe(e,[{key:"getToken",value:function(){return Promise.resolve(new Hk(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Nk.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Qk=fe((function e(t){Na(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Yk=function(){function e(t){Na(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return fe(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Dk("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Dk("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Dk("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Dk("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Vk("string"==typeof t.token),e.p=t.token,new Qk(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Jk=function(){function e(t,n){var r=this;Na(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return fe(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Xk(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Jk.A=-1;var Zk=function(){function e(){Na(this,e)}return fe(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Xk(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function ew(e,t){return e<t?-1:e>t?1:0}function tw(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function nw(e){return e+"\0"}var rw=function(){function e(t,n){if(Na(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new zk(jk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new zk(jk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new zk(jk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new zk(jk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return fe(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?ew(this.nanoseconds,e.nanoseconds):ew(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),iw=function(){function e(t){Na(this,e),this.timestamp=t}return fe(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new rw(0,0))}},{key:"max",value:function(){return new e(new rw(253402300799,999999999))}}]),e}();function aw(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ow(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function uw(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var sw=function(){function e(t,n,r){Na(this,e),void 0===n?n=0:n>t.length&&Fk(),void 0===r?r=t.length-n:r>t.length-n&&Fk(),this.segments=t,this.offset=n,this.len=r}return fe(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),cw=function(e){xa(n,e);var t=Ia(n);function n(){return Na(this,n),t.apply(this,arguments)}return fe(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new zk(jk.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,ln(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(sw),lw=/^[_a-zA-Z][_a-zA-Z0-9]*$/,fw=function(e){xa(n,e);var t=Ia(n);function n(){return Na(this,n),t.apply(this,arguments)}return fe(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return lw.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new zk(jk.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new zk(jk.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new zk(jk.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new zk(jk.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(sw),hw=function(){function e(t){Na(this,e),this.fields=t,t.sort(fw.comparator)}return fe(e,[{key:"covers",value:function(e){var t,n=_a(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return tw(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var dw=function(e){function t(e){Na(this,t),this.binaryString=e}return fe(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return ew(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();dw.EMPTY_BYTE_STRING=new dw("");var pw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vw(e){if(Vk(!!e),"string"==typeof e){var t=0,n=pw.exec(e);if(Vk(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:mw(e.seconds),nanos:mw(e.nanos)}}function mw(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function yw(e){return"string"==typeof e?dw.fromBase64String(e):dw.fromUint8Array(e)}function gw(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function bw(e){var t=e.mapValue.fields.__previous_value__;return gw(t)?bw(t):t}function kw(e){var t=vw(e.mapValue.fields.__local_write_time__.timestampValue);return new rw(t.seconds,t.nanos)}var ww=fe((function e(t,n,r,i,a,o,u,s){Na(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),xw=function(){function e(t,n){Na(this,e),this.projectId=t,this.database=n||"(default)"}return fe(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ew(e){return null==e}function Sw(e){return 0===e&&1/e==-1/0}function Iw(e){return"number"==typeof e&&Number.isInteger(e)&&!Sw(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var _w=function(){function e(t){Na(this,e),this.path=t}return fe(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===cw.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(cw.fromString(t))}},{key:"fromName",value:function(t){return new e(cw.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(cw.emptyPath())}},{key:"comparator",value:function(e,t){return cw.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new cw(t.slice()))}}]),e}(),Tw={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Cw={nullValue:"NULL_VALUE"};function Nw(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?gw(e)?4:qw(e)?9:10:Fk()}function Rw(e,t){if(e===t)return!0;var n=Nw(e);if(n!==Nw(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return kw(e).isEqual(kw(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=vw(e.timestampValue),r=vw(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return yw(e.bytesValue).isEqual(yw(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return mw(e.geoPointValue.latitude)===mw(t.geoPointValue.latitude)&&mw(e.geoPointValue.longitude)===mw(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return mw(e.integerValue)===mw(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=mw(e.doubleValue),r=mw(t.doubleValue);return n===r?Sw(n)===Sw(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return tw(e.arrayValue.values||[],t.arrayValue.values||[],Rw);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(aw(n)!==aw(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Rw(n[i],r[i])))return!1;return!0}(e,t);default:return Fk()}}function Aw(e,t){return void 0!==(e.values||[]).find((function(e){return Rw(e,t)}))}function Pw(e,t){if(e===t)return 0;var n=Nw(e),r=Nw(t);if(n!==r)return ew(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ew(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=mw(e.integerValue||e.doubleValue),r=mw(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Dw(e.timestampValue,t.timestampValue);case 4:return Dw(kw(e),kw(t));case 5:return ew(e.stringValue,t.stringValue);case 6:return function(e,t){var n=yw(e),r=yw(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=ew(n[i],r[i]);if(0!==a)return a}return ew(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ew(mw(e.latitude),mw(t.latitude));return 0!==n?n:ew(mw(e.longitude),mw(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Pw(n[i],r[i]);if(a)return a}return ew(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=ew(r[o],a[o]);if(0!==u)return u;var s=Pw(n[r[o]],i[a[o]]);if(0!==s)return s}return ew(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Fk()}}function Dw(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ew(e,t);var n=vw(e),r=vw(t),i=ew(n.seconds,r.seconds);return 0!==i?i:ew(n.nanos,r.nanos)}function Ow(e){return Lw(e)}function Lw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=vw(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?yw(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,_w.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=_a(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Lw(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=_a(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Lw(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Fk();var t,n}function Mw(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Fw(e){return!!e&&"integerValue"in e}function Vw(e){return!!e&&"arrayValue"in e}function Uw(e){return!!e&&"nullValue"in e}function jw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function zw(e){return!!e&&"mapValue"in e}function Bw(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ow(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Bw(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Bw(e.arrayValue.values[r]);return n}return Object.assign({},e)}function qw(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ww(e,t){return void 0===e?t:void 0===t||Pw(e,t)>0?e:t}function Kw(e,t){return void 0===e?t:void 0===t||Pw(e,t)<0?e:t}var Gw=function(){function e(t){Na(this,e),this.value=t}return fe(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!zw(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bw(t)}},{key:"setAll",value:function(e){var t=this,n=fw.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Bw(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());zw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Rw(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];zw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ow(t,(function(t,n){return e[t]=n}));var r,i=_a(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Bw(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Hw(e){var t=[];return ow(e.fields,(function(e,n){var r=new fw([e]);if(zw(n)){var i=Hw(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=_a(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new hw(t)}var $w=function(){function e(t,n,r,i,a,o){Na(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return fe(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Gw.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Gw.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,iw.min(),iw.min(),Gw.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,iw.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,iw.min(),Gw.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,iw.min(),Gw.empty(),2)}}]),e}(),Qw=fe((function e(t,n,r,i){Na(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Yw(e){return e.fields.find((function(e){return 2===e.kind}))}function Jw(e){return e.fields.filter((function(e){return 2!==e.kind}))}Qw.UNKNOWN_ID=-1;var Xw=fe((function e(t,n){Na(this,e),this.fieldPath=t,this.kind=n})),Zw=function(){function e(t,n){Na(this,e),this.sequenceNumber=t,this.offset=n}return fe(e,null,[{key:"empty",value:function(){return new e(0,nx.min())}}]),e}();function ex(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=iw.fromTimestamp(1e9===r?new rw(n+1,0):new rw(n,r));return new nx(i,_w.empty(),t)}function tx(e){return new nx(e.readTime,e.key,-1)}var nx=function(){function e(t,n,r){Na(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return fe(e,null,[{key:"min",value:function(){return new e(iw.min(),_w.empty(),-1)}},{key:"max",value:function(){return new e(iw.max(),_w.empty(),-1)}}]),e}();function rx(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=_w.comparator(e.documentKey,t.documentKey))?n:ew(e.largestBatchId,t.largestBatchId)}var ix=fe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Na(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function ax(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new ix(e,t,n,r,i,a,o)}function ox(e){var t=Uk(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Ow(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ew(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ow(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ow(e)})).join(",")),t.P=n}return t.P}function ux(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!wx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Rw(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ex(e.startAt,t.startAt)&&Ex(e.endAt,t.endAt)}function sx(e){return _w.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function cx(e,t){return e.filters.filter((function(e){return e instanceof lx&&e.field.isEqual(t)}))}var lx=function(e){xa(n,e);var t=Ia(n);function n(e,r,i){var a;return Na(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return fe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Pw(t,this.value)):null!==t&&Nw(this.value)===Nw(t)&&this.v(Pw(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Fk()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new fx(e,t,r):"array-contains"===t?new vx(e,r):"in"===t?new mx(e,r):"not-in"===t?new yx(e,r):"array-contains-any"===t?new gx(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new hx(e,n):new dx(e,n)}}]),n}(function(){return fe((function e(){Na(this,e)}))}()),fx=function(e){xa(n,e);var t=Ia(n);function n(e,r,i){var a;return Na(this,n),(a=t.call(this,e,r,i)).key=_w.fromName(i.referenceValue),a}return fe(n,[{key:"matches",value:function(e){var t=_w.comparator(e.key,this.key);return this.v(t)}}]),n}(lx),hx=function(e){xa(n,e);var t=Ia(n);function n(e,r){var i;return Na(this,n),(i=t.call(this,e,"in",r)).keys=px("in",r),i}return fe(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(lx),dx=function(e){xa(n,e);var t=Ia(n);function n(e,r){var i;return Na(this,n),(i=t.call(this,e,"not-in",r)).keys=px("not-in",r),i}return fe(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(lx);function px(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return _w.fromName(e.referenceValue)}))}var vx=function(e){xa(n,e);var t=Ia(n);function n(e,r){return Na(this,n),t.call(this,e,"array-contains",r)}return fe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Vw(t)&&Aw(t.arrayValue,this.value)}}]),n}(lx),mx=function(e){xa(n,e);var t=Ia(n);function n(e,r){return Na(this,n),t.call(this,e,"in",r)}return fe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Aw(this.value.arrayValue,t)}}]),n}(lx),yx=function(e){xa(n,e);var t=Ia(n);function n(e,r){return Na(this,n),t.call(this,e,"not-in",r)}return fe(n,[{key:"matches",value:function(e){if(Aw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Aw(this.value.arrayValue,t)}}]),n}(lx),gx=function(e){xa(n,e);var t=Ia(n);function n(e,r){return Na(this,n),t.call(this,e,"array-contains-any",r)}return fe(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Vw(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Aw(t.value.arrayValue,e)}))}}]),n}(lx),bx=fe((function e(t,n){Na(this,e),this.position=t,this.inclusive=n})),kx=fe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Na(this,e),this.field=t,this.dir=n}));function wx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function xx(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?_w.comparator(_w.fromName(o.referenceValue),n.key):Pw(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ex(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Rw(e.position[n],t.position[n]))return!1;return!0}var Sx=fe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Na(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function Ix(e,t,n,r,i,a,o,u){return new Sx(e,t,n,r,i,a,o,u)}function _x(e){return new Sx(e)}function Tx(e){return!Ew(e.limit)&&"F"===e.limitType}function Cx(e){return!Ew(e.limit)&&"L"===e.limitType}function Nx(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Rx(e){var t,n=_a(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Ax(e){return null!==e.collectionGroup}function Px(e){var t=Uk(e);if(null===t.D){t.D=[];var n=Rx(t),r=Nx(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new kx(n)),t.D.push(new kx(fw.keyField(),"asc"));else{var i,a=!1,o=_a(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new kx(fw.keyField(),s))}}}return t.D}function Dx(e){var t=Uk(e);if(!t.C)if("F"===t.limitType)t.C=ax(t.path,t.collectionGroup,Px(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=_a(Px(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new kx(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new bx(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new bx(t.startAt.position,!t.startAt.inclusive):null;t.C=ax(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Ox(e,t,n){return new Sx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Lx(e,t){return ux(Dx(e),Dx(t))&&e.limitType===t.limitType}function Mx(e){return"".concat(ox(Dx(e)),"|lt:").concat(e.limitType)}function Fx(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Ow(t.value));var t})).join(", "),"]")),Ew(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ow(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ow(e)})).join(",")),"Target(".concat(t,")")}(Dx(e)),"; limitType=").concat(e.limitType,")")}function Vx(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):_w.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=_a(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=_a(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=xx(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Px(e),t))&&!(e.endAt&&!function(e,t,n){var r=xx(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Px(e),t))}(e,t)}function Ux(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function jx(e){return function(t,n){var r,i=!1,a=_a(Px(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=zx(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function zx(e,t,n){var r=e.field.isKeyField()?_w.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Pw(r,i):Fk()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Fk()}}function Bx(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sw(t)?"-0":t}}function qx(e){return{integerValue:""+e}}function Wx(e,t){return Iw(t)?qx(t):Bx(e,t)}var Kx=fe((function e(){Na(this,e),this._=void 0}));function Gx(e,t,n){return e instanceof Qx?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Yx?Jx(e,t):e instanceof Xx?Zx(e,t):function(e,t){var n=$x(e,t),r=tE(n)+tE(e.k);return Fw(n)&&Fw(e.k)?qx(r):Bx(e.M,r)}(e,t)}function Hx(e,t,n){return e instanceof Yx?Jx(e,t):e instanceof Xx?Zx(e,t):n}function $x(e,t){return e instanceof eE?Fw(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Qx=function(e){xa(n,e);var t=Ia(n);function n(){return Na(this,n),t.apply(this,arguments)}return fe(n)}(Kx),Yx=function(e){xa(n,e);var t=Ia(n);function n(e){var r;return Na(this,n),(r=t.call(this)).elements=e,r}return fe(n)}(Kx);function Jx(e,t){var n,r=nE(t),i=_a(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Rw(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Xx=function(e){xa(n,e);var t=Ia(n);function n(e){var r;return Na(this,n),(r=t.call(this)).elements=e,r}return fe(n)}(Kx);function Zx(e,t){var n,r=nE(t),i=_a(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Rw(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var eE=function(e){xa(n,e);var t=Ia(n);function n(e,r){var i;return Na(this,n),(i=t.call(this)).M=e,i.k=r,i}return fe(n)}(Kx);function tE(e){return mw(e.integerValue||e.doubleValue)}function nE(e){return Vw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var rE=fe((function e(t,n){Na(this,e),this.field=t,this.transform=n}));var iE=fe((function e(t,n){Na(this,e),this.version=t,this.transformResults=n})),aE=function(){function e(t,n){Na(this,e),this.updateTime=t,this.exists=n}return fe(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function oE(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var uE=fe((function e(){Na(this,e)}));function sE(e,t,n){e instanceof dE?function(e,t,n){var r=e.value.clone(),i=mE(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof pE?function(e,t,n){if(oE(e.precondition,t)){var r=mE(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(vE(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function cE(e,t,n){e instanceof dE?function(e,t,n){if(oE(e.precondition,t)){var r=e.value.clone(),i=yE(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(hE(t),r).setHasLocalMutations()}}(e,t,n):e instanceof pE?function(e,t,n){if(oE(e.precondition,t)){var r=yE(e.fieldTransforms,n,t),i=t.data;i.setAll(vE(e)),i.setAll(r),t.convertToFoundDocument(hE(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){oE(e.precondition,t)&&t.convertToNoDocument(iw.min())}(e,t)}function lE(e,t){var n,r=null,i=_a(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=$x(a.transform,o||null);null!=u&&(null==r&&(r=Gw.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function fE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&tw(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Yx&&t instanceof Yx||e instanceof Xx&&t instanceof Xx?tw(e.elements,t.elements,Rw):e instanceof eE&&t instanceof eE?Rw(e.k,t.k):e instanceof Qx&&t instanceof Qx}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function hE(e){return e.isFoundDocument()?e.version:iw.min()}var dE=function(e){xa(n,e);var t=Ia(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Na(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return fe(n)}(uE),pE=function(e){xa(n,e);var t=Ia(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Na(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return fe(n)}(uE);function vE(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function mE(e,t,n){var r=new Map;Vk(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Hx(o,u,n[i]))}return r}function yE(e,t,n){var r,i=new Map,a=_a(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Gx(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var gE,bE,kE=function(e){xa(n,e);var t=Ia(n);function n(e,r){var i;return Na(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return fe(n)}(uE),wE=function(e){xa(n,e);var t=Ia(n);function n(e,r){var i;return Na(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return fe(n)}(uE),xE=fe((function e(t){Na(this,e),this.count=t}));function EE(e){switch(e){default:return Fk();case jk.CANCELLED:case jk.UNKNOWN:case jk.DEADLINE_EXCEEDED:case jk.RESOURCE_EXHAUSTED:case jk.INTERNAL:case jk.UNAVAILABLE:case jk.UNAUTHENTICATED:return!1;case jk.INVALID_ARGUMENT:case jk.NOT_FOUND:case jk.ALREADY_EXISTS:case jk.PERMISSION_DENIED:case jk.FAILED_PRECONDITION:case jk.ABORTED:case jk.OUT_OF_RANGE:case jk.UNIMPLEMENTED:case jk.DATA_LOSS:return!0}}function SE(e){if(void 0===e)return Ok("GRPC error has no .code"),jk.UNKNOWN;switch(e){case gE.OK:return jk.OK;case gE.CANCELLED:return jk.CANCELLED;case gE.UNKNOWN:return jk.UNKNOWN;case gE.DEADLINE_EXCEEDED:return jk.DEADLINE_EXCEEDED;case gE.RESOURCE_EXHAUSTED:return jk.RESOURCE_EXHAUSTED;case gE.INTERNAL:return jk.INTERNAL;case gE.UNAVAILABLE:return jk.UNAVAILABLE;case gE.UNAUTHENTICATED:return jk.UNAUTHENTICATED;case gE.INVALID_ARGUMENT:return jk.INVALID_ARGUMENT;case gE.NOT_FOUND:return jk.NOT_FOUND;case gE.ALREADY_EXISTS:return jk.ALREADY_EXISTS;case gE.PERMISSION_DENIED:return jk.PERMISSION_DENIED;case gE.FAILED_PRECONDITION:return jk.FAILED_PRECONDITION;case gE.ABORTED:return jk.ABORTED;case gE.OUT_OF_RANGE:return jk.OUT_OF_RANGE;case gE.UNIMPLEMENTED:return jk.UNIMPLEMENTED;case gE.DATA_LOSS:return jk.DATA_LOSS;default:return Fk()}}(bE=gE||(gE={}))[bE.OK=0]="OK",bE[bE.CANCELLED=1]="CANCELLED",bE[bE.UNKNOWN=2]="UNKNOWN",bE[bE.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bE[bE.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bE[bE.NOT_FOUND=5]="NOT_FOUND",bE[bE.ALREADY_EXISTS=6]="ALREADY_EXISTS",bE[bE.PERMISSION_DENIED=7]="PERMISSION_DENIED",bE[bE.UNAUTHENTICATED=16]="UNAUTHENTICATED",bE[bE.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bE[bE.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bE[bE.ABORTED=10]="ABORTED",bE[bE.OUT_OF_RANGE=11]="OUT_OF_RANGE",bE[bE.UNIMPLEMENTED=12]="UNIMPLEMENTED",bE[bE.INTERNAL=13]="INTERNAL",bE[bE.UNAVAILABLE=14]="UNAVAILABLE",bE[bE.DATA_LOSS=15]="DATA_LOSS";var IE=function(){function e(t,n){Na(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return fe(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=_a(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ow(this.inner,(function(t,n){var r,i=_a(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return uw(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),_E=function(){function e(t,n){Na(this,e),this.comparator=t,this.root=n||CE.EMPTY}return fe(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,CE.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,CE.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new TE(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new TE(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new TE(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new TE(this.root,e,this.comparator,!0)}}]),e}(),TE=function(){function e(t,n,r,i){Na(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return fe(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),CE=function(){function e(t,n,r,i,a){Na(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return fe(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Fk();if(this.right.isRed())throw Fk();var e=this.left.check();if(e!==this.right.check())throw Fk();return e+(this.isRed()?0:1)}}]),e}();CE.EMPTY=null,CE.RED=!0,CE.BLACK=!1,CE.EMPTY=new(function(){function e(){Na(this,e),this.size=0}return fe(e,[{key:"key",get:function(){throw Fk()}},{key:"value",get:function(){throw Fk()}},{key:"color",get:function(){throw Fk()}},{key:"left",get:function(){throw Fk()}},{key:"right",get:function(){throw Fk()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new CE(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var NE=function(){function e(t){Na(this,e),this.comparator=t,this.data=new _E(this.comparator)}return fe(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new RE(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new RE(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),RE=function(){function e(t){Na(this,e),this.iter=t}return fe(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function AE(e){return e.hasNext()?e.getNext():void 0}var PE=new _E(_w.comparator);function DE(){return PE}var OE=new _E(_w.comparator);function LE(){return OE}function ME(){return new IE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var FE=new _E(_w.comparator),VE=new NE(_w.comparator);function UE(){for(var e=VE,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var jE=new NE(ew);function zE(){return jE}var BE=function(){function e(t,n,r,i,a){Na(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return fe(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,qE.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(iw.min(),r,zE(),DE(),UE())}}]),e}(),qE=function(){function e(t,n,r,i,a){Na(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return fe(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(dw.EMPTY_BYTE_STRING,n,UE(),UE(),UE())}}]),e}(),WE=fe((function e(t,n,r,i){Na(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),KE=fe((function e(t,n){Na(this,e),this.targetId=t,this.$=n})),GE=fe((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dw.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Na(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),HE=function(){function e(){Na(this,e),this.B=0,this.L=YE(),this.U=dw.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}return fe(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"K",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.G}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}},{key:"H",value:function(){var e=UE(),t=UE(),n=UE();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Fk()}})),new qE(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.G=!1,this.L=YE()}},{key:"Y",value:function(e,t){this.G=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.G=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.G=!0,this.q=!0}}]),e}(),$E=function(){function e(t){Na(this,e),this.nt=t,this.st=new Map,this.it=DE(),this.rt=QE(),this.ot=new NE(ew)}return fe(e,[{key:"ut",value:function(e){var t,n=_a(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=_a(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Fk()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(sx(i))if(0===n){var a=new _w(i.path);this.ct(t,a,$w.newNoDocument(a,iw.min()))}else Vk(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&sx(a.target)){var o=new _w(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,$w.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=UE();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new BE(e,n,this.ot,this.it,r);return this.it=DE(),this.rt=QE(),this.ot=new NE(ew),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new HE,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new NE(ew),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Dk("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new HE),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function QE(){return new _E(_w.comparator)}function YE(){return new _E(_w.comparator)}var JE={asc:"ASCENDING",desc:"DESCENDING"},XE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZE=fe((function e(t,n){Na(this,e),this.databaseId=t,this.N=n}));function eS(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function tS(e,t){return e.N?t.toBase64():t.toUint8Array()}function nS(e,t){return eS(e,t.toTimestamp())}function rS(e){return Vk(!!e),iw.fromTimestamp(function(e){var t=vw(e);return new rw(t.seconds,t.nanos)}(e))}function iS(e,t){return function(e){return new cw(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function aS(e){var t=cw.fromString(e);return Vk(CS(t)),t}function oS(e,t){return iS(e.databaseId,t.path)}function uS(e,t){var n=aS(t);if(n.get(1)!==e.databaseId.projectId)throw new zk(jk.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new zk(jk.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _w(fS(n))}function sS(e,t){return iS(e.databaseId,t)}function cS(e){var t=aS(e);return 4===t.length?cw.emptyPath():fS(t)}function lS(e){return new cw(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fS(e){return Vk(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function hS(e,t,n){return{name:oS(e,t),fields:n.value.mapValue.fields}}function dS(e,t,n){var r=uS(e,t.name),i=rS(t.updateTime),a=new Gw({mapValue:{fields:t.fields}}),o=$w.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function pS(e,t){return"found"in t?function(e,t){Vk(!!t.found),t.found.name,t.found.updateTime;var n=uS(e,t.found.name),r=rS(t.found.updateTime),i=new Gw({mapValue:{fields:t.found.fields}});return $w.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Vk(!!t.missing),Vk(!!t.readTime);var n=uS(e,t.missing),r=rS(t.readTime);return $w.newNoDocument(n,r)}(e,t):Fk()}function vS(e,t){var n;if(t instanceof dE)n={update:hS(e,t.key,t.value)};else if(t instanceof kE)n={delete:oS(e,t.key)};else if(t instanceof pE)n={update:hS(e,t.key,t.data),updateMask:TS(t.fieldMask)};else{if(!(t instanceof wE))return Fk();n={verify:oS(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Qx)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Yx)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Xx)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof eE)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Fk()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:nS(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Fk()}(e,t.precondition)),n}function mS(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?aE.updateTime(rS(e.updateTime)):void 0!==e.exists?aE.exists(e.exists):aE.none()}(t.currentDocument):aE.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Vk("REQUEST_TIME"===t.setToServerValue),n=new Qx;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Yx(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Xx(i)}else"increment"in t?n=new eE(e,t.increment):Fk();var a=fw.fromServerFormat(t.fieldPath);return new rE(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=uS(e,t.update.name),a=new Gw({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new hw(t.map((function(e){return fw.fromServerFormat(e)})))}(t.updateMask);return new pE(i,a,o,n,r)}return new dE(i,a,n,r)}if(t.delete){var u=uS(e,t.delete);return new kE(u,n)}if(t.verify){var s=uS(e,t.verify);return new wE(s,n)}return Fk()}function yS(e,t){return{documents:[sS(e,t.path)]}}function gS(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=sS(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=sS(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(jw(e.value))return{unaryFilter:{field:ES(e.field),op:"IS_NAN"}};if(Uw(e.value))return{unaryFilter:{field:ES(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(jw(e.value))return{unaryFilter:{field:ES(e.field),op:"IS_NOT_NAN"}};if(Uw(e.value))return{unaryFilter:{field:ES(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ES(e.field),op:xS(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ES(e.field),direction:wS(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||Ew(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function bS(e){var t=cS(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Vk(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=kS(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new kx(SS(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ew(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new bx(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new bx(n,t)}(n.endAt)),Ix(t,i,u,o,s,"F",c,l)}function kS(e){return e?void 0!==e.unaryFilter?[_S(e)]:void 0!==e.fieldFilter?[IS(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return kS(e)})).reduce((function(e,t){return e.concat(t)})):Fk():[]}function wS(e){return JE[e]}function xS(e){return XE[e]}function ES(e){return{fieldPath:e.canonicalString()}}function SS(e){return fw.fromServerFormat(e.fieldPath)}function IS(e){return lx.create(SS(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fk()}}(e.fieldFilter.op),e.fieldFilter.value)}function _S(e){switch(e.unaryFilter.op){case"IS_NAN":var t=SS(e.unaryFilter.field);return lx.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=SS(e.unaryFilter.field);return lx.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=SS(e.unaryFilter.field);return lx.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=SS(e.unaryFilter.field);return lx.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Fk()}}function TS(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function CS(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function NS(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=AS(t)),t=RS(e.get(n),t);return AS(t)}function RS(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function AS(e){return e+"\x01\x01"}function PS(e){var t=e.length;if(Vk(t>=2),2===t)return Vk("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),cw.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Fk(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Fk()}a=o+2}return new cw(r)}var DS=["userId","batchId"];function OS(e,t){return[e,NS(t)]}function LS(e,t,n){return[e,NS(t),n]}var MS={},FS=["prefixPath","collectionGroup","readTime","documentId"],VS=["prefixPath","collectionGroup","documentId"],US=["collectionGroup","readTime","prefixPath","documentId"],jS=["canonicalId","targetId"],zS=["targetId","path"],BS=["path","targetId"],qS=["collectionId","parent"],WS=["indexId","uid"],KS=["uid","sequenceNumber"],GS=["indexId","uid","arrayValue","directionalValue","documentKey"],HS=["indexId","uid","documentKey"],$S=["userId","collectionPath","documentId"],QS=["userId","collectionPath","largestBatchId"],YS=["userId","collectionGroup","largestBatchId"],JS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),XS=[].concat(ln(JS),["documentOverlays"]),ZS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],eI=[].concat(ZS,["indexConfiguration","indexState","indexEntries"]),tI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",nI=function(){function e(){Na(this,e),this.onCommittedListeners=[]}return fe(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),rI=function(){function e(t){var n=this;Na(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return fe(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Fk(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=_a(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),iI=function(){function e(t,n){var r=this;Na(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Bk,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new uI(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=hI(e.target.error);r.At.reject(new uI(t,n))}}return fe(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Dk("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new cI(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new uI(n,t)}}}]),e}(),aI=function(){function e(t,n,r){Na(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(Ba())&&Ok("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return fe(e,[{key:"Nt",value:function(){var e=Ca(Aa().mark((function e(t){var n=this;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Dk("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new uI(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new zk(jk.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new zk(jk.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new uI(t,n))},i.onupgradeneeded=function(e){Dk("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Dk("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ca(Aa().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Aa().mark((function e(){var n,o;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=iI.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),rI.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Dk("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Dk("SimpleDb","Removing database:",e),lI(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!$a())return!1;if(e.St())return!0;var t=Ba(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/react_task_3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),oI=function(){function e(t){Na(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return fe(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return lI(this.Ft.delete())}}]),e}(),uI=function(e){xa(n,e);var t=Ia(n);function n(e,r){var i;return Na(this,n),(i=t.call(this,jk.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return fe(n)}(zk);function sI(e){return"IndexedDbTransactionError"===e.name}var cI=function(){function e(t){Na(this,e),this.store=t}return fe(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Dk("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Dk("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),lI(n)}},{key:"add",value:function(e){return Dk("SimpleDb","ADD",this.store.name,e,e),lI(this.store.add(e))}},{key:"get",value:function(e){var t=this;return lI(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Dk("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Dk("SimpleDb","DELETE",this.store.name,e),lI(this.store.delete(e))}},{key:"count",value:function(){return Dk("SimpleDb","COUNT",this.store.name),lI(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Gt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new rI((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Kt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new rI((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Dk("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Gt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Gt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new rI((function(n,r){t.onerror=function(e){var t=hI(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Gt",value:function(e,t){var n=[];return new rI((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new oI(i),o=t(i.primaryKey,i.value,a);if(o instanceof rI){var u=o.catch((function(e){return a.done(),rI.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return rI.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function lI(e){return new rI((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=hI(e.target.error);n(t)}}))}var fI=!1;function hI(e){var t=aI.Vt(Ba());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new zk("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return fI||(fI=!0,setTimeout((function(){throw r}),0)),r}}return e}var dI=function(e){xa(n,e);var t=Ia(n);function n(e,r){var i;return Na(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return fe(n)}(nI);function pI(e,t){var n=Uk(e);return aI.xt(n.Ht,t)}var vI=function(){function e(t,n,r,i){Na(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return fe(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&sE(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=_a(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&cE(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=_a(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&cE(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(iw.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),UE())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&tw(this.mutations,e.mutations,(function(e,t){return fE(e,t)}))&&tw(this.baseMutations,e.baseMutations,(function(e,t){return fE(e,t)}))}}]),e}(),mI=function(){function e(t,n,r,i){Na(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return fe(e,null,[{key:"from",value:function(t,n,r){Vk(t.mutations.length===r.length);for(var i=FE,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),yI=function(){function e(t,n){Na(this,e),this.largestBatchId=t,this.mutation=n}return fe(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),gI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:iw.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:iw.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:dw.EMPTY_BYTE_STRING;Na(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return fe(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),bI=fe((function e(t){Na(this,e),this.Jt=t}));function kI(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:wI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:oS(e,t.key),fields:t.data.value.mapValue.fields,updateTime:eS(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:xI(t.version)};else{if(!t.isUnknownDocument())return Fk();r.unknownDocument={path:n.path.toArray(),version:xI(t.version)}}return r}function wI(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function xI(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function EI(e){var t=new rw(e.seconds,e.nanoseconds);return iw.fromTimestamp(t)}function SI(e,t){for(var n=(t.baseMutations||[]).map((function(t){return mS(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return mS(e.Jt,t)})),u=rw.fromMillis(t.localWriteTimeMs);return new vI(t.batchId,u,n,o)}function II(e){var t,n,r=EI(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?EI(e.lastLimboFreeSnapshotVersion):iw.min();return void 0!==e.query.documents?(Vk(1===(n=e.query).documents.length),t=Dx(_x(cS(n.documents[0])))):t=function(e){return Dx(bS(e))}(e.query),new gI(t,e.targetId,0,e.lastListenSequenceNumber,r,i,dw.fromBase64String(e.resumeToken))}function _I(e,t){var n,r=xI(t.snapshotVersion),i=xI(t.lastLimboFreeSnapshotVersion);n=sx(t.target)?yS(e.Jt,t.target):gS(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ox(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function TI(e){var t=bS({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ox(t,t.limit,"L"):t}function CI(e,t){return new yI(t.largestBatchId,mS(e.Jt,t.overlayMutation))}function NI(e,t){var n=t.path.lastSegment();return[e,NS(t.path.popLast()),n]}var RI=function(){function e(){Na(this,e)}return fe(e,[{key:"getBundleMetadata",value:function(e,t){return AI(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:EI(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return AI(e).put({bundleId:(n=t).id,createTime:xI(rS(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return PI(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:TI(t.bundledQuery),readTime:EI(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return PI(e).put(function(e){return{name:e.name,readTime:xI(rS(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function AI(e){return pI(e,"bundles")}function PI(e){return pI(e,"namedQueries")}var DI=function(){function e(t,n){Na(this,e),this.M=t,this.userId=n}return fe(e,[{key:"getOverlay",value:function(e,t){var n=this;return OI(e).get(NI(this.userId,t)).next((function(e){return e?CI(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new yI(t,a);i.push(r.Xt(e,o))})),rI.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(NS(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(OI(e).Qt("collectionPathOverlayIndex",i))})),rI.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=ME(),a=NS(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return OI(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=_a(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=CI(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=ME(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return OI(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=CI(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return OI(e).put(function(e,t,n){var r=l(NI(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:vS(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function OI(e){return pI(e,"documentOverlays")}var LI=function(){function e(){Na(this,e)}return fe(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(mw(e.integerValue));else if("doubleValue"in e){var n=mw(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Sw(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(yw(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?qw(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Fk()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=_a(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),_w.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function MI(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function FI(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=MI(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}LI.fe=new LI;var VI=function(){function e(){Na(this,e),this.buffer=new Uint8Array(1024),this.position=0}return fe(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=_a(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=_a(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=FI(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=FI(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),UI=function(){function e(t){Na(this,e),this.De=t}return fe(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),jI=function(){function e(t){Na(this,e),this.De=t}return fe(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),zI=function(){function e(){Na(this,e),this.De=new VI,this.Ce=new UI(this.De),this.xe=new jI(this.De)}return fe(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),BI=function(){function e(t,n,r,i){Na(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return fe(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function qI(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=WI(e.arrayValue,t.arrayValue))?n:0!==(n=WI(e.directionalValue,t.directionalValue))?n:_w.comparator(e.documentKey,t.documentKey)}function WI(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var KI=function(){function e(t){Na(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=_a(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return fe(e,[{key:"$e",value:function(e){var t=Yw(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Jw(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=_a(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),GI=function(){function e(){Na(this,e),this.qe=new HI}return fe(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),rI.resolve()}},{key:"getCollectionParents",value:function(e,t){return rI.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return rI.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return rI.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return rI.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return rI.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return rI.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return rI.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return rI.resolve()}},{key:"updateIndexEntries",value:function(e,t){return rI.resolve()}}]),e}(),HI=function(){function e(){Na(this,e),this.index={}}return fe(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new NE(cw.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new NE(cw.comparator)).toArray()}}]),e}(),$I=new Uint8Array(0),QI=function(){function e(t){Na(this,e),this.user=t,this.Ge=new HI,this.Ke=new IE((function(e){return ox(e)}),(function(e,t){return ux(e,t)})),this.uid=t.uid||""}return fe(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ge.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ge.add(t)}));var a={collectionId:r,parent:NS(i)};return YI(e).put(a)}return rI.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[nw(t),""],!1,!0);return YI(e).qt(r).next((function(e){var r,i=_a(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(PS(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=XI(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=XI(e),r=ZI(e),i=JI(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=JI(e),i=!0,a=new Map;return rI.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=UE();return rI.forEach(a,(function(i,a){var o;Dk("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(ox(t)));var u=function(e,t){var n=Yw(t);if(void 0===n)return null;var r,i=_a(cx(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=_a(Jw(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=_a(cx(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=_a(Jw(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=_a(cx(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case"<":case"<=":d="nullValue"in(r=h.value)?Cw:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Mw(xw.empty(),_w.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Fk();break;case"==":case"in":case">=":d=h.value;break;case">":d=h.value,p=!1;break;case"!=":case"not-in":d=Cw}Ww(c,d)===d&&(c=d,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.startAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.startAt.position[v];Ww(c,m)===m&&(c=m,l=e.startAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new bx(i,a)}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=_a(Jw(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=_a(cx(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case">=":case">":d="nullValue"in(r=h.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Mw(xw.empty(),_w.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Tw:Fk(),p=!1;break;case"==":case"in":case"<=":d=h.value;break;case"<":d=h.value,p=!1;break;case"!=":case"not-in":d=Tw}Kw(c,d)===d&&(c=d,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.endAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.endAt.position[v];Kw(c,m)===m&&(c=m,l=e.endAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new bx(i,a)}(a,i),f=n.je(i,a,c),h=n.je(i,a,l),d=n.We(i,a,s),p=n.ze(i.indexId,u,f,!!c&&c.inclusive,h,!!l&&l.inclusive,d);return rI.forEach(p,(function(n){return r.Kt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new _w(PS(t.documentKey)))}))}))}))})).next((function(){return e}))}return rI.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):$I,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,ln(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new BI(e,_w.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new BI(e,_w.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new BI(e,_w.empty(),$I,$I)}},{key:"getFieldIndex",value:function(e,t){var n=new KI(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new zI,i=_a(Jw(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);LI.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new zI;return LI.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new zI);var i,a=0,o=_a(Jw(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=_a(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.tn(t,s.fieldPath)&&Vw(c))r=this.en(r,s,c);else{var h=f.Ne(s.kind);LI.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=ln(e),a=[],o=_a(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=_a(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new zI;f.seed(l.Se()),LI.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof lx&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=XI(e),i=ZI(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return rI.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Zw(t.sequenceNumber,new nx(EI(t.readTime),new _w(PS(t.documentKey)),t.largestBatchId)):Zw.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new Xw(fw.fromServerFormat(n),r)}));return new Qw(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ew(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=XI(e),a=ZI(e);return this.sn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return rI.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:xI(r.readTime),documentKey:NS(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return rI.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?rI.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),rI.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?rI.resolve():n.un(e,i,t,a)}))}))}))}))}},{key:"an",value:function(e,t,n){return JI(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:NS(t.key.path)})}},{key:"cn",value:function(e,t,n){return JI(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,NS(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=JI(e),i=new NE(qI);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,NS(t.path)])},(function(e,r){i=i.add(new BI(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new NE(qI),r=this.Ze(t,e);if(null==r)return n;var i=Yw(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Vw(a)){var o,u=_a(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new BI(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new BI(t.indexId,e.key,$I,r));return n}},{key:"un",value:function(e,t,n,r){var i=this;Dk("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=AE(a),s=AE(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=AE(o)):l?(i(u),u=AE(a)):(u=AE(a),s=AE(o))}}(n,r,qI,(function(n){a.push(i.an(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),rI.waitFor(a)}},{key:"sn",value:function(e){var t=1;return ZI(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return qI(e,t)})).filter((function(e,t,n){return!t||0!==qI(e,n[t-1])}));var r=[];r.push(e);var i,a=_a(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=qI(o,e),s=qI(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,""],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,""]));return c}}]),e}();function YI(e){return pI(e,"collectionParents")}function JI(e){return pI(e,"indexEntries")}function XI(e){return pI(e,"indexConfiguration")}function ZI(e){return pI(e,"indexState")}var e_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},t_=function(){function e(t,n,r){Na(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return fe(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function n_(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Vk(1===u)})));var c,l=[],f=_a(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=LS(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return rI.waitFor(a).next((function(){return l}))}function r_(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Fk();t=e.noDocument}return JSON.stringify(t).length}t_.DEFAULT_COLLECTION_PERCENTILE=10,t_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,t_.DEFAULT=new t_(41943040,t_.DEFAULT_COLLECTION_PERCENTILE,t_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),t_.DISABLED=new t_(-1,0,0);var i_=function(){function e(t,n,r,i){Na(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return fe(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return o_(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=u_(e),o=o_(e);return o.add({}).next((function(u){Vk("number"==typeof u);var s,c=new vI(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return vS(e.Jt,t)})),i=n.mutations.map((function(t){return vS(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new NE((function(e,t){return ew(e.canonicalString(),t.canonicalString())})),d=_a(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=LS(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,MS))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[u]=c.keys()})),rI.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return o_(e).get(t).next((function(e){return e?(Vk(e.userId===n.userId),SI(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?rI.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return o_(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Vk(t.batchId>=r),a=SI(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return o_(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return o_(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return SI(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=OS(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return u_(e).Wt({range:i},(function(r,i,o){var u=l(r,3),s=u[0],c=u[1],f=u[2],h=PS(c);if(s===n.userId&&t.path.isEqual(h))return o_(e).get(f).next((function(e){if(!e)throw Fk();Vk(e.userId===n.userId),a.push(SI(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new NE(ew),i=[];return t.forEach((function(t){var a=OS(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=u_(e).Wt({range:o},(function(e,i,a){var o=l(e,3),u=o[0],s=o[1],c=o[2],f=PS(s);u===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(u)})),rI.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=OS(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new NE(ew);return u_(e).Wt({range:o},(function(e,t,a){var o=l(e,3),s=o[0],c=o[1],f=o[2],h=PS(c);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.fn(e,u)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(o_(e).get(t).next((function(e){if(null===e)throw Fk();Vk(e.userId===n.userId),r.push(SI(n.M,e))})))})),rI.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return n_(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),rI.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return rI.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return u_(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=PS(e[1]);i.push(a)}else r.done()})).next((function(){Vk(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return a_(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return s_(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Vk(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function a_(e,t,n){var r=OS(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return u_(e).Wt({range:a,jt:!0},(function(e,n,r){var a=l(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function o_(e){return pI(e,"mutations")}function u_(e){return pI(e,"documentMutations")}function s_(e){return pI(e,"mutationQueues")}var c_=function(){function e(t){Na(this,e),this.wn=t}return fe(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),l_=function(){function e(t,n){Na(this,e),this.referenceDelegate=t,this.M=n}return fe(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new c_(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return iw.fromTimestamp(new rw(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return f_(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return Vk(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return f_(e).Wt((function(o,u){var s=II(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return rI.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return f_(e).Wt((function(e,n){var r=II(n);t(r)}))}},{key:"yn",value:function(e){return h_(e).get("targetGlobalKey").next((function(e){return Vk(null!==e),e}))}},{key:"pn",value:function(e,t){return h_(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return f_(e).put(_I(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=ox(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return f_(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=II(n);ux(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=d_(e);return t.forEach((function(t){var o=NS(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),rI.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=d_(e);return rI.forEach(t,(function(t){var a=NS(t.path);return rI.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=d_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=d_(e),i=UE();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=PS(e[1]),a=new _w(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=NS(t.path),r=IDBKeyRange.bound([n],[nw(n)],!1,!0),i=0;return d_(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return f_(e).get(t).next((function(e){return e?II(e):null}))}}]),e}();function f_(e){return pI(e,"targets")}function h_(e){return pI(e,"targetGlobal")}function d_(e){return pI(e,"targetDocuments")}function p_(e){return v_.apply(this,arguments)}function v_(){return v_=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===jk.FAILED_PRECONDITION&&t.message===tI){e.next=2;break}throw t;case 2:Dk("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),v_.apply(this,arguments)}function m_(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],u=a[1],s=ew(r,o);return 0===s?ew(i,u):s}var y_=function(){function e(t){Na(this,e),this.En=t,this.buffer=new NE(m_),this.An=0}return fe(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();m_(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),g_=function(){function e(t,n){Na(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return fe(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;Dk("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Ca(Aa().mark((function n(){return Aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!sI(n.t0)){n.next=12;break}Dk("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,p_(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),b_=function(){function e(t,n){Na(this,e),this.Sn=t,this.params=n}return fe(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return rI.resolve(Jk.A);var r=new y_(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Dk("LruGarbageCollector","Garbage collection skipped; disabled"),rI.resolve(e_)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Dk("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),e_):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Dk("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Pk()<=bo.DEBUG&&Dk("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),rI.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),k_=function(){function e(t,n){Na(this,e),this.db=t,this.garbageCollector=function(e,t){return new b_(e,t)}(this,n)}return fe(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return w_(e,n)}},{key:"removeReference",value:function(e,t,n){return w_(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return w_(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return s_(e).zt((function(r){return a_(e,r,t).next((function(e){return e&&(n=!0),rI.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,u){if(u<=t){var s=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,iw.min()),d_(e).delete([0,NS(o.path)])}))}));i.push(s)}})).next((function(){return rI.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return w_(e,t)}},{key:"kn",value:function(e,t){var n,r=d_(e),i=Jk.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Jk.A&&t(new _w(PS(n)),i),i=s,n=u):i=Jk.A})).next((function(){i!==Jk.A&&t(new _w(PS(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function w_(e,t){return d_(e).put(function(e,t){return{targetId:0,path:NS(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var x_=function(){function e(){Na(this,e),this.changes=new IE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return fe(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,$w.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?rI.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),E_=function(){function e(t){Na(this,e),this.M=t}return fe(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return __(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return __(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],wI(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=$w.newInvalidDocument(t);return __(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(T_(t))},(function(e,i){r=n.Fn(t,i)})).next((function(){return r}))}},{key:"$n",value:function(e,t){var n=this,r={size:0,document:$w.newInvalidDocument(t)};return __(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(T_(t))},(function(e,i){r={document:n.Fn(t,i),size:r_(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=DE();return this.Bn(e,t,(function(e,t){var i=n.Fn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=DE(),i=new _E(_w.comparator);return this.Bn(e,t,(function(e,t){var a=n.Fn(e,t);r=r.insert(e,a),i=i.insert(e,r_(t))})).next((function(){return{documents:r,Un:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return rI.resolve();var r=new NE(N_);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(T_(r.first()),T_(r.last())),a=r.getIterator(),o=a.getNext();return __(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=_w.fromSegments([].concat(ln(t.prefixPath),[t.collectionGroup,t.documentId]));o&&N_(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(T_(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),wI(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return __(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=DE(),i=_a(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Fn(_w.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=DE(),o=C_(t,n),u=C_(t,nx.max());return __(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Fn(_w.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new S_(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return I_(e).get("remoteDocumentGlobalKey").next((function(e){return Vk(!!e),e}))}},{key:"On",value:function(e,t){return I_(e).put("remoteDocumentGlobalKey",t)}},{key:"Fn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=dS(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=_w.fromSegments(t.noDocument.path),i=EI(t.noDocument.readTime);n=$w.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Fk();var a=_w.fromSegments(t.unknownDocument.path),o=EI(t.unknownDocument.version);n=$w.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new rw(e[0],e[1]);return iw.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(iw.min()))return n}return $w.newInvalidDocument(e)}}]),e}(),S_=function(e){xa(n,e);var t=Ia(n);function n(e,r){var i;return Na(this,n),(i=t.call(this)).qn=e,i.trackRemovals=r,i.Gn=new IE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return fe(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new NE((function(e,t){return ew(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.qn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=kI(t.qn.M,o);i=i.add(a.path.popLast());var c=r_(s);r+=c-u.size,n.push(t.qn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=kI(t.qn.M,o.convertToNoDocument(iw.min()));n.push(t.qn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.qn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.qn.updateMetadata(e,r)),rI.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.qn.$n(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.qn.Ln(e,t).next((function(e){var t=e.documents;return e.Un.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(x_);function I_(e){return pI(e,"remoteDocumentGlobal")}function __(e){return pI(e,"remoteDocumentsV14")}function T_(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function C_(e,t){var n=t.documentKey.path.toArray();return[e,wI(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function N_(e,t){var n=e.path.length-t.path.length;return 0!==n?n:_w.comparator(e,t)}var R_=function(){function e(t){Na(this,e),this.M=t}return fe(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new iI("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",DS,{unique:!0}),e.createObjectStore("documentMutations")}(e),A_(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=rI.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),A_(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:iw.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",DS,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return rI.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Kn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:$S});t.createIndex("collectionPathOverlayIndex",QS,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",YS,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:FS});t.createIndex("documentKeyIndex",VS),t.createIndex("collectionGroupIndex",US)}(e)})).next((function(){return i.Hn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:WS}).createIndex("sequenceNumberIndex",KS,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:GS}).createIndex("documentKeyIndex",HS,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=r_(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Kn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return rI.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return rI.forEach(r,(function(r){Vk(r.userId===n.userId);var i=SI(t.M,r);return n_(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new cw(n),o=function(e){return[0,NS(e)]}(a);r.push(t.get(o).next((function(n){return n?rI.resolve():function(n){return t.put({targetId:0,path:NS(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return rI.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:qS});var n=t.store("collectionParents"),r=new HI,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:NS(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new cw(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],PS(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=II(r),a=_I(t.M,i);return n.put(a)}))}},{key:"Hn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new _w(cw.fromString(i.document.name).popFirst(5)):i.noDocument?_w.fromSegments(i.noDocument.path):i.unknownDocument?_w.fromSegments(i.unknownDocument.path):Fk()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return rI.waitFor(r)}))}}]),e}();function A_(e){e.createObjectStore("targetDocuments",{keyPath:zS}).createIndex("documentTargetsIndex",BS,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jS,{unique:!0}),e.createObjectStore("targetGlobal")}var P_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",D_=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(Na(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Jn=a,this.window=o,this.document=u,this.Yn=c,this.Xn=l,this.Zn=f,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=function(e){return Promise.resolve()},!e.vt())throw new zk(jk.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new k_(this,i),this.cs=n+"main",this.M=new bI(s),this.hs=new aI(this.cs,this.Zn,new R_(this.M)),this.ls=new l_(this.referenceDelegate,this.M),this.fs=function(e){return new E_(e)}(this.M),this.ds=new RI,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===l&&Ok("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return fe(e,[{key:"start",value:function(){var e=this;return this.ws().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new zk(jk.FAILED_PRECONDITION,P_);return e.gs(),e.ys(),e.ps(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ls.getHighestSequenceNumber(t)}))})).then((function(t){e.ts=new Jk(t,e.Yn)})).then((function(){e.es=!0})).catch((function(t){return e.hs&&e.hs.close(),Promise.reject(t)}))}},{key:"Is",value:function(e){var t=this;return this.us=function(){var n=Ca(Aa().mark((function n(r){return Aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.hs.Ot(function(){var t=Ca(Aa().mark((function t(n){return Aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget(Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ws();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ws",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return L_(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ts(t).next((function(t){t||(e.isPrimary=!1,e.Jn.enqueueRetryable((function(){return e.us(!1)})))}))})).next((function(){return e.Es(t)})).next((function(n){return e.isPrimary&&!n?e.As(t).next((function(){return!1})):!!n&&e.Rs(t).next((function(){return!0}))}))})).catch((function(t){if(sI(t))return Dk("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Dk("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Jn.enqueueRetryable((function(){return e.us(t)})),e.isPrimary=t}))}},{key:"Ts",value:function(e){var t=this;return O_(e).get("owner").next((function(e){return rI.resolve(t.bs(e))}))}},{key:"Ps",value:function(e){return L_(e).delete(this.clientId)}},{key:"Vs",value:function(){var e=Ca(Aa().mark((function e(){var t,n,r,i,a=this;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vs(this.os,18e5)){e.next=6;break}return this.os=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=pI(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ss(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return rI.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._s){n=_a(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._s.removeItem(this.Ds(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ps",value:function(){var e=this;this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ws().then((function(){return e.Vs()})).then((function(){return e.ps()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Es",value:function(e){var t=this;return this.Xn?rI.resolve(!0):O_(e).get("owner").next((function(n){if(null!==n&&t.vs(n.leaseTimestampMs,5e3)&&!t.Cs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new zk(jk.FAILED_PRECONDITION,P_);return!1}}return!(!t.networkEnabled||!t.inForeground)||L_(e).qt().next((function(e){return void 0===t.Ss(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Dk("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ca(Aa().mark((function e(){var t=this;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.es=!1,this.xs(),this.rs&&(this.rs.cancel(),this.rs=null),this.Ns(),this.ks(),e.next=7,this.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new dI(e,Jk.A);return t.As(n).next((function(){return t.Ps(n)}))}));case 7:this.hs.close(),this.Ms();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ss",value:function(e,t){var n=this;return e.filter((function(e){return n.vs(e.updateTimeMs,t)&&!n.Cs(e.clientId)}))}},{key:"Os",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return L_(t).qt().next((function(t){return e.Ss(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.es}},{key:"getMutationQueue",value:function(e,t){return i_.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getIndexManager",value:function(e){return new QI(e)}},{key:"getDocumentOverlayCache",value:function(e){return DI.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Dk("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.Zn)?eI:13===i?ZS:12===i?XS:11===i?JS:void Fk();return this.hs.runTransaction(e,o,u,(function(i){return a=new dI(i,r.ts?r.ts.next():Jk.A),"readwrite-primary"===t?r.Ts(a).next((function(e){return!!e||r.Es(a)})).next((function(t){if(!t)throw Ok("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Jn.enqueueRetryable((function(){return r.us(!1)})),new zk(jk.FAILED_PRECONDITION,tI);return n(a)})).next((function(e){return r.Rs(a).next((function(){return e}))})):r.Fs(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e){var t=this;return O_(e).get("owner").next((function(e){if(null!==e&&t.vs(e.leaseTimestampMs,5e3)&&!t.Cs(e.ownerId)&&!t.bs(e)&&!(t.Xn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new zk(jk.FAILED_PRECONDITION,P_)}))}},{key:"Rs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return O_(e).put("owner",t)}},{key:"As",value:function(e){var t=this,n=O_(e);return n.get("owner").next((function(e){return t.bs(e)?(Dk("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):rI.resolve()}))}},{key:"vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Ok("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gs",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=function(){e.Jn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ws()}))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ns",value:function(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}},{key:"ys",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=function(){t.xs(),!Wa()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Jn.enterRestrictedMode(!0),t.Jn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ns))}},{key:"ks",value:function(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}},{key:"Cs",value:function(e){var t;try{var n=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Dk("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ok("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xs",value:function(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(Nm){Ok("Failed to set zombie client id.",Nm)}}},{key:"Ms",value:function(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(Nm){}}},{key:"Ds",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return aI.vt()}}]),e}();function O_(e){return pI(e,"owner")}function L_(e){return pI(e,"clientMetadata")}function M_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var F_=function(){function e(t,n,r){Na(this,e),this.fs=t,this.$s=n,this.indexManager=r}return fe(e,[{key:"Bs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.fs.getEntry(e,t).next((function(e){var t,r=_a(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Us",value:function(e,t){e.forEach((function(e,n){var r,i=_a(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"qs",value:function(e,t){var n=this;return this.fs.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Us(t,e)}))}},{key:"Ks",value:function(e,t,n){return function(e){return _w.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):Ax(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new _w(t)).next((function(e){var t=LE();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=LE();return this.indexManager.getCollectionParents(e,i).next((function(o){return rI.forEach(o,(function(o){var u=function(e,t){return new Sx(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.fs.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.$s.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=_a(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=_a(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=$w.newInvalidDocument(s),r=r.insert(s,c)),cE(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Vx(t,n)||(r=r.remove(e))})),r}))}}]),e}(),V_=function(){function e(t,n,r,i){Na(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return fe(e,null,[{key:"Js",value:function(t,n){var r,i=UE(),a=UE(),o=_a(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),U_=function(){function e(){Na(this,e)}return fe(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Ks",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(iw.min())?this.Zs(e,t):this.Xs.qs(e,r).next((function(a){var o=i.ti(t,a);return(Tx(t)||Cx(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(Pk()<=bo.DEBUG&&Dk("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Fx(t)),i.Xs.Ks(e,t,ex(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new NE(jx(e));return t.forEach((function(t,r){Vx(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return Pk()<=bo.DEBUG&&Dk("QueryEngine","Using full collection scan to execute query:",Fx(t)),this.Xs.Ks(e,t,nx.min())}}]),e}(),j_=function(){function e(t,n,r,i){Na(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new _E(ew),this.ii=new IE((function(e){return ox(e)}),ux),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(r)}return fe(e,[{key:"ui",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new F_(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function z_(e,t,n,r){return new j_(e,t,n,r)}function B_(e,t){return q_.apply(this,arguments)}function q_(){return q_=Ca(Aa().mark((function e(t,n){var r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uk(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.$s.getAllMutationBatches(e).next((function(i){return t=i,r.ui(n),r.$s.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=UE(),s=_a(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=_a(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,p=_a(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=_a(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.ai.qs(e,u).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),q_.apply(this,arguments)}function W_(e,t){var n=Uk(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=rI.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Vk(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.$s.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}function K_(e){var t=Uk(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ls.getLastRemoteSnapshotVersion(e)}))}function G_(e,t){var n=Uk(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.ls.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.ls.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(dw.EMPTY_BYTE_STRING,iw.min()).withLastLimboFreeSnapshotVersion(iw.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.ls.updateTargetData(e,c))}}));var u=DE();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(H_(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(iw.min())){var s=n.ls.getLastRemoteSnapshotVersion(e).next((function(t){return n.ls.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return rI.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ai.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.si=i,e}))}function H_(e,t,n){var r=UE();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=DE();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(iw.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Dk("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function $_(e,t){var n=Uk(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.$s.getNextMutationBatchAfterBatchId(e,t)}))}function Q_(e,t){var n=Uk(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ls.getTargetData(e,t).next((function(i){return i?(r=i,rI.resolve(r)):n.ls.allocateTargetId(e).next((function(i){return r=new gI(t,i,0,e.currentSequenceNumber),n.ls.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function Y_(e,t,n){return J_.apply(this,arguments)}function J_(){return J_=Ca(Aa().mark((function e(t,n,r){var i,a,o;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Uk(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),sI(e.t1)){e.next=12;break}throw e.t1;case 12:Dk("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),J_.apply(this,arguments)}function X_(e,t,n){var r=Uk(e),i=iw.min(),a=UE();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Uk(e),i=r.ii.get(n);return void 0!==i?rI.resolve(r.si.get(i)):r.ls.getTargetData(t,n)}(r,e,Dx(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Ks(e,t,n?i:iw.min(),n?a:UE())})).next((function(e){return tT(r,Ux(t),e),{documents:e,hi:a}}))}))}function Z_(e,t){var n=Uk(e),r=Uk(n.ls),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function eT(e,t){var n=Uk(e),r=n.ri.get(t)||iw.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.oi.getAllFromCollectionGroup(e,t,ex(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return tT(n,t,e),e}))}function tT(e,t,n){var r=iw.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ri.set(t,r)}function nT(e,t,n,r){return rT.apply(this,arguments)}function rT(){return rT=Ca(Aa().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Uk(t),o=UE(),u=DE(),s=_a(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.li(l.metadata.name),l.document&&(o=o.add(f)),(h=n.fi(l)).setReadTime(n.di(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,Q_(a,function(e){return Dx(_x(cw.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return H_(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.ls.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.ls.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ai.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),rT.apply(this,arguments)}function iT(e,t){return aT.apply(this,arguments)}function aT(){return aT=Ca(Aa().mark((function e(t,n){var r,i,a,o=arguments;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:UE(),e.next=3,Q_(t,Dx(TI(n.bundledQuery)));case 3:return i=e.sent,a=Uk(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=rS(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.ds.saveNamedQuery(e,n);var o=i.withResumeToken(dw.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.ls.updateTargetData(e,o).next((function(){return a.ls.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.ls.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),aT.apply(this,arguments)}var oT=function(){function e(t){Na(this,e),this.M=t,this._i=new Map,this.wi=new Map}return fe(e,[{key:"getBundleMetadata",value:function(e,t){return rI.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:rS(n.createTime)}),rI.resolve()}},{key:"getNamedQuery",value:function(e,t){return rI.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:TI(e.bundledQuery),readTime:rS(e.readTime)}}(t)),rI.resolve()}}]),e}(),uT=function(){function e(){Na(this,e),this.overlays=new _E(_w.comparator),this.mi=new Map}return fe(e,[{key:"getOverlay",value:function(e,t){return rI.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),rI.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),rI.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=ME(),i=t.length+1,a=new _w(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return rI.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new _E((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=ME(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=ME(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return rI.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new yI(t,n));var a=this.mi.get(t);void 0===a&&(a=UE(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),sT=function(){function e(){Na(this,e),this.gi=new NE(cT.yi),this.pi=new NE(cT.Ii)}return fe(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new cT(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new cT(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new _w(new cw([])),r=new cT(n,e),i=new cT(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new _w(new cw([])),n=new cT(t,e),r=new cT(t,e+1),i=UE();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new cT(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),cT=function(){function e(t,n){Na(this,e),this.key=t,this.Vi=n}return fe(e,null,[{key:"yi",value:function(e,t){return _w.comparator(e.key,t.key)||ew(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return ew(e.Vi,t.Vi)||_w.comparator(e.key,t.key)}}]),e}(),lT=function(){function e(t,n){Na(this,e),this.indexManager=t,this.referenceDelegate=n,this.$s=[],this.vi=1,this.Si=new NE(cT.yi)}return fe(e,[{key:"checkEmpty",value:function(e){return rI.resolve(0===this.$s.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.$s.length>0&&this.$s[this.$s.length-1];var a=new vI(i,t,n,r);this.$s.push(a);var o,u=_a(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Si=this.Si.add(new cT(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return rI.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return rI.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return rI.resolve(this.$s.length>i?this.$s[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return rI.resolve(0===this.$s.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return rI.resolve(this.$s.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new cT(t,0),i=new cT(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),rI.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new NE(ew);return t.forEach((function(e){var t=new cT(e,0),i=new cT(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),rI.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;_w.isDocumentKey(i)||(i=i.child(""));var a=new cT(new _w(i),0),o=new NE(ew);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),rI.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Vk(0===this.Ni(t.batchId,"removed")),this.$s.shift();var r=this.Si;return rI.forEach(t.mutations,(function(i){var a=new cT(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new cT(t,0),r=this.Si.firstAfterOrEqual(n);return rI.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.$s.length,rI.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.$s.length?0:e-this.$s[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}]),e}(),fT=function(){function e(t){Na(this,e),this.ki=t,this.docs=new _E(_w.comparator),this.size=0}return fe(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return rI.resolve(n?n.document.mutableCopy():$w.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=DE();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():$w.newInvalidDocument(e))})),rI.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=DE(),i=new _w(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||rx(tx(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return rI.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Fk()}},{key:"Mi",value:function(e,t){return rI.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new hT(this)}},{key:"getSize",value:function(e){return rI.resolve(this.size)}}]),e}(),hT=function(e){xa(n,e);var t=Ia(n);function n(e){var r;return Na(this,n),(r=t.call(this)).qn=e,r}return fe(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.qn.addEntry(e,i)):t.qn.removeEntry(r)})),rI.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.qn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.qn.getEntries(e,t)}}]),n}(x_),dT=function(){function e(t){Na(this,e),this.persistence=t,this.Oi=new IE((function(e){return ox(e)}),ux),this.lastRemoteSnapshotVersion=iw.min(),this.highestTargetId=0,this.Fi=0,this.$i=new sT,this.targetCount=0,this.Bi=c_.mn()}return fe(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),rI.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return rI.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return rI.resolve(this.Fi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),rI.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fi&&(this.Fi=t),rI.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new c_(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,rI.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),rI.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,rI.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),rI.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return rI.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return rI.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.$i.Ti(t,n),rI.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.$i.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),rI.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.$i.Ri(t),rI.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.$i.Pi(t);return rI.resolve(n)}},{key:"containsKey",value:function(e,t){return rI.resolve(this.$i.containsKey(t))}}]),e}(),pT=function(){function e(t,n){var r=this;Na(this,e),this.Li={},this.overlays={},this.ts=new Jk(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new dT(this),this.indexManager=new GI,this.fs=new fT((function(e){return r.referenceDelegate.Ui(e)})),this.M=new bI(n),this.ds=new oT(this.M)}return fe(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.es=!1,Promise.resolve()}},{key:"started",get:function(){return this.es}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new uT,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new lT(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Dk("MemoryPersistence","Starting transaction:",e);var i=new vT(this.ts.next());return this.referenceDelegate.qi(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ki",value:function(e,t){return rI.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),vT=function(e){xa(n,e);var t=Ia(n);function n(e){var r;return Na(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return fe(n)}(nI),mT=function(){function e(t){Na(this,e),this.persistence=t,this.Qi=new sT,this.ji=null}return fe(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw Fk()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),rI.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),rI.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),rI.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qi",value:function(){this.ji=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rI.forEach(this.zi,(function(r){var i=_w.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,iw.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"Ui",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return rI.or([function(){return rI.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ki(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function yT(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function gT(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function bT(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var kT=function(){function e(t,n,r,i){Na(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return fe(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new zk(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Ok("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),wT=function(){function e(t,n,r){Na(this,e),this.targetId=t,this.state=n,this.error=r}return fe(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new zk(i.error.code,i.error.message))),a?new e(t,i.state,r):(Ok("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),xT=function(){function e(t,n){Na(this,e),this.clientId=t,this.activeTargetIds=n}return fe(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=zE(),o=0;i&&o<r.activeTargetIds.length;++o)i=Iw(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Ok("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),ET=function(){function e(t,n){Na(this,e),this.clientId=t,this.onlineState=n}return fe(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ok("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),ST=function(){function e(){Na(this,e),this.activeTargetIds=zE()}return fe(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),IT=function(){function e(t,n,r,i,a){Na(this,e),this.window=t,this.Jn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new _E(ew),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=yT(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new ST),this.ar=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return fe(e,[{key:"start",value:function(){var e=Ca(Aa().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Os();case 2:t=e.sent,n=_a(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(yT(this.persistenceKey,i)))&&(o=xT.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=_a(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(bT(this.persistenceKey,e));if(n){var r=wT.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(bT(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Dk("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Dk("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Dk("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Dk("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void Ok("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable(Ca(Aa().mark((function e(){var r,i,a,o,u,s,c;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.ar.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=Jk.A;if(null!=e)try{var n=JSON.parse(e);Vk("number"==typeof n),t=n}catch(e){Ok("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Jk.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new kT(this.currentUser,e,t,n),i=gT(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=gT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=bT(this.persistenceKey,e),i=new wT(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.ar.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return xT.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return kT.Ji(new Nk(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return wT.Ji(r,t)}},{key:"wr",value:function(e){return ET.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"vr",value:function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:Dk("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Or(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=zE();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),_T=function(){function e(){Na(this,e),this.Fr=new ST,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return fe(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new ST,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),TT=function(){function e(){Na(this,e)}return fe(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),CT=function(){function e(){var t=this;Na(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Gr()},this.Kr=[],this.Qr()}return fe(e,[{key:"Br",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){Dk("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=_a(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){Dk("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=_a(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),NT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},RT=function(){function e(t){Na(this,e),this.jr=t.jr,this.Wr=t.Wr}return fe(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),AT=function(e){xa(n,e);var t=Ia(n);function n(e){var r;return Na(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return fe(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Tk;o.listenOnce(xk.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case wk.NO_ERROR:var t=o.getResponseJson();Dk("Connection","XHR received:",JSON.stringify(t)),i(t);break;case wk.TIMEOUT:Dk("Connection",'RPC "'+e+'" timed out'),a(new zk(jk.DEADLINE_EXCEEDED,"Request time out"));break;case wk.HTTP_ERROR:var n=o.getStatus();if(Dk("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(jk).indexOf(t)>=0?t:jk.UNKNOWN}(r.status);a(new zk(u,r.message))}else a(new zk(jk.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new zk(jk.UNAVAILABLE,"Connection failed."));break;default:Fk()}}finally{Dk("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=bk(),a=kk(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ik({})),this.uo(o.initMessageHeaders,t,n),qa()||Ga()||Ba().indexOf("Electron/")>=0||Ha()||Ba().indexOf("MSAppHost/")>=0||Ka()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Dk("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new RT({jr:function(e){l?Dk("Connection","Not sending because WebChannel is closed:",e):(c||(Dk("Connection","Opening WebChannel transport."),s.open(),c=!0),Dk("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,_k.EventType.OPEN,(function(){l||Dk("Connection","WebChannel transport opened.")})),h(s,_k.EventType.CLOSE,(function(){l||(l=!0,Dk("Connection","WebChannel transport closed"),f.eo())})),h(s,_k.EventType.ERROR,(function(e){l||(l=!0,Lk("Connection","WebChannel transport errored:",e),f.eo(new zk(jk.UNAVAILABLE,"The operation could not be completed")))})),h(s,_k.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Vk(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Dk("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=gE[e];if(void 0!==t)return SE(t)}(a),u=i.message;void 0===o&&(o=jk.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new zk(o,u)),s.close()}else Dk("Connection","WebChannel received:",n),f.no(n)}})),h(a,Ek.STAT_EVENT,(function(e){e.stat===Sk.PROXY?Dk("Connection","Detected buffering proxy"):e.stat===Sk.NOPROXY&&Dk("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){Na(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return fe(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);Dk("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.ao(e,a,o,n).then((function(e){return Dk("RestConnection","Received: ",e),e}),(function(t){throw Lk("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"co",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rk,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=NT[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function PT(){return"undefined"!=typeof window?window:null}function DT(){return"undefined"!=typeof document?document:null}function OT(e){return new ZE(e,!0)}var LT=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Na(this,e),this.Jn=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return fe(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&Dk("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),MT=function(){function e(t,n,r,i,a,o,u,s){Na(this,e),this.Jn=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new LT(t,n)}return fe(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"close",value:function(){var e=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===jk.RESOURCE_EXHAUSTED?(Ok(n.toString()),Ok("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===jk.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new zk(jk.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.vo=n.Jn.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Ca(Aa().mark((function t(){return Aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return Dk("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.Jn.enqueueAndForget((function(){return t.Po===e?n():(Dk("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),FT=function(e){xa(n,e);var t=Ia(n);function n(e,r,i,a,o,u){var s;return Na(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return fe(n,[{key:"Go",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Fk()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Vk(void 0===t||"string"==typeof t),dw.fromBase64String(t||"")):(Vk(void 0===t||t instanceof Uint8Array),dw.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?jk.UNKNOWN:SE(e.code);return new zk(t,e.message||"")}(o);n=new GE(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=uS(e,s.document.name),l=rS(s.document.updateTime),f=new Gw({mapValue:{fields:s.document.fields}}),h=$w.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new WE(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=uS(e,v.document),y=v.readTime?rS(v.readTime):iw.min(),g=$w.newNoDocument(m,y),b=v.removedTargetIds||[];n=new WE([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=uS(e,k.document),x=k.removedTargetIds||[];n=new WE([],x,w,null)}else{if(!("filter"in t))return Fk();t.filter;var E=t.filter;E.targetId;var S=E.count||0,I=new xE(S),_=E.targetId;n=new KE(_,I)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return iw.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?iw.min():t.readTime?rS(t.readTime):iw.min()}(e);return this.listener.Ko(t,n)}},{key:"Qo",value:function(e){var t={};t.database=lS(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=sx(r)?{documents:yS(e,r)}:{query:gS(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=tS(e,t.resumeToken):t.snapshotVersion.compareTo(iw.min())>0&&(n.readTime=eS(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fk()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=lS(this.M),t.removeTarget=e,this.Oo(t)}}]),n}(MT),VT=function(e){xa(n,e);var t=Ia(n);function n(e,r,i,a,o,u){var s;return Na(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Wo=!1,s}return fe(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,wa(ba(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Go",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(Vk(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(Vk(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?rS(e.updateTime):rS(t);return n.isEqual(iw.min())&&(n=rS(t)),new iE(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=rS(e.commitTime);return this.listener.Jo(n,t)}return Vk(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=lS(this.M),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return vS(t.M,e)}))};this.Oo(n)}}]),n}(MT),UT=function(e){xa(n,e);var t=Ia(n);function n(e,r,i,a){var o;return Na(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.Zo=!1,o}return fe(n,[{key:"tu",value:function(){if(this.Zo)throw new zk(jk.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===jk.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new zk(jk.UNKNOWN,e.toString())}))}},{key:"co",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],u=a[1];return r.bo.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===jk.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new zk(jk.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return fe((function e(){Na(this,e)}))}()),jT=function(){function e(t,n){Na(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return fe(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(Ok(t),this.su=!1):Dk("OnlineStateTracker",t)}},{key:"au",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),zT=fe((function e(t,n,r,i,a){var o=this;Na(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=XT(o),!e.t0){e.next=5;break}return Dk("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ca(Aa().mark((function e(t){var n;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Uk(t)).lu.add(4),e.next=4,WT(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,BT(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new jT(r,i)}));function BT(e){return qT.apply(this,arguments)}function qT(){return qT=Ca(Aa().mark((function e(t){var n,r,i;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!XT(t)){e.next=18;break}n=_a(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),qT.apply(this,arguments)}function WT(e){return KT.apply(this,arguments)}function KT(){return KT=Ca(Aa().mark((function e(t){var n,r,i;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=_a(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),KT.apply(this,arguments)}function GT(e,t){var n=Uk(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),JT(n)?YT(n):TC(n).Co()&&$T(n,t))}function HT(e,t){var n=Uk(e),r=TC(n);n.hu.delete(t),r.Co()&&QT(n,t),0===n.hu.size&&(r.Co()?r.ko():XT(n)&&n._u.set("Unknown"))}function $T(e,t){e.wu.Z(t.targetId),TC(e).Qo(t)}function QT(e,t){e.wu.Z(t),TC(e).jo(t)}function YT(e){e.wu=new $E({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.hu.get(t)||null}}),TC(e).start(),e._u.iu()}function JT(e){return XT(e)&&!TC(e).Do()&&e.hu.size>0}function XT(e){return 0===Uk(e).lu.size}function ZT(e){e.wu=void 0}function eC(e){return tC.apply(this,arguments)}function tC(){return tC=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){$T(t,e)}));case 1:case"end":return e.stop()}}),e)}))),tC.apply(this,arguments)}function nC(e,t){return rC.apply(this,arguments)}function rC(){return rC=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ZT(t),JT(t)?(t._u.uu(n),YT(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),rC.apply(this,arguments)}function iC(e,t,n){return aC.apply(this,arguments)}function aC(){return aC=Ca(Aa().mark((function e(t,n,r){var i;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof GE&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ca(Aa().mark((function e(t,n){var r,i,a,o;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=_a(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Dk("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,oC(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof WE?t.wu.ut(n):n instanceof KE?t.wu._t(n):t.wu.ht(n),r.isEqual(iw.min())){e.next=29;break}return e.prev=14,e.next=17,K_(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(dw.EMPTY_BYTE_STRING,n.snapshotVersion)),QT(e,t);var r=new gI(n.target,t,1,n.sequenceNumber);$T(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Dk("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,oC(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),aC.apply(this,arguments)}function oC(e,t,n){return uC.apply(this,arguments)}function uC(){return uC=Ca(Aa().mark((function e(t,n,r){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sI(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,WT(t);case 5:t._u.set("Offline"),r||(r=function(){return K_(t.localStore)}),t.asyncQueue.enqueueRetryable(Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dk("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,BT(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),uC.apply(this,arguments)}function sC(e,t){return t().catch((function(n){return oC(e,n,t)}))}function cC(e){return lC.apply(this,arguments)}function lC(){return lC=Ca(Aa().mark((function e(t){var n,r,i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Uk(t),r=CC(n),i=n.cu.length>0?n.cu[n.cu.length-1].batchId:-1;case 2:if(!fC(n)){e.next=19;break}return e.prev=3,e.next=6,$_(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.cu.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,hC(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,oC(n,e.t0);case 17:e.next=2;break;case 19:dC(n)&&pC(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),lC.apply(this,arguments)}function fC(e){return XT(e)&&e.cu.length<10}function hC(e,t){e.cu.push(t);var n=CC(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function dC(e){return XT(e)&&!CC(e).Do()&&e.cu.length>0}function pC(e){CC(e).start()}function vC(e){return mC.apply(this,arguments)}function mC(){return mC=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:CC(t).Xo();case 1:case"end":return e.stop()}}),e)}))),mC.apply(this,arguments)}function yC(e){return gC.apply(this,arguments)}function gC(){return gC=Ca(Aa().mark((function e(t){var n,r,i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=CC(t),r=_a(t.cu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),gC.apply(this,arguments)}function bC(e,t,n){return kC.apply(this,arguments)}function kC(){return kC=Ca(Aa().mark((function e(t,n,r){var i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.cu.shift(),a=mI.from(i,n,r),e.next=3,sC(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,cC(t);case 5:case"end":return e.stop()}}),e)}))),kC.apply(this,arguments)}function wC(e,t){return xC.apply(this,arguments)}function xC(){return xC=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&CC(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ca(Aa().mark((function e(t,n){var r,i;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!EE(i=n.code)||i===jk.ABORTED){e.next=7;break}return r=t.cu.shift(),CC(t).No(),e.next=5,sC(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,cC(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:dC(t)&&pC(t);case 5:case"end":return e.stop()}}),e)}))),xC.apply(this,arguments)}function EC(e,t){return SC.apply(this,arguments)}function SC(){return SC=Ca(Aa().mark((function e(t,n){var r,i;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Uk(t)).asyncQueue.verifyOperationInProgress(),Dk("RemoteStore","RemoteStore received new credentials"),i=XT(r),r.lu.add(3),e.next=6,WT(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,BT(r);case 12:case"end":return e.stop()}}),e)}))),SC.apply(this,arguments)}function IC(e,t){return _C.apply(this,arguments)}function _C(){return _C=Ca(Aa().mark((function e(t,n){var r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Uk(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,BT(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,WT(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),_C.apply(this,arguments)}function TC(e){return e.mu||(e.mu=function(e,t,n){var r=Uk(e);return r.tu(),new FT(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:eC.bind(null,e),Jr:nC.bind(null,e),Ko:iC.bind(null,e)}),e.fu.push(function(){var t=Ca(Aa().mark((function t(n){return Aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),JT(e)?YT(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:ZT(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function CC(e){return e.gu||(e.gu=function(e,t,n){var r=Uk(e);return r.tu(),new VT(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:vC.bind(null,e),Jr:wC.bind(null,e),Yo:yC.bind(null,e),Jo:bC.bind(null,e)}),e.fu.push(function(){var t=Ca(Aa().mark((function t(n){return Aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,cC(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.cu.length>0&&(Dk("RemoteStore","Stopping write stream with ".concat(e.cu.length," pending writes")),e.cu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var NC=function(){function e(t,n,r,i,a){Na(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Bk,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return fe(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new zk(jk.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function RC(e,t){if(Ok("AsyncQueue","".concat(t,": ").concat(e)),sI(e))return new zk(jk.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var AC=function(){function e(t){Na(this,e),this.comparator=t?function(e,n){return t(e,n)||_w.comparator(e.key,n.key)}:function(e,t){return _w.comparator(e.key,t.key)},this.keyedMap=LE(),this.sortedSet=new _E(this.comparator)}return fe(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),PC=function(){function e(){Na(this,e),this.yu=new _E(_w.comparator)}return fe(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Fk():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),DC=function(){function e(t,n,r,i,a,o,u,s){Na(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return fe(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,AC.emptySet(n),a,r,i,!0,!1)}}]),e}(),OC=fe((function e(){Na(this,e),this.Iu=void 0,this.listeners=[]})),LC=fe((function e(){Na(this,e),this.queries=new IE((function(e){return Mx(e)}),Lx),this.onlineState="Unknown",this.Tu=new Set}));function MC(e,t){return FC.apply(this,arguments)}function FC(){return FC=Ca(Aa().mark((function e(t,n){var r,i,a,o,u;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Uk(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new OC),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=RC(e.t0,"Initialization of query '".concat(Fx(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&BC(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),FC.apply(this,arguments)}function VC(e,t){return UC.apply(this,arguments)}function UC(){return UC=Ca(Aa().mark((function e(t,n){var r,i,a,o,u;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Uk(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),UC.apply(this,arguments)}function jC(e,t){var n,r=Uk(e),i=!1,a=_a(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=_a(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&BC(r)}function zC(e,t,n){var r=Uk(e),i=r.queries.get(t);if(i){var a,o=_a(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function BC(e){e.Tu.forEach((function(e){e.next()}))}var qC=function(){function e(t,n,r){Na(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return fe(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=_a(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new DC(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),a=!0):this.vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=DC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),WC=function(){function e(t,n){Na(this,e),this.payload=t,this.byteLength=n}return fe(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),KC=function(){function e(t){Na(this,e),this.M=t}return fe(e,[{key:"li",value:function(e){return uS(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?dS(this.M,e.document,!1):$w.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return rS(e)}}]),e}(),GC=function(){function e(t,n,r){Na(this,e),this.xu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=HC(t)}return fe(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=cw.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new KC(this.M),i=_a(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.li(a.metadata.name),s=_a(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||UE()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ca(Aa().mark((function e(){var t,n,r,i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nT(this.localStore,new KC(this.M),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=_a(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,iT(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function HC(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var $C=fe((function e(t){Na(this,e),this.key=t})),QC=fe((function e(t){Na(this,e),this.key=t})),YC=function(){function e(t,n){Na(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=UE(),this.mutatedKeys=UE(),this.Lu=jx(t),this.Uu=new AC(this.Lu)}return fe(e,[{key:"qu",get:function(){return this.Fu}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Ku:new PC,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Tx(this.query)&&i.size===this.query.limit?i.last():null,c=Cx(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Vx(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Tx(this.query)||Cx(this.query))for(;o.size>this.query.limit;){var l=Tx(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Ku:r,ei:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Ku.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fk()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new DC(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new PC,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=UE(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new QC(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new $C(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.hi,this.Bu=UE();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return DC.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),JC=fe((function e(t,n,r){Na(this,e),this.query=t,this.targetId=n,this.view=r})),XC=fe((function e(t){Na(this,e),this.key=t,this.Xu=!1})),ZC=function(){function e(t,n,r,i,a,o){Na(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.ta=new IE((function(e){return Mx(e)}),Lx),this.ea=new Map,this.na=new Set,this.sa=new _E(_w.comparator),this.ia=new Map,this.ra=new sT,this.oa={},this.ua=new Map,this.aa=c_.gn(),this.onlineState="Unknown",this.ca=void 0}return fe(e,[{key:"isPrimaryClient",get:function(){return!0===this.ca}}]),e}();function eN(e,t){return tN.apply(this,arguments)}function tN(){return tN=Ca(Aa().mark((function e(t,n){var r,i,a,o,u,s;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=HN(t),!(o=r.ta.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,Q_(r.localStore,Dx(n));case 8:return u=e.sent,r.isPrimaryClient&&GT(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,nN(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),tN.apply(this,arguments)}function nN(e,t,n,r){return rN.apply(this,arguments)}function rN(){return rN=Ca(Aa().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ha=function(e,n,r){return function(){var e=Ca(Aa().mark((function e(t,n,r,i){var a,o,u;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,X_(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(EN(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,X_(t.localStore,n,!0);case 3:return a=e.sent,o=new YC(n,a.hi),u=o.Gu(a.documents),s=qE.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),EN(t,r,c.zu),l=new JC(n,r,o),e.abrupt("return",(t.ta.set(n,l),t.ea.has(r)?t.ea.get(r).push(n):t.ea.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),rN.apply(this,arguments)}function iN(e,t){return aN.apply(this,arguments)}function aN(){return aN=Ca(Aa().mark((function e(t,n){var r,i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Uk(t),i=r.ta.get(n),!((a=r.ea.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ea.set(i.targetId,a.filter((function(e){return!Lx(e,n)}))),void r.ta.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Y_(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),HT(r.remoteStore,i.targetId),wN(r,i.targetId)})).catch(p_);case 9:e.next=14;break;case 11:return wN(r,i.targetId),e.next=14,Y_(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),aN.apply(this,arguments)}function oN(e,t,n){return uN.apply(this,arguments)}function uN(){return uN=Ca(Aa().mark((function e(t,n,r){var i,a,o;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$N(t),e.prev=1,e.next=4,function(e,t){var n,r=Uk(e),i=rw.now(),a=t.reduce((function(e,t){return e.add(t.key)}),UE());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ai.qs(e,a).next((function(a){n=a;var o,u=[],s=_a(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=lE(c,n.get(c.key));null!=l&&u.push(new pE(c.key,l,Hw(l.value.mapValue),aE.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.$s.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oa[e.currentUser.toKey()];r||(r=new _E(ew)),r=r.insert(t,n),e.oa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,_N(i,a.changes);case 9:return e.next=11,cC(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=RC(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),uN.apply(this,arguments)}function sN(e,t){return cN.apply(this,arguments)}function cN(){return cN=Ca(Aa().mark((function e(t,n){var r,i;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uk(t),e.prev=1,e.next=4,G_(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ia.get(t);n&&(Vk(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?Vk(n.Xu):e.removedDocuments.size>0&&(Vk(n.Xu),n.Xu=!1))})),e.next=8,_N(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,p_(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),cN.apply(this,arguments)}function lN(e,t,n){var r=Uk(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ta.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Uk(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=_a(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&BC(n)}(r.eventManager,t),i.length&&r.Zu.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function fN(e,t,n){return hN.apply(this,arguments)}function hN(){return hN=Ca(Aa().mark((function e(t,n,r){var i,a,o,u,s,c;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Uk(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ia.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new _E(_w.comparator)).insert(o,$w.newNoDocument(o,iw.min())),s=UE().add(o),c=new BE(iw.min(),new Map,new NE(ew),u,s),e.next=9,sN(i,c);case 9:i.sa=i.sa.remove(o),i.ia.delete(n),IN(i),e.next=16;break;case 14:return e.next=16,Y_(i.localStore,n,!1).then((function(){return wN(i,n,r)})).catch(p_);case 16:case"end":return e.stop()}}),e)}))),hN.apply(this,arguments)}function dN(e,t){return pN.apply(this,arguments)}function pN(){return pN=Ca(Aa().mark((function e(t,n){var r,i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uk(t),i=n.batch.batchId,e.prev=1,e.next=4,W_(r.localStore,n);case 4:return a=e.sent,kN(r,i,null),bN(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,_N(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,p_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),pN.apply(this,arguments)}function vN(e,t,n){return mN.apply(this,arguments)}function mN(){return mN=Ca(Aa().mark((function e(t,n,r){var i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Uk(t),e.prev=1,e.next=4,function(e,t){var n=Uk(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.$s.lookupMutationBatch(e,t).next((function(t){return Vk(null!==t),r=t.keys(),n.$s.removeMutationBatch(e,t)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,kN(i,n,r),bN(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,_N(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,p_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),mN.apply(this,arguments)}function yN(e,t){return gN.apply(this,arguments)}function gN(){return gN=Ca(Aa().mark((function e(t,n){var r,i,a,o;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return XT((r=Uk(t)).remoteStore)||Dk("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Uk(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.$s.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ua.get(i)||[]).push(n),r.ua.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=RC(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),gN.apply(this,arguments)}function bN(e,t){(e.ua.get(t)||[]).forEach((function(e){e.resolve()})),e.ua.delete(t)}function kN(e,t,n){var r=Uk(e),i=r.oa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oa[r.currentUser.toKey()]=i}}function wN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=_a(e.ea.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ta.delete(a),n&&e.Zu.la(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ea.delete(t),e.isPrimaryClient&&e.ra.Ri(t).forEach((function(t){e.ra.containsKey(t)||xN(e,t)}))}function xN(e,t){e.na.delete(t.path.canonicalString());var n=e.sa.get(t);null!==n&&(HT(e.remoteStore,n),e.sa=e.sa.remove(t),e.ia.delete(n),IN(e))}function EN(e,t,n){var r,i=_a(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof $C?(e.ra.addReference(a.key,t),SN(e,a)):a instanceof QC?(Dk("SyncEngine","Document no longer in limbo: "+a.key),e.ra.removeReference(a.key,t),e.ra.containsKey(a.key)||xN(e,a.key)):Fk()}}catch(o){i.e(o)}finally{i.f()}}function SN(e,t){var n=t.key,r=n.path.canonicalString();e.sa.get(n)||e.na.has(r)||(Dk("SyncEngine","New document in limbo: "+n),e.na.add(r),IN(e))}function IN(e){for(;e.na.size>0&&e.sa.size<e.maxConcurrentLimboResolutions;){var t=e.na.values().next().value;e.na.delete(t);var n=new _w(cw.fromString(t)),r=e.aa.next();e.ia.set(r,new XC(n)),e.sa=e.sa.insert(n,r),GT(e.remoteStore,new gI(Dx(_x(n.path)),r,2,Jk.A))}}function _N(e,t,n){return TN.apply(this,arguments)}function TN(){return TN=Ca(Aa().mark((function e(t,n,r){var i,a,o,u;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Uk(t),a=[],o=[],u=[],e.t0=i.ta.isEmpty(),e.t0){e.next=9;break}return i.ta.forEach((function(e,t){u.push(i.ha(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=V_.Js(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Ko(a),e.next=9,function(){var e=Ca(Aa().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uk(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return rI.forEach(n,(function(t){return rI.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return rI.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),sI(e.t0)){e.next=10;break}throw e.t0;case 10:Dk("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=_a(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.si.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.si=r.si.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),TN.apply(this,arguments)}function CN(e,t){return NN.apply(this,arguments)}function NN(){return NN=Ca(Aa().mark((function e(t,n){var r,i;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Uk(t)).currentUser.isEqual(n)){e.next=11;break}return Dk("SyncEngine","User change. New user:",n.toKey()),e.next=5,B_(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ua.forEach((function(e){e.forEach((function(e){e.reject(new zk(jk.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ua.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,_N(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),NN.apply(this,arguments)}function RN(e,t){var n=Uk(e),r=n.ia.get(t);if(r&&r.Xu)return UE().add(r.key);var i=UE(),a=n.ea.get(t);if(!a)return i;var o,u=_a(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ta.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function AN(e,t){return PN.apply(this,arguments)}function PN(){return PN=Ca(Aa().mark((function e(t,n){var r,i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uk(t),e.next=3,X_(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&EN(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),PN.apply(this,arguments)}function DN(e,t){return ON.apply(this,arguments)}function ON(){return ON=Ca(Aa().mark((function e(t,n){var r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uk(t),e.abrupt("return",eT(r.localStore,n).then((function(e){return _N(r,e)})));case 2:case"end":return e.stop()}}),e)}))),ON.apply(this,arguments)}function LN(e,t,n,r){return MN.apply(this,arguments)}function MN(){return MN=Ca(Aa().mark((function e(t,n,r,i){var a,o;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Uk(t),e.next=3,function(e,t){var n=Uk(e),r=Uk(n.$s);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ai.qs(e,t):rI.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,cC(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(kN(a,n,i||null),bN(a,n),function(e,t){Uk(Uk(e).$s).dn(t)}(a.localStore,n)):Fk();case 11:return e.next=13,_N(a,o);case 13:e.next=16;break;case 15:Dk("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),MN.apply(this,arguments)}function FN(e,t){return VN.apply(this,arguments)}function VN(){return VN=Ca(Aa().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(HN(r=Uk(t)),$N(r),!0!==n||!0===r.ca){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,UN(r,i.toArray());case 5:return a=e.sent,r.ca=!0,e.next=9,IC(r.remoteStore,!0);case 9:o=_a(a);try{for(o.s();!(u=o.n()).done;)s=u.value,GT(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ca){e.next=25;break}return c=[],l=Promise.resolve(),r.ea.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return wN(r,t),Y_(r.localStore,t,!0)})),HT(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,UN(r,c);case 21:return function(e){var t=Uk(e);t.ia.forEach((function(e,n){HT(t.remoteStore,n)})),t.ra.bi(),t.ia=new Map,t.sa=new _E(_w.comparator)}(r),r.ca=!1,e.next=25,IC(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),VN.apply(this,arguments)}function UN(e,t,n){return jN.apply(this,arguments)}function jN(){return jN=Ca(Aa().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Uk(t),a=[],o=[],u=_a(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ea.get(c))||0===f.length){e.next=34;break}return e.next=11,Q_(i.localStore,Dx(f[0]));case 11:l=e.sent,h=_a(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ta.get(p),e.next=20,AN(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Z_(i.localStore,c);case 36:return y=e.sent,e.next=39,Q_(i.localStore,y);case 39:return l=e.sent,e.next=42,nN(i,zN(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),jN.apply(this,arguments)}function zN(e){return Ix(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function BN(e){var t=Uk(e);return Uk(Uk(t.localStore).persistence).Os()}function qN(e,t,n,r){return WN.apply(this,arguments)}function WN(){return WN=Ca(Aa().mark((function e(t,n,r,i){var a,o,u,s;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Uk(t)).ca){e.next=3;break}return e.abrupt("return",void Dk("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ea.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,eT(a.localStore,Ux(o[0]));case 10:return u=e.sent,s=BE.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,_N(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Y_(a.localStore,n,!0);case 17:return wN(a,n,i),e.abrupt("break",20);case 19:Fk();case 20:case"end":return e.stop()}}),e)}))),WN.apply(this,arguments)}function KN(e,t,n){return GN.apply(this,arguments)}function GN(){return GN=Ca(Aa().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=HN(t)).ca){e.next=45;break}a=_a(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ea.has(u)){e.next=10;break}return Dk("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Z_(i.localStore,u);case 12:return s=e.sent,e.next=15,Q_(i.localStore,s);case 15:return c=e.sent,e.next=18,nN(i,zN(s),c.targetId,!1);case 18:GT(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=_a(r),e.prev=30,h=Aa().mark((function e(){var t;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ea.has(t),!e.t0){e.next=5;break}return e.next=5,Y_(i.localStore,t,!1).then((function(){HT(i.remoteStore,t),wN(i,t)})).catch(p_);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),GN.apply(this,arguments)}function HN(e){var t=Uk(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fN.bind(null,t),t.Zu.Ko=jC.bind(null,t.eventManager),t.Zu.la=zC.bind(null,t.eventManager),t}function $N(e){var t=Uk(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vN.bind(null,t),t}function QN(e,t,n){var r=Uk(e);(function(){var e=Ca(Aa().mark((function e(t,n,r){var i,a,o,u,s;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Uk(e),r=rS(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(HC(i)),a=new GC(i,t.localStore,n.M),e.next=15,n.fa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,_N(t,s.Ou,void 0);case 31:return e.next=33,function(e,t){var n=Uk(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Lk("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var YN=function(){function e(){Na(this,e),this.synchronizeTabs=!1}return fe(e,[{key:"initialize",value:function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=OT(t.databaseInfo.databaseId),this.sharedClientState=this.da(t),this.persistence=this._a(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.wa(t),this.localStore=this.ma(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wa",value:function(e){return null}},{key:"ma",value:function(e){return z_(this.persistence,new U_,e.initialUser,this.M)}},{key:"_a",value:function(e){return new pT(mT.Wi,this.M)}},{key:"da",value:function(e){return new _T}},{key:"terminate",value:function(){var e=Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),JN=function(e){xa(n,e);var t=Ia(n);function n(e,r,i){var a;return Na(this,n),(a=t.call(this)).ga=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return fe(n,[{key:"initialize",value:function(){var e=Ca(Aa().mark((function e(t){var r=this;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wa(ba(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ga.initialize(this,t);case 4:return e.next=6,$N(this.ga.syncEngine);case 6:return e.next=8,cC(this.ga.remoteStore);case 8:return e.next=10,this.persistence.Is((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return z_(this.persistence,new U_,e.initialUser,this.M)}},{key:"wa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new g_(t,e.asyncQueue)}},{key:"_a",value:function(e){var t=M_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?t_.withCacheSize(this.cacheSizeBytes):t_.DEFAULT;return new D_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,PT(),DT(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"da",value:function(e){return new _T}}]),n}(YN),XN=function(e){xa(n,e);var t=Ia(n);function n(e,r){var i;return Na(this,n),(i=t.call(this,e,r,!1)).ga=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return fe(n,[{key:"initialize",value:function(){var e=Ca(Aa().mark((function e(t){var r,i=this;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wa(ba(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ga.syncEngine,e.t0=this.sharedClientState instanceof IT,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:LN.bind(null,r),Mr:qN.bind(null,r),Or:KN.bind(null,r),Os:BN.bind(null,r),Nr:DN.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Is(function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FN(i.ga.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"da",value:function(e){var t=PT();if(!IT.vt(t))throw new zk(jk.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=M_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new IT(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(JN),ZN=function(){function e(){Na(this,e)}return fe(e,[{key:"initialize",value:function(){var e=Ca(Aa().mark((function e(t,n){var r=this;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return lN(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=CN.bind(null,this.syncEngine),e.next=12,IC(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new LC}},{key:"createDatastore",value:function(e){var t,n=OT(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new AT(t));return function(e,t,n,r){return new UT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return lN(o.syncEngine,e,0)},a=CT.vt()?new CT:new TT,new zT(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new ZC(e,t,n,r,i,a);return o&&(u.ca=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ca(Aa().mark((function e(t){var n;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Uk(t),Dk("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,WT(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function eR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ca(Aa().mark((function r(){var i;return Aa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var tR=function(){function e(t){Na(this,e),this.observer=t,this.muted=!1}return fe(e,[{key:"next",value:function(e){this.observer.next&&this.ya(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"pa",value:function(){this.muted=!0}},{key:"ya",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),nR=function(){function e(t,n){var r=this;Na(this,e),this.Ia=t,this.M=n,this.metadata=new Bk,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return fe(e,[{key:"close",value:function(){return this.Ia.cancel()}},{key:"getMetadata",value:function(){var e=Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fa",value:function(){var e=Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ea());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ea",value:function(){var e=Ca(Aa().mark((function e(){var t,n,r,i;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Aa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ta.decode(t),r=Number(n),isNaN(r)&&this.Ra("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new WC(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Aa",value:function(){var e=Ca(Aa().mark((function e(){var t,n;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Pa()<0)){e.next=7;break}return e.next=3,this.Va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Pa())<0&&this.Ra("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=Ca(Aa().mark((function e(t){var n;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ra("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ta.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ra",value:function(e){throw this.Ia.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Va",value:function(){var e=Ca(Aa().mark((function e(){var t,n;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ia.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),rR=function(){function e(t){Na(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return fe(e,[{key:"lookup",value:function(){var e=Ca(Aa().mark((function e(t){var n,r=this;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new zk(jk.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ca(Aa().mark((function e(t,n){var r,i,a,o,u,s;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uk(t),i=lS(r.M)+"/documents",a={documents:n.map((function(e){return oS(r.M,e)}))},e.next=5,r.co("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=pS(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Vk(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new kE(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ca(Aa().mark((function e(){var t,n=this;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=_w.fromPath(t);n.mutations.push(new wE(r,n.precondition(r)))})),e.next=7,function(){var e=Ca(Aa().mark((function e(t,n){var r,i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uk(t),i=lS(r.M)+"/documents",a={writes:n.map((function(e){return vS(r.M,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Fk();t=iw.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new zk(jk.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?aE.updateTime(t):aE.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(iw.min()))throw new zk(jk.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return aE.updateTime(t)}return aE.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),iR=function(){function e(t,n,r,i){Na(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new LT(this.asyncQueue,"transaction_retry")}return fe(e,[{key:"run",value:function(){this.va-=1,this.Sa()}},{key:"Sa",value:function(){var e=this;this.So.Io(Ca(Aa().mark((function t(){var n,r;return Aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new rR(e.datastore),(r=e.Da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ca(t)}))}))})).catch((function(t){e.Ca(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Da",value:function(e){try{var t=this.updateFunction(e);return!Ew(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ca",value:function(e){var t=this;this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget((function(){return t.Sa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"xa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!EE(t)}return!1}}]),e}(),aR=function(){function e(t,n,r,i){var a=this;Na(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nk.UNAUTHENTICATED,this.clientId=Zk.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dk("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Dk("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return fe(e,[{key:"getConfiguration",value:function(){var e=Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new zk(jk.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Bk;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ca(Aa().mark((function n(){var r;return Aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=RC(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function oR(e,t){return uR.apply(this,arguments)}function uR(){return uR=Ca(Aa().mark((function e(t,n){var r,i;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Dk("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,B_(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),uR.apply(this,arguments)}function sR(e,t){return cR.apply(this,arguments)}function cR(){return cR=Ca(Aa().mark((function e(t,n){var r,i;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,lR(t);case 3:return r=e.sent,Dk("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return EC(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return EC(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),cR.apply(this,arguments)}function lR(e){return fR.apply(this,arguments)}function fR(){return fR=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Dk("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,oR(t,new YN);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),fR.apply(this,arguments)}function hR(e){return dR.apply(this,arguments)}function dR(){return dR=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Dk("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,sR(t,new ZN);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),dR.apply(this,arguments)}function pR(e){return lR(e).then((function(e){return e.persistence}))}function vR(e){return lR(e).then((function(e){return e.localStore}))}function mR(e){return hR(e).then((function(e){return e.remoteStore}))}function yR(e){return hR(e).then((function(e){return e.syncEngine}))}function gR(e){return bR.apply(this,arguments)}function bR(){return bR=Ca(Aa().mark((function e(t){var n,r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hR(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=eN.bind(null,n.syncEngine),r.onUnlisten=iN.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),bR.apply(this,arguments)}function kR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Bk;return e.asyncQueue.enqueueAndForget(Ca(Aa().mark((function i(){return Aa().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new tR({next:function(a){t.enqueueAndForget((function(){return VC(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new zk(jk.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new zk(jk.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new qC(_x(n.path),a,{includeMetadataChanges:!0,Du:!0});return MC(e,o)},i.next=3,gR(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function wR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Bk;return e.asyncQueue.enqueueAndForget(Ca(Aa().mark((function i(){return Aa().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new tR({next:function(n){t.enqueueAndForget((function(){return VC(e,o)})),n.fromCache&&"server"===r.source?i.reject(new zk(jk.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new qC(n,a,{includeMetadataChanges:!0,Du:!0});return MC(e,o)},i.next=3,gR(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var xR=new Map;function ER(e,t,n){if(!n)throw new zk(jk.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function SR(e,t,n,r){if(!0===t&&!0===r)throw new zk(jk.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function IR(e){if(!_w.isDocumentKey(e))throw new zk(jk.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function _R(e){if(_w.isDocumentKey(e))throw new zk(jk.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function TR(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Fk()}function CR(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new zk(jk.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=TR(e);throw new zk(jk.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function NR(e,t){if(t<=0)throw new zk(jk.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var RR=function(){function e(t){var n;if(Na(this,e),void 0===t.host){if(void 0!==t.ssl)throw new zk(jk.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new zk(jk.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,SR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return fe(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),AR=function(){function e(t,n,r){Na(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RR({}),this._settingsFrozen=!1,t instanceof xw?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new zk(jk.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xw(e.options.projectId)}(t))}return fe(e,[{key:"app",get:function(){if(!this._app)throw new zk(jk.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new zk(jk.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RR(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Wk;switch(e.type){case"gapi":var t=e.client;return Vk(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new $k(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new zk(jk.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=xR.get(e);t&&(Dk("ComponentProvider","Removing Datastore"),xR.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function PR(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=CR(e,AR))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Lk("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Nk.MOCK_USER;else{o=za(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new zk(jk.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Nk(s)}e._authCredentials=new Kk(new qk(o,u))}}var DR=function(){function e(t,n,r){Na(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return fe(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new LR(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),OR=function(){function e(t,n,r){Na(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return fe(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),LR=function(e){xa(n,e);var t=Ia(n);function n(e,r,i){var a;return Na(this,n),(a=t.call(this,e,r,_x(i)))._path=i,a.type="collection",a}return fe(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new DR(this.firestore,null,new _w(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(OR);function MR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=so(e),ER("collection","path",t),e instanceof AR){var a=cw.fromString.apply(cw,[t].concat(r));return _R(a),new LR(e,null,a)}if(!(e instanceof DR||e instanceof LR))throw new zk(jk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(cw.fromString.apply(cw,[t].concat(r)));return _R(o),new LR(e.firestore,null,o)}function FR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=so(e),1===arguments.length&&(t=Zk.R()),ER("doc","path",t),e instanceof AR){var a=cw.fromString.apply(cw,[t].concat(r));return IR(a),new DR(e,null,new _w(a))}if(!(e instanceof DR||e instanceof LR))throw new zk(jk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(cw.fromString.apply(cw,[t].concat(r)));return IR(o),new DR(e.firestore,e instanceof LR?e.converter:null,new _w(o))}function VR(e,t){return e=so(e),t=so(t),(e instanceof DR||e instanceof LR)&&(t instanceof DR||t instanceof LR)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function UR(e,t){return e=so(e),t=so(t),e instanceof OR&&t instanceof OR&&e.firestore===t.firestore&&Lx(e._query,t._query)&&e.converter===t.converter}var jR=function(){function e(){var t=this;Na(this,e),this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new LT(this,"async_queue_retry"),this.Ua=function(){var e=DT();e&&Dk("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=DT();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ua)}return fe(e,[{key:"isShuttingDown",get:function(){return this.Ma}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.qa(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;var t=DT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}},{key:"enqueue",value:function(e){var t=this;if(this.qa(),this.Ma)return new Promise((function(){}));var n=new Bk;return this.Ga((function(){return t.Ma&&t.Ba?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ka.push(e),t.Ka()}))}},{key:"Ka",value:function(){var e=Ca(Aa().mark((function e(){var t=this;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ka.length){e.next=14;break}return e.prev=1,e.next=4,this.ka[0]();case 4:this.ka.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),sI(e.t0)){e.next=12;break}throw e.t0;case 12:Dk("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ka.length>0&&this.So.Io((function(){return t.Ka()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.Na.then((function(){return t.$a=!0,e().catch((function(e){t.Fa=e,t.$a=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ok("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.$a=!1,e}))}));return this.Na=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.qa(),this.La.indexOf(e)>-1&&(t=0);var i=NC.createAndSchedule(this,e,t,n,(function(e){return r.Qa(e)}));return this.Oa.push(i),i}},{key:"qa",value:function(){this.Fa&&Fk()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ja",value:function(){var e=Ca(Aa().mark((function e(){var t;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Na,e.next=3,t;case 3:if(t!==this.Na){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t,n=_a(this.Oa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"za",value:function(e){var t=this;return this.ja().then((function(){t.Oa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=_a(t.Oa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ja()}))}},{key:"Ha",value:function(e){this.La.push(e)}},{key:"Qa",value:function(e){var t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}]),e}();function zR(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=_a(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var BR=function(){function e(){Na(this,e),this._progressObserver={},this._taskCompletionResolver=new Bk,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return fe(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),qR=function(e){xa(n,e);var t=Ia(n);function n(e,r,i){var a;return Na(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new jR,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return fe(n,[{key:"_terminate",value:function(){return this._firestoreClient||KR(this),this._firestoreClient.terminate()}}]),n}(AR);function WR(e){return e._firestoreClient||KR(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function KR(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ww(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new aR(e._authCredentials,e._appCheckCredentials,e._queue,r)}function GR(e,t,n){var r=new Bk;return e.asyncQueue.enqueue(Ca(Aa().mark((function i(){return Aa().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,oR(e,n);case 3:return i.next=5,sR(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===jk.FAILED_PRECONDITION||e.code===jk.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function HR(e){return function(e){return e.asyncQueue.enqueue(Ca(Aa().mark((function t(){var n,r;return Aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pR(e);case 2:return n=t.sent,t.next=5,mR(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Uk(e);return t.lu.delete(0),BT(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(WR(e=CR(e,qR)))}function $R(e){return function(e){return e.asyncQueue.enqueue(Ca(Aa().mark((function t(){var n,r;return Aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pR(e);case 2:return n=t.sent,t.next=5,mR(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ca(Aa().mark((function e(t){var n;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Uk(t)).lu.add(0),e.next=4,WT(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(WR(e=CR(e,qR)))}function QR(e,t){var n=WR(e=CR(e,qR)),r=new BR;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new nR(e,t)}(function(e,t){if(e instanceof Uint8Array)return eR(e,t);if(e instanceof ArrayBuffer)return eR(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,OT(t));e.asyncQueue.enqueueAndForget(Ca(Aa().mark((function t(){return Aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=QN,t.next=3,yR(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function YR(e,t){return function(e,t){return e.asyncQueue.enqueue(Ca(Aa().mark((function n(){return Aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Uk(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.ds.getNamedQuery(e,t)}))},n.next=3,vR(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(WR(e=CR(e,qR)),t).then((function(t){return t?new OR(e,null,t.query):null}))}function JR(e){if(e._initialized||e._terminated)throw new zk(jk.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var XR=function(){function e(){Na(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new zk(jk.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fw(n)}return fe(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var ZR=function(){function e(t){Na(this,e),this._byteString=t}return fe(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(dw.fromBase64String(t))}catch(t){throw new zk(jk.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(dw.fromUint8Array(t))}}]),e}(),eA=fe((function e(t){Na(this,e),this._methodName=t})),tA=function(){function e(t,n){if(Na(this,e),!isFinite(t)||t<-90||t>90)throw new zk(jk.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new zk(jk.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return fe(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return ew(this._lat,e._lat)||ew(this._long,e._long)}}]),e}(),nA=/^__.*__$/,rA=function(){function e(t,n,r){Na(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return fe(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new pE(e,this.data,this.fieldMask,t,this.fieldTransforms):new dE(e,this.data,t,this.fieldTransforms)}}]),e}(),iA=function(){function e(t,n,r){Na(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return fe(e,[{key:"toMutation",value:function(e,t){return new pE(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function aA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fk()}}var oA=function(){function e(t,n,r,i,a,o){Na(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return fe(e,[{key:"path",get:function(){return this.settings.path}},{key:"Ya",get:function(){return this.settings.Ya}},{key:"Xa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Za",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.ec(e),r}},{key:"nc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.Ja(),r}},{key:"sc",value:function(e){return this.Xa({path:void 0,tc:!0})}},{key:"ic",value:function(e){return _A(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ja",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ec(this.path.get(e))}},{key:"ec",value:function(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(aA(this.Ya)&&nA.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}]),e}(),uA=function(){function e(t,n,r){Na(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||OT(t)}return fe(e,[{key:"uc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new oA({Ya:e,methodName:t,oc:n,path:fw.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function sA(e){var t=e._freezeSettings(),n=OT(e._databaseId);return new uA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function cA(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.uc(a.merge||a.mergeFields?2:0,t,n,i);xA("Data must be an object, but it was:",o,r);var u,s,c=kA(r,o);if(a.merge)u=new hw(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=_a(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=EA(t,d,n);if(!o.contains(p))throw new zk(jk.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));TA(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new hw(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new rA(new Gw(c),u,s)}var lA=function(e){xa(n,e);var t=Ia(n);function n(){return Na(this,n),t.apply(this,arguments)}return fe(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Ya)throw 1===e.Ya?e.ic("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ic("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(eA);function fA(e,t,n){return new oA({Ya:3,oc:t.settings.oc,methodName:e._methodName,tc:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var hA=function(e){xa(n,e);var t=Ia(n);function n(){return Na(this,n),t.apply(this,arguments)}return fe(n,[{key:"_toFieldTransform",value:function(e){return new rE(e.path,new Qx)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(eA),dA=function(e){xa(n,e);var t=Ia(n);function n(e,r){var i;return Na(this,n),(i=t.call(this,e)).ac=r,i}return fe(n,[{key:"_toFieldTransform",value:function(e){var t=fA(this,e,!0),n=this.ac.map((function(e){return bA(e,t)})),r=new Yx(n);return new rE(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(eA),pA=function(e){xa(n,e);var t=Ia(n);function n(e,r){var i;return Na(this,n),(i=t.call(this,e)).ac=r,i}return fe(n,[{key:"_toFieldTransform",value:function(e){var t=fA(this,e,!0),n=this.ac.map((function(e){return bA(e,t)})),r=new Xx(n);return new rE(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(eA),vA=function(e){xa(n,e);var t=Ia(n);function n(e,r){var i;return Na(this,n),(i=t.call(this,e)).cc=r,i}return fe(n,[{key:"_toFieldTransform",value:function(e){var t=new eE(e.M,Wx(e.M,this.cc));return new rE(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(eA);function mA(e,t,n,r){var i=e.uc(1,t,n);xA("Data must be an object, but it was:",i,r);var a=[],o=Gw.empty();ow(r,(function(e,r){var u=IA(t,e,n);r=so(r);var s=i.nc(u);if(r instanceof lA)a.push(u);else{var c=bA(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new hw(a);return new iA(o,u,i.fieldTransforms)}function yA(e,t,n,r,i,a){var o=e.uc(1,t,n),u=[EA(t,r,n)],s=[i];if(a.length%2!=0)throw new zk(jk.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(EA(t,a[c])),s.push(a[c+1]);for(var l=[],f=Gw.empty(),h=u.length-1;h>=0;--h)if(!TA(l,u[h])){var d=u[h],p=s[h];p=so(p);var v=o.nc(d);if(p instanceof lA)l.push(d);else{var m=bA(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new hw(l);return new iA(f,y,o.fieldTransforms)}function gA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return bA(n,e.uc(r?4:3,t))}function bA(e,t){if(wA(e=so(e)))return xA("Unsupported field value:",t,e),kA(e,t);if(e instanceof eA)return function(e,t){if(!aA(t.Ya))throw t.ic("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ic("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.tc&&4!==t.Ya)throw t.ic("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=_a(e);try{for(a.s();!(n=a.n()).done;){var o=bA(n.value,t.sc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=so(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Wx(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=rw.fromDate(e);return{timestampValue:eS(t.M,n)}}if(e instanceof rw){var r=new rw(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:eS(t.M,r)}}if(e instanceof tA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ZR)return{bytesValue:tS(t.M,e._byteString)};if(e instanceof DR){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ic("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:iS(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ic("Unsupported field value: ".concat(TR(e)))}(e,t)}function kA(e,t){var n={};return uw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ow(e,(function(e,r){var i=bA(r,t.Za(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function wA(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof rw||e instanceof tA||e instanceof ZR||e instanceof DR||e instanceof eA)}function xA(e,t,n){if(!wA(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=TR(n);throw"an object"===r?t.ic(e+" a custom object"):t.ic(e+" "+r)}}function EA(e,t,n){if((t=so(t))instanceof XR)return t._internalPath;if("string"==typeof t)return IA(e,t);throw _A("Field path arguments must be of type string or ",e,!1,void 0,n)}var SA=new RegExp("[~\\*/\\[\\]]");function IA(e,t,n){if(t.search(SA)>=0)throw _A("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Pa(XR,ln(t.split(".")))._internalPath}catch(r){throw _A("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function _A(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new zk(jk.INVALID_ARGUMENT,u+e+s)}function TA(e,t){return e.some((function(e){return e.isEqual(t)}))}var CA=function(){function e(t,n,r,i,a){Na(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return fe(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new DR(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new NA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(RA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),NA=function(e){xa(n,e);var t=Ia(n);function n(){return Na(this,n),t.apply(this,arguments)}return fe(n,[{key:"data",value:function(){return wa(ba(n.prototype),"data",this).call(this)}}]),n}(CA);function RA(e,t){return"string"==typeof t?IA(e,t):t instanceof XR?t._internalPath:t._delegate._internalPath}var AA=function(){function e(t,n){Na(this,e),this.hasPendingWrites=t,this.fromCache=n}return fe(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),PA=function(e){xa(n,e);var t=Ia(n);function n(e,r,i,a,o,u){var s;return Na(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return fe(n,[{key:"exists",value:function(){return wa(ba(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new DA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(RA("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(CA),DA=function(e){xa(n,e);var t=Ia(n);function n(){return Na(this,n),t.apply(this,arguments)}return fe(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return wa(ba(n.prototype),"data",this).call(this,e)}}]),n}(PA),OA=function(){function e(t,n,r,i){Na(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new AA(i.hasPendingWrites,i.fromCache),this.query=r}return fe(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new DA(n._firestore,n._userDataWriter,r.key,r,new AA(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new zk(jk.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new DA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new AA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new DA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new AA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:LA(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function LA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fk()}}function MA(e,t){return e instanceof PA&&t instanceof PA?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof OA&&t instanceof OA&&e._firestore===t._firestore&&UR(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function FA(e){if(Cx(e)&&0===e.explicitOrderBy.length)throw new zk(jk.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var VA=fe((function e(){Na(this,e)}));function UA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var jA=function(e){xa(n,e);var t=Ia(n);function n(e,r,i){var a;return Na(this,n),(a=t.call(this)).hc=e,a.lc=r,a.fc=i,a.type="where",a}return fe(n,[{key:"_apply",value:function(e){var t=sA(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new zk(jk.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){JA(o,a);var s,c=[],l=_a(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(YA(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=YA(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||JA(o,a),u=gA(n,"where",o,"in"===a||"not-in"===a);var h=lx.create(i,a,u);return function(e,t){if(t.S()){var n=Rx(e);if(null!==n&&!n.isEqual(t.field))throw new zk(jk.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Nx(e);null!==r&&XA(e,t.field,r)}var i=function(e,t){var n,r=_a(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new zk(jk.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new zk(jk.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new OR(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Sx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(VA);var zA=function(e){xa(n,e);var t=Ia(n);function n(e,r){var i;return Na(this,n),(i=t.call(this)).hc=e,i.dc=r,i.type="orderBy",i}return fe(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new zk(jk.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new zk(jk.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new kx(t,n);return function(e,t){if(null===Nx(e)){var n=Rx(e);null!==n&&XA(e,n,t.field)}}(e,r),r}(e._query,this.hc,this.dc);return new OR(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Sx(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(VA);var BA=function(e){xa(n,e);var t=Ia(n);function n(e,r,i){var a;return Na(this,n),(a=t.call(this)).type=e,a._c=r,a.wc=i,a}return fe(n,[{key:"_apply",value:function(e){return new OR(e.firestore,e.converter,Ox(e._query,this._c,this.wc))}}]),n}(VA);var qA=function(e){xa(n,e);var t=Ia(n);function n(e,r,i){var a;return Na(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return fe(n,[{key:"_apply",value:function(e){var t=QA(e,this.type,this.mc,this.gc);return new OR(e.firestore,e.converter,function(e,t){return new Sx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(VA);function WA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new qA("startAt",t,!0)}function KA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new qA("startAfter",t,!1)}var GA=function(e){xa(n,e);var t=Ia(n);function n(e,r,i){var a;return Na(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return fe(n,[{key:"_apply",value:function(e){var t=QA(e,this.type,this.mc,this.gc);return new OR(e.firestore,e.converter,function(e,t){return new Sx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(VA);function HA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new GA("endBefore",t,!1)}function $A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new GA("endAt",t,!0)}function QA(e,t,n,r){if(n[0]=so(n[0]),n[0]instanceof CA)return function(e,t,n,r,i){if(!r)throw new zk(jk.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=_a(Px(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Mw(t,r.key));else{var c=r.data.field(s.field);if(gw(c))throw new zk(jk.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new zk(jk.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new bx(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=sA(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new zk(jk.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new zk(jk.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Ax(e)&&-1!==c.indexOf("/"))throw new zk(jk.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(cw.fromString(c));if(!_w.isDocumentKey(l))throw new zk(jk.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new _w(l);u.push(Mw(t,f))}else{var h=gA(n,r,c);u.push(h)}}return new bx(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function YA(e,t,n){if("string"==typeof(n=so(n))){if(""===n)throw new zk(jk.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ax(t)&&-1!==n.indexOf("/"))throw new zk(jk.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(cw.fromString(n));if(!_w.isDocumentKey(r))throw new zk(jk.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Mw(e,new _w(r))}if(n instanceof DR)return Mw(e,n._key);throw new zk(jk.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(TR(n),"."))}function JA(e,t){if(!Array.isArray(e)||0===e.length)throw new zk(jk.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new zk(jk.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function XA(e,t,n){if(!n.isEqual(t))throw new zk(jk.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var ZA=function(){function e(){Na(this,e)}return fe(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Nw(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mw(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yw(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Fk()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ow(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new tA(mw(e.latitude),mw(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=bw(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(kw(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=vw(e);return new rw(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=cw.fromString(e);Vk(CS(n));var r=new xw(n.get(1),n.get(3)),i=new _w(n.popFirst(5));return r.isEqual(t)||Ok("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function eP(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var tP=function(e){xa(n,e);var t=Ia(n);function n(e){var r;return Na(this,n),(r=t.call(this)).firestore=e,r}return fe(n,[{key:"convertBytes",value:function(e){return new ZR(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new DR(this.firestore,null,t)}}]),n}(ZA),nP=function(){function e(t,n){Na(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=sA(t)}return fe(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=rP(e,this._firestore),i=eP(r.converter,t,n),a=cA(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,aE.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=rP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=so(t))||t instanceof XR?yA(this._dataReader,"WriteBatch.update",i._key,t,n,o):mA(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,aE.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=rP(e,this._firestore);return this._mutations=this._mutations.concat(new kE(t._key,aE.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new zk(jk.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function rP(e,t){if((e=so(e)).firestore!==t)throw new zk(jk.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var iP=function(e){xa(n,e);var t=Ia(n);function n(e){var r;return Na(this,n),(r=t.call(this)).firestore=e,r}return fe(n,[{key:"convertBytes",value:function(e){return new ZR(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new DR(this.firestore,null,t)}}]),n}(ZA);function aP(e){e=CR(e,DR);var t=CR(e.firestore,qR),n=WR(t),r=new iP(t);return function(e,t){var n=new Bk;return e.asyncQueue.enqueueAndForget(Ca(Aa().mark((function r(){return Aa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ca(Aa().mark((function e(t,n,r){var i,a;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Uk(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ai.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new zk(jk.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=RC(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,vR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new PA(t,r,e._key,n,new AA(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function oP(e){e=CR(e,OR);var t=CR(e.firestore,qR),n=WR(t),r=new iP(t);return function(e,t){var n=new Bk;return e.asyncQueue.enqueueAndForget(Ca(Aa().mark((function r(){return Aa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ca(Aa().mark((function e(t,n,r){var i,a,o,u,s;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X_(t,n,!0);case 3:i=e.sent,a=new YC(n,i.hi),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=RC(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,vR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new OA(t,r,e,n)}))}function uP(e,t,n){e=CR(e,DR);var r=CR(e.firestore,qR),i=eP(e.converter,t,n);return fP(r,[cA(sA(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,aE.none())])}function sP(e,t,n){e=CR(e,DR);for(var r=CR(e.firestore,qR),i=sA(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return fP(r,[("string"==typeof(t=so(t))||t instanceof XR?yA(i,"updateDoc",e._key,t,n,o):mA(i,"updateDoc",e._key,t)).toMutation(e._key,aE.exists(!0))])}function cP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=so(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||zR(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(zR(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof DR)l=CR(e.firestore,qR),f=_x(e._key.path),c={next:function(t){n[s]&&n[s](hP(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=CR(e,OR);l=CR(p.firestore,qR),f=p._query;var v=new iP(l);c={next:function(e){n[s]&&n[s](new OA(l,v,p,e))},error:n[s+1],complete:n[s+2]},FA(e._query)}return function(e,t,n,r){var i=new tR(r),a=new qC(t,i,n);return e.asyncQueue.enqueueAndForget(Ca(Aa().mark((function t(){return Aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=MC,t.next=3,gR(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.pa(),e.asyncQueue.enqueueAndForget(Ca(Aa().mark((function t(){return Aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=VC,t.next=3,gR(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(WR(l),f,h,c)}function lP(e,t){return function(e,t){var n=new tR(t);return e.asyncQueue.enqueueAndForget(Ca(Aa().mark((function t(){return Aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Uk(e).Tu.add(t),t.next()},t.next=3,gR(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.pa(),e.asyncQueue.enqueueAndForget(Ca(Aa().mark((function t(){return Aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Uk(e).Tu.delete(t)},t.next=3,gR(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(WR(e=CR(e,qR)),zR(t)?t:{next:t})}function fP(e,t){return function(e,t){var n=new Bk;return e.asyncQueue.enqueueAndForget(Ca(Aa().mark((function r(){return Aa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=oN,r.next=3,yR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(WR(e),t)}function hP(e,t,n){var r=n.docs.get(t._key),i=new iP(e);return new PA(e,i,t._key,r,new AA(n.hasPendingWrites,n.fromCache),t.converter)}var dP=function(e){xa(n,e);var t=Ia(n);function n(e,r){var i;return Na(this,n),(i=t.call(this,e,r))._firestore=e,i}return fe(n,[{key:"get",value:function(e){var t=this,r=rP(e,this._firestore),i=new iP(this._firestore);return wa(ba(n.prototype),"get",this).call(this,e).then((function(e){return new PA(t._firestore,i,r._key,e._document,new AA(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Na(this,e),this._firestore=t,this._transaction=n,this._dataReader=sA(t)}return fe(e,[{key:"get",value:function(e){var t=this,n=rP(e,this._firestore),r=new tP(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Fk();var i=e[0];if(i.isFoundDocument())return new CA(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new CA(t._firestore,r,n._key,null,n.converter);throw Fk()}))}},{key:"set",value:function(e,t,n){var r=rP(e,this._firestore),i=eP(r.converter,t,n),a=cA(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=rP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=so(t))||t instanceof XR?yA(this._dataReader,"Transaction.update",i._key,t,n,o):mA(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=rP(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function pP(e,t){return function(e,t){var n=new Bk;return e.asyncQueue.enqueueAndForget(Ca(Aa().mark((function r(){var i;return Aa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return hR(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new iR(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(WR(e=CR(e,qR)),(function(n){return t(new dP(e,n))}))}function vP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dA("arrayUnion",t)}function mP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pA("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Rk=e}(Go),Uo(new vo("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new qR(i,new Gk(e.getProvider("auth-internal")),new Yk(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Xo(Ck,"3.4.7",e),Xo(Ck,"3.4.7","esm2017")}();var yP=function(){return yP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yP.apply(this,arguments)},gP=function(e){return{loading:void 0===e||null===e,value:e}},bP=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return yP(yP({},e),{error:t.error,loading:!1,value:void 0});case"reset":return gP(t.defaultValue);case"value":return yP(yP({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),gP(t)),r=n[0],a=n[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:s,value:r.value}}),[r.error,r.loading,o,u,s,r.value])},kP=function(e,t,n){var r=(0,i.useRef)(e);return(0,i.useEffect)((function(){t(e,r.current)||(r.current=e,n&&n())})),r},wP=function(e,t){var n=!e&&!t,r=!!e&&!!t&&UR(e,t);return n||r},xP=function(e,t){return kP(e,wP,t)},EP=function(e,t){var n=null===t||void 0===t?void 0:t.snapshotOptions,r=function(e,t){var n=bP(),r=n.error,a=n.loading,o=n.reset,u=n.setError,s=n.setValue,c=n.value,l=xP(e,o);(0,i.useEffect)((function(){if(l.current){var e=(null===t||void 0===t?void 0:t.snapshotListenOptions)?cP(l.current,t.snapshotListenOptions,s,u):cP(l.current,s,u);return function(){e()}}s(void 0)}),[l.current]);var f=[c,a,r];return(0,i.useMemo)((function(){return f}),f)}(e,t),a=r[0],o=r[1],u=r[2],s=[SP(a,n),o,u,a];return(0,i.useMemo)((function(){return s}),s)},SP=function(e,t){return(0,i.useMemo)((function(){return null===e||void 0===e?void 0:e.docs.map((function(e){return e.data(t)}))}),[e,t])},IP=function(){var e=(0,i.useContext)(sO),t=e.auth,n=e.firestore,r=l(Cd(t),1)[0],a=l((0,i.useState)(""),2),o=a[0],u=a[1],s=l(EP(n.collection("messages").orderBy("createdAt")),2),c=s[0],f=s[1],h=function(){var e=Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.collection("messages").add({uid:r.uid,displayName:r.displayName,photoURL:r.photoURL,text:o,createdAt:pp.firestore.FieldValue.serverTimestamp()}),u("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return f?(0,Nd.jsx)(Dd,{}):(0,Nd.jsx)(Pd,{children:(0,Nd.jsxs)(zi,{container:!0,style:{height:window.innerHeight-50,marginTop:5},justify:"center",children:[(0,Nd.jsx)("div",{style:{width:"80%",height:"68vh",border:"1px solid gray",overflowY:"auto"},children:c.map((function(e){return(0,Nd.jsxs)("div",{style:{margin:10,border:r.uid===e.uid?"2px solid green":"2px dashed red",marginLeft:r.uid===e.uid?"auto":"10px",width:"fit-content"},children:[(0,Nd.jsxs)(zi,{container:!0,children:[(0,Nd.jsx)(vm,{src:e.photoURL}),(0,Nd.jsx)("div",{children:e.displayName})]}),(0,Nd.jsx)("div",{children:e.text})]})}))}),(0,Nd.jsxs)(zi,{container:!0,direction:"column",alignItems:"flex-end",style:{width:"80%"},children:[(0,Nd.jsx)(fm,{fullWidth:!0,variant:"outlined",rowsMax:2,value:o,onChange:function(e){return u(e.target.value)}}),(0,Nd.jsx)(ma,{variant:"outlined",onClick:h,children:"Send"})]})]})})},_P=[{path:ya,component:(0,Nd.jsx)(vp,{})}],TP=[{path:ga,component:(0,Nd.jsx)(IP,{})}],CP=function(){var e=(0,i.useContext)(sO).auth;return l(Cd(e),1)[0]?(0,Nd.jsxs)(H,{children:[TP.map((function(e){var t=e.path,n=e.component;return(0,Nd.jsx)(K,{path:t,element:n,exact:!0},t)})),(0,Nd.jsx)(K,{path:"*",element:(0,Nd.jsx)(W,{replace:!0,to:ga})})]}):(0,Nd.jsxs)(H,{children:[_P.map((function(e){var t=e.path,n=e.component;return(0,Nd.jsx)(K,{path:t,element:n,exact:!0},t)})),(0,Nd.jsx)(K,{path:"*",element:(0,Nd.jsx)(W,{replace:!0,to:ya})})]})};var NP=function(){var e=(0,i.useContext)(sO).auth,t=l(Cd(e),3),n=(t[0],t[1]);return t[2],n?(0,Nd.jsx)(Dd,{}):(0,Nd.jsxs)(Z,{children:[(0,Nd.jsx)(Rd,{}),(0,Nd.jsx)(CP,{})]})};function RP(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new zk("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function AP(){if("undefined"===typeof Uint8Array)throw new zk("unimplemented","Uint8Arrays are not available in this environment.")}function PP(){if("undefined"==typeof atob)throw new zk("unimplemented","Blobs are unavailable in Firestore in this environment.")}var DP=function(){function e(t){Na(this,e),this._delegate=t}return fe(e,[{key:"toBase64",value:function(){return PP(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return AP(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return PP(),new e(ZR.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return AP(),new e(ZR.fromUint8Array(t))}}]),e}();function OP(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=_a(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var LP=function(){function e(){Na(this,e)}return fe(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){JR(e=CR(e,qR));var n=WR(e),r=e._freezeSettings(),i=new ZN;return GR(n,i,new JN(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){JR(e=CR(e,qR));var t=WR(e),n=e._freezeSettings(),r=new ZN;return GR(t,r,new XN(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new zk(jk.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Bk;return e._queue.enqueueAndForgetEvenWhileRestricted(Ca(Aa().mark((function n(){return Aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ca(Aa().mark((function e(t){var n;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(aI.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,aI.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(M_(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),MP=function(){function e(t,n,r){var i=this;Na(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof xw||(this._appCompat=t)}return fe(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Lk("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};PR(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return HR(this._delegate)}},{key:"disableNetwork",value:function(){return $R(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&SR("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Bk;return e.asyncQueue.enqueueAndForget(Ca(Aa().mark((function n(){return Aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=yN,n.next=3,yR(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(WR(e=CR(e,qR)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return lP(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new zk("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new YP(this,MR(this._delegate,e))}catch(t){throw BP(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new zP(this,FR(this._delegate,e))}catch(t){throw BP(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new HP(this,function(e,t){if(e=CR(e,AR),ER("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new zk(jk.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new OR(e,null,function(e){return new Sx(cw.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw BP(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return pP(this._delegate,(function(n){return e(new VP(t,n))}))}},{key:"batch",value:function(){var e=this;return WR(this._delegate),new UP(new nP(this._delegate,(function(t){return fP(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return QR(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return YR(this._delegate,e).then((function(e){return e?new HP(t,e):null}))}}]),e}(),FP=function(e){xa(n,e);var t=Ia(n);function n(e){var r;return Na(this,n),(r=t.call(this)).firestore=e,r}return fe(n,[{key:"convertBytes",value:function(e){return new DP(new ZR(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return zP.forKey(t,this.firestore,null)}}]),n}(ZA);var VP=function(){function e(t,n){Na(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new FP(t)}return fe(e,[{key:"get",value:function(e){var t=this,n=JP(e);return this._delegate.get(n).then((function(e){return new KP(t._firestore,new PA(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=JP(e);return n?(RP("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=JP(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=JP(e);return this._delegate.delete(t),this}}]),e}(),UP=function(){function e(t){Na(this,e),this._delegate=t}return fe(e,[{key:"set",value:function(e,t,n){var r=JP(e);return n?(RP("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=JP(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=JP(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),jP=function(){function e(t,n,r){Na(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return fe(e,[{key:"fromFirestore",value:function(e,t){var n=new DA(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new GP(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new FP(t),n),i.set(n,a)),a}}]),e}();jP.INSTANCES=new WeakMap;var zP=function(){function e(t,n){Na(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new FP(t)}return fe(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new YP(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new YP(this.firestore,MR(this._delegate,e))}catch(t){throw BP(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=so(e))instanceof DR&&VR(this._delegate,e)}},{key:"set",value:function(e,t){t=RP("DocumentReference.set",t);try{return t?uP(this._delegate,e,t):uP(this._delegate,e)}catch(n){throw BP(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?sP(this._delegate,e):sP.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw BP(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return fP(CR(e.firestore,qR),[new kE(e._key,aE.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=qP(n),a=WP(n,(function(t){return new KP(e.firestore,new PA(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return cP(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?aP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=CR(e,DR);var t=CR(e.firestore,qR);return kR(WR(t),e._key,{source:"server"}).then((function(n){return hP(t,e,n)}))}(this._delegate):function(e){e=CR(e,DR);var t=CR(e.firestore,qR);return kR(WR(t),e._key).then((function(n){return hP(t,e,n)}))}(this._delegate),t.then((function(e){return new KP(n.firestore,new PA(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(jP.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new zk("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new DR(n._delegate,r,new _w(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new DR(n._delegate,r,t))}}]),e}();function BP(e,t,n){return e.message=e.message.replace(t,n),e}function qP(e){var t,n=_a(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!OP(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function WP(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=OP(e[0])?e[0]:OP(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var KP=function(){function e(t,n){Na(this,e),this._firestore=t,this._delegate=n}return fe(e,[{key:"ref",get:function(){return new zP(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return MA(this._delegate,e._delegate)}}]),e}(),GP=function(e){xa(n,e);var t=Ia(n);function n(){return Na(this,n),t.apply(this,arguments)}return fe(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Fk()}(void 0!==t),t}}]),n}(KP),HP=function(){function e(t,n){Na(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new FP(t)}return fe(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,UA(this._delegate,function(e,t,n){var r=t,i=RA("where",e);return new jA(i,r,n)}(t,n,r)))}catch(i){throw BP(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,UA(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=RA("orderBy",e);return new zA(n,t)}(t,n)))}catch(r){throw BP(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,UA(this._delegate,function(e){return NR("limit",e),new BA("limit",e,"F")}(t)))}catch(n){throw BP(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,UA(this._delegate,function(e){return NR("limitToLast",e),new BA("limitToLast",e,"L")}(t)))}catch(n){throw BP(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,UA(this._delegate,WA.apply(void 0,arguments)))}catch(t){throw BP(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,UA(this._delegate,KA.apply(void 0,arguments)))}catch(t){throw BP(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,UA(this._delegate,HA.apply(void 0,arguments)))}catch(t){throw BP(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,UA(this._delegate,$A.apply(void 0,arguments)))}catch(t){throw BP(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return UR(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?oP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=CR(e,OR);var t=CR(e.firestore,qR),n=WR(t),r=new iP(t);return wR(n,e._query,{source:"server"}).then((function(n){return new OA(t,r,e,n)}))}(this._delegate):function(e){e=CR(e,OR);var t=CR(e.firestore,qR),n=WR(t),r=new iP(t);return FA(e._query),wR(n,e._query).then((function(n){return new OA(t,r,e,n)}))}(this._delegate),t.then((function(e){return new QP(n.firestore,new OA(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=qP(n),a=WP(n,(function(t){return new QP(e.firestore,new OA(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return cP(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(jP.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),$P=function(){function e(t,n){Na(this,e),this._firestore=t,this._delegate=n}return fe(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new GP(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),QP=function(){function e(t,n){Na(this,e),this._firestore=t,this._delegate=n}return fe(e,[{key:"query",get:function(){return new HP(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new GP(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new $P(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new GP(n._firestore,r))}))}},{key:"isEqual",value:function(e){return MA(this._delegate,e._delegate)}}]),e}(),YP=function(e){xa(n,e);var t=Ia(n);function n(e,r){var i;return Na(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return fe(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new zP(this.firestore,e):null}},{key:"doc",value:function(e){try{return new zP(this.firestore,void 0===e?FR(this._delegate):FR(this._delegate,e))}catch(t){throw BP(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=CR(e.firestore,qR),r=FR(e),i=eP(e.converter,t);return fP(n,[cA(sA(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,aE.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new zP(t.firestore,e)}))}},{key:"isEqual",value:function(e){return VR(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(jP.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(HP);function JP(e){return CR(e,DR)}var XP,ZP=function(){function e(){Na(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Pa(XR,n)}return fe(e,[{key:"isEqual",value:function(e){return(e=so(e))instanceof XR&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(fw.keyField().canonicalString())}}]),e}(),eD=function(){function e(t){Na(this,e),this._delegate=t}return fe(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new hA("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new lA("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=vP.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=mP.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new vA("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),tD={Firestore:MP,GeoPoint:tA,Timestamp:rw,Blob:DP,Transaction:VP,WriteBatch:UP,DocumentReference:zP,DocumentSnapshot:KP,Query:HP,QueryDocumentSnapshot:GP,QuerySnapshot:QP,CollectionReference:YP,FieldPath:ZP,FieldValue:eD,setLogLevel:function(e){!function(e){Ak.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};function nD(){return window}(function(e,t){e.INTERNAL.registerComponent(new vo("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},tD)))})(XP=pp,(function(e,t){return new MP(e,t,new LP)})),XP.registerVersion("@firebase/firestore-compat","0.1.16");function rD(e,t,n){return iD.apply(this,arguments)}function iD(){return iD=Ca(Aa().mark((function e(t,n,r){var i,a,o,u,s;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=nD(),o=a.BuildInfo,zu(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,lD(n.sessionId);case 4:return u=e.sent,s={},Ks()?s.ibi=o.packageName:Bs()?s.apn=o.packageName:Ou(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",hd(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),iD.apply(this,arguments)}function aD(){return aD=Ca(Aa().mark((function e(t){var n,r,i;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nD(),r=n.BuildInfo,i={},Ks()?i.iosBundleId=r.packageName:Bs()?i.androidPackageName=r.packageName:Ou(t,"operation-not-supported-in-this-environment"),e.next=5,Bh(t,i);case 5:case"end":return e.stop()}}),e)}))),aD.apply(this,arguments)}function oD(e){var t=nD().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function uD(e,t,n){return sD.apply(this,arguments)}function sD(){return sD=Ca(Aa().mark((function e(t,n,r){var i,a,o;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nD(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Lu(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Bs()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),sD.apply(this,arguments)}function cD(e){var t,n,r,i,a,o,u,s,c,l,f=nD();Uu("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Uu("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Uu("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Uu("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Uu("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function lD(e){return fD.apply(this,arguments)}function fD(){return(fD=Ca(Aa().mark((function e(t){var n,r,i;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hD(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hD(e){if(zu(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var dD=function(e){xa(n,e);var t=Ia(n);function n(){var e;return Na(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return fe(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),wa(ba(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Uh);function pD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:bD(),postBody:null,tenantId:e.tenantId,error:Lu(e,"no-auth-event")}}function vD(e,t){return kD()._set(wD(e),t)}function mD(e){return yD.apply(this,arguments)}function yD(){return yD=Ca(Aa().mark((function e(t){var n;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kD()._get(wD(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,kD()._remove(wD(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),yD.apply(this,arguments)}function gD(e,t){var n,r,i=function(e){var t=xD(e),n=t.link?decodeURIComponent(t.link):void 0,r=xD(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return xD(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=xD(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Lu(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function bD(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function kD(){return qu(of)}function wD(e){return Ls("authEvent",e.config.apiKey,e.name)}function xD(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=o(t=n)||cn(t)||s(t)||c();r[0];return ro(r.slice(1).join("?"))}var ED=function(){function e(){Na(this,e),this._redirectPersistence=sf,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Lh}return fe(e,[{key:"_initialize",value:function(){var e=Ca(Aa().mark((function e(t){var n,r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new dD(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Ou(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ca(Aa().mark((function e(t,n,r,i){var a,o,u,s;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cD(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),bh.clear(),e.next=10,this._originValidation(t);case 10:return o=pD(t,r,i),e.next=13,vD(t,o);case 13:return e.next=15,rD(t,o,n);case 15:return u=e.sent,e.next=18,oD(u);case 18:return s=e.sent,e.abrupt("return",uD(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return aD.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=nD(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ca(Aa().mark((function n(){return Aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,mD(e);case 2:t.onEvent(ID());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Ca(Aa().mark((function n(r){var i,a;return Aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,mD(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=gD(i,r.url)),t.onEvent(a||ID());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");nD().handleOpenURL=function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),SD=ED;function ID(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Lu("no-auth-event")}}function _D(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function TD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba();return!("file:"!==_D()&&"ionic:"!==_D()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function CD(){return Ha()&&11===(null===document||void 0===document?void 0:document.documentMode)}function ND(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba();return/Edge\/\d+/.test(e)}function RD(){try{var e=self.localStorage,t=ff();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba();return CD()||ND(e)}()||$a()}catch(n){return AD()&&$a()}return!1}function AD(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function PD(){return("http:"===_D()||"https:"===_D()||Ka()||TD())&&!(Ga()||Wa())&&RD()&&!AD()}function DD(){return TD()&&"undefined"!==typeof document}function OD(){return LD.apply(this,arguments)}function LD(){return(LD=Ca(Aa().mark((function e(){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(DD()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var MD={LOCAL:"local",NONE:"none",SESSION:"session"},FD=Uu,VD="persistence";function UD(e,t){FD(Object.values(MD).includes(t),e,"invalid-persistence-type"),Ga()?FD(t!==MD.SESSION,e,"unsupported-persistence-type"):Wa()?FD(t===MD.NONE,e,"unsupported-persistence-type"):AD()?FD(t===MD.NONE||t===MD.LOCAL&&$a(),e,"unsupported-persistence-type"):FD(t===MD.NONE||RD(),e,"unsupported-persistence-type")}function jD(e){return zD.apply(this,arguments)}function zD(){return zD=Ca(Aa().mark((function e(t){var n,r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=BD(),r=Ls(VD,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),zD.apply(this,arguments)}function BD(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var qD=Uu,WD=function(){function e(){Na(this,e),this.browserResolver=qu(vd),this.cordovaResolver=qu(SD),this.underlyingResolver=null,this._redirectPersistence=sf,this._completeRedirectFn=Lh}return fe(e,[{key:"_initialize",value:function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ca(Aa().mark((function e(t,n,r,i){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ca(Aa().mark((function e(t,n,r,i){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return DD()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return qD(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ca(Aa().mark((function e(){var t;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,OD();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function KD(e){return e.unwrap()}function GD(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new JD(e,function(e,t){var n,r=so(e),i=t;return Uu(t.customData.operationType,r,"argument-error"),Uu(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Jl._fromError(r,i)}(e,t));else if(r){var i=HD(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function HD(e){var t=(e instanceof Qa?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Qa)&&"temporaryProof"in t&&"phoneNumber"in t)return ih.credentialFromResult(e);var n,r=t.providerId;if(!r||r===ku)return null;switch(r){case bu:n=Bc;break;case yu:n=zc;break;case gu:n=qc;break;case wu:n=Gc;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Wc._create(r,u):Cc._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new jc(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Qa?n.credentialFromError(e):n.credentialFromResult(e)}function $D(e,t){return t.catch((function(t){throw t instanceof Qa&&GD(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,HD(t)),additionalUserInfo:Ql(e),user:XD.getOrCreate(r)}}))}function QD(e,t){return YD.apply(this,arguments)}function YD(){return YD=Ca(Aa().mark((function e(t,n){var r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return $D(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),YD.apply(this,arguments)}var JD=function(){function e(t,n){Na(this,e),this.resolver=n,this.auth=t.wrapped()}return fe(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return $D(KD(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),XD=function(){function e(t){Na(this,e),this._delegate=t,this.multiFactor=function(e){var t=so(e);return tf.has(t)||tf.set(t,ef._fromUser(t)),tf.get(t)}(t)}return fe(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$D(this.auth,dl(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QD(this.auth,Xf(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$D(this.auth,mh(this._delegate,t,WD)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jD(Js(this.auth));case 2:return e.abrupt("return",Ah(this._delegate,t,WD));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$D(this.auth,vl(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return QD(this.auth,function(e,t,n){return eh.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return $D(this.auth,function(e,t,n){return vh.apply(this,arguments)}(this._delegate,e,WD))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jD(Js(this.auth));case 2:return e.abrupt("return",Nh(this._delegate,t,WD));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Ml.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tl(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return zl(so(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return zl(so(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return rh.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return jl.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Fl.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();XD.USER_MAP=new WeakMap;var ZD=Uu,eO=function(){function e(t,n){if(Na(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;ZD(r,"invalid-api-key",{appName:t.name}),ZD(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?WD:void 0;this._delegate=n.initialize({options:{persistence:nO(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Nu),this.linkUnderlyingAuth()}return fe(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?XD.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Zs(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Il.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return _l(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Sl.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ca(Aa().mark((function e(t,n){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$D(this._delegate,Nl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Ll.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Mc.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ca(Aa().mark((function e(){var t;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ZD(PD(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Dh(this._delegate,WD);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",$D(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Js(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=tO(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=tO(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Al.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return El.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ca(Aa().mark((function e(t){var n,r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:UD(this._delegate,t),e.t0=t,e.next=e.t0===MD.SESSION?4:e.t0===MD.LOCAL?6:e.t0===MD.NONE?11:13;break;case 4:return n=sf,e.abrupt("break",14);case 6:return e.next=8,qu(Af)._isAvailable();case 8:return r=e.sent,n=r?Af:of,e.abrupt("break",14);case 11:return n=Os,e.abrupt("break",14);case 13:return e.abrupt("return",Ou("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return $D(this._delegate,function(e){return Jc.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return $D(this._delegate,fl(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return $D(this._delegate,function(e,t){return bl.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return $D(this._delegate,function(e,t,n){return fl(so(e),Fc.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return $D(this._delegate,function(e,t,n){return Pl.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return QD(this._delegate,function(e,t,n){return Jf.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ZD(PD(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",$D(this._delegate,dh(this._delegate,t,WD)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ca(Aa().mark((function e(t){return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ZD(PD(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,jD(this._delegate);case 3:return e.abrupt("return",Th(this._delegate,t,WD));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Cl.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function tO(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&XD.getOrCreate(e))},error:t,complete:n}}function nO(e,t){var n=function(e,t){var n=BD();if(!n)return[];var r=Ls(VD,e,t);switch(n.getItem(r)){case MD.NONE:return[Os];case MD.LOCAL:return[Af,sf];case MD.SESSION:return[sf];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Af)||n.push(Af),"undefined"!==typeof window)for(var r=0,i=[of,sf];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Os)||n.push(Os),n}eO.Persistence=MD;var rO=function(){function e(){Na(this,e),this.providerId="phone",this._delegate=new ih(KD(pp.auth()))}return fe(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return ih.credential(e,t)}}]),e}();rO.PHONE_SIGN_IN_METHOD=ih.PHONE_SIGN_IN_METHOD,rO.PROVIDER_ID=ih.PROVIDER_ID;var iO=Uu,aO=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pp.app();Na(this,e),iO(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new $f(t,n,i.auth()),this.type=this._delegate.type}return fe(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new vo("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new eO(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:xu,PASSWORD_RESET:Eu,RECOVER_EMAIL:Su,REVERT_SECOND_FACTOR_ADDITION:Iu,VERIFY_AND_CHANGE_EMAIL:_u,VERIFY_EMAIL:Tu}},EmailAuthProvider:Fc,FacebookAuthProvider:zc,GithubAuthProvider:qc,GoogleAuthProvider:Bc,OAuthProvider:jc,SAMLAuthProvider:Kc,PhoneAuthProvider:rO,PhoneMultiFactorGenerator:gd,RecaptchaVerifier:aO,TwitterAuthProvider:Gc,Auth:eO,AuthCredential:nc,Error:Qa}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.11")}(pp);var oO=pp.initializeApp({apiKey:"AIzaSyAn2PO7wTGLc-Wr6sr0xG5RkkgulZPifxw",authDomain:"chat-react-f698d.firebaseapp.com",projectId:"chat-react-f698d",storageBucket:"chat-react-f698d.appspot.com",messagingSenderId:"743715572823",appId:"1:743715572823:web:85db2765e440dcd2d26712",measurementId:"G-4JH19BSE76"}).firestore(),uO=pp.auth(),sO=i.createContext(null);a.render((0,Nd.jsx)(sO.Provider,{value:{firebase:pp,auth:uO,firestore:oO},children:(0,Nd.jsx)(NP,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.26c8c9e1.js.map