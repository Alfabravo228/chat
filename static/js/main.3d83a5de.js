/*! For license information please see main.3d83a5de.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(b){}}}}return t}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function z(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Se=null;function Ie(e){if(e=mi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=gi(t),xe(e.stateNode,e.type,t))}}function _e(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Re=!1;function Ae(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==Ee||null!==Se)&&(Ne(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=gi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ve=!1,Ue=null,je={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(je,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,wt,xt,Et,St,It=!1,_t=[],Tt=null,Ct=null,Nt=null,Rt=new Map,At=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ht(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){It=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),Rt.forEach(Vt),At.forEach(Vt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return jt(t,e)}if(0<_t.length){jt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&jt(Tt,e),null!==Ct&&jt(Ct,e),null!==Nt&&jt(Nt,e),Rt.forEach(t),At.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var Bt=k.ReactCurrentBatchConfig;function qt(e,t,n,r){var i=gt,a=Bt.transition;Bt.transition=null;try{gt=1,Kt(e,t,n,r)}finally{gt=i,Bt.transition=a}}function Wt(e,t,n,r){var i=gt,a=Bt.transition;Bt.transition=null;try{gt=4,Kt(e,t,n,r)}finally{gt=i,Bt.transition=a}}function Kt(e,t,n,r){var i=Ht(e,t,n,r);if(null===i)Br(e,t,r,Gt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,At.set(a,Lt(At.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=mi(i);if(null!==a&&kt(a),null===(a=Ht(e,t,n,r))&&Br(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Br(e,t,r,null,n)}var Gt=null;function Ht(e,t,n,r){if(Gt=null,null!==(e=vi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Yt=null,Jt=null;function Xt(){if(Jt)return Jt;var e,t,n=Yt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=nn(un),cn=F({},un,{view:0,detail:0}),ln=nn(cn),fn=F({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=nn(fn),dn=nn(F({},fn,{dataTransfer:0})),pn=nn(F({},cn,{relatedTarget:0})),vn=nn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=nn(mn),gn=nn(F({},un,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function En(){return xn}var Sn=F({},cn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=nn(Sn),_n=nn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=nn(F({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Cn=nn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=nn(Nn),An=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Dn=null;l&&"documentMode"in document&&(Dn=document.documentMode);var On=l&&"TextEvent"in window&&!Dn,Ln=l&&(!Pn||Dn&&8<Dn&&11>=Dn),Mn=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function qn(e,t,n,r){_e(r),0<(t=Wr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){Mr(e,0)}function Hn(e){if(H(yi(e)))return e}function $n(e,t){if("change"===e)return t}var Qn=!1;if(l){var Yn;if(l){var Jn="oninput"in document;if(!Jn){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),Jn="function"===typeof Xn.oninput}Yn=Jn}else Yn=!1;Qn=Yn&&(!document.documentMode||9<document.documentMode)}function Zn(){Wn&&(Wn.detachEvent("onpropertychange",er),Kn=Wn=null)}function er(e){if("value"===e.propertyName&&Hn(Kn)){var t=[];qn(t,Kn,e,we(e)),Ae(Gn,t)}}function tr(e,t,n){"focusin"===e?(Zn(),Kn=n,(Wn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Hn(Kn)}function rr(e,t){if("click"===e)return Hn(t)}function ir(e,t){if("input"===e||"change"===e)return Hn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=sr(n,a);var o=sr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=l&&"documentMode"in document&&11>=document.documentMode,pr=null,vr=null,mr=null,yr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==pr||pr!==$(r)||("selectionStart"in(r=pr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&or(mr,r)||(mr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},wr={},xr={};function Er(e){if(wr[e])return wr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return wr[e]=n[t];return e}l&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Sr=Er("animationend"),Ir=Er("animationiteration"),_r=Er("animationstart"),Tr=Er("transitionend"),Cr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Cr.set(e,t),s(t,[e])}for(var Ar=0;Ar<Nr.length;Ar++){var Pr=Nr[Ar];Rr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Rr(Sr,"onAnimationEnd"),Rr(Ir,"onAnimationIteration"),Rr(_r,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ve||(Ve=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,c),a=s}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Fr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Vr("selectionchange",!1,t))}}function zr(e,t,n,r){switch($t(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=vi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var u=Cr.get(e);if(void 0!==u){var s=sn,c=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":s=In;break;case"focusin":c="focus",s=pn;break;case"focusout":c="blur",s=pn;break;case"beforeblur":case"afterblur":s=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Tn;break;case Sr:case Ir:case _r:s=vn;break;case Tr:s=Cn;break;case"scroll":s=ln;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=_n}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(qr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=hn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=_n,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:yi(s),d=null==c?u:yi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,vi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==s&&Gr(o,u,s,l,!1),null!==c&&null!==f&&Gr(o,f,c,l,!0)}if("select"===(s=(u=r?yi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Bn(u))if(Qn)m=ir;else{m=nr;var y=tr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=rr);switch(m&&(m=m(e,r))?qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?yi(r):window,e){case"focusin":(Bn(y)||"true"===y.contentEditable)&&(pr=y,vr=r,mr=null);break;case"focusout":mr=vr=pr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,gr(o,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&jn&&(g=Xt()):(Yt="value"in(Qt=i)?Qt.value:Qt.textContent,jn=!0)),0<(y=Wr(r,b)).length&&(b=new gn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Un(n))&&(b.data=g))),(g=On?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=Xt(),Jt=Yt=Qt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new gn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Mr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Pe(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(qr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(qr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Hr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Hr,"\n").replace($r,"")}function Yr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function Jr(){}var Xr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),ci="__reactFiber$"+si,li="__reactProps$"+si,fi="__reactContainer$"+si,hi="__reactEvents$"+si,di="__reactListeners$"+si,pi="__reactHandles$"+si;function vi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[ci])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function gi(e){return e[li]||null}var bi=[],ki=-1;function wi(e){return{current:e}}function xi(e){0>ki||(e.current=bi[ki],bi[ki]=null,ki--)}function Ei(e,t){ki++,bi[ki]=e.current,e.current=t}var Si={},Ii=wi(Si),_i=wi(!1),Ti=Si;function Ci(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){xi(_i),xi(Ii)}function Ai(e,t,n){if(Ii.current!==Si)throw Error(a(168));Ei(Ii,t),Ei(_i,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ti=Ii.current,Ei(Ii,e),Ei(_i,_i.current),!0}function Oi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,xi(_i),xi(Ii),Ei(Ii,e)):xi(_i),Ei(_i,n)}var Li=null,Mi=!1,Fi=!1;function Vi(e){null===Li?Li=[e]:Li.push(e)}function Ui(){if(!Fi&&null!==Li){Fi=!0;var e=0,t=gt;try{var n=Li;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Mi=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),He(Ze,Ui),i}finally{gt=t,Fi=!1}}return null}var ji=k.ReactCurrentBatchConfig;function zi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Bi=wi(null),qi=null,Wi=null,Ki=null;function Gi(){Ki=Wi=qi=null}function Hi(e){var t=Bi.current;xi(Bi),e._currentValue=t}function $i(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qi(e,t){qi=e,Ki=Wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yu=!0),e.firstContext=null)}function Yi(e){var t=e._currentValue;if(Ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Wi){if(null===qi)throw Error(a(308));Wi=e,qi.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var Ji=null,Xi=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=n.interleaved)?(t.next=t,null===Ji?Ji=[n]:Ji.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i=e.updateQueue;Xi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Xi=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Is|=o,e.lanes=o,e.memoizedState=f}}function oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ua=(new r.Component).refs;function sa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ca={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bs(),i=qs(e),a=ta(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bs(),i=qs(e),a=ta(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bs(),r=qs(e),i=ta(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),na(e,i),null!==(t=Ws(e,r,n))&&ra(t,e,r)}};function la(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function fa(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Yi(a):(i=Ni(t)?Ti:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ci(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ca,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ca.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ua,Zi(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Yi(a):(a=Ni(t)?Ti:Ii.current,i.context=Ci(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(sa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ca.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var pa=[],va=0,ma=null,ya=0,ga=[],ba=0,ka=null,wa=1,xa="";function Ea(e,t){pa[va++]=ya,pa[va++]=ma,ma=e,ya=t}function Sa(e,t,n){ga[ba++]=wa,ga[ba++]=xa,ga[ba++]=ka,ka=e;var r=wa;e=xa;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wa=1<<32-ot(t)+i|n<<i|r,xa=a+e}else wa=1<<a|n<<i|r,xa=e}function Ia(e){null!==e.return&&(Ea(e,1),Sa(e,1,0))}function _a(e){for(;e===ma;)ma=pa[--va],pa[va]=null,ya=pa[--va],pa[va]=null;for(;e===ka;)ka=ga[--ba],ga[ba]=null,xa=ga[--ba],ga[ba]=null,wa=ga[--ba],ga[ba]=null}var Ta=null,Ca=null,Na=!1,Ra=null;function Aa(e,t){var n=kc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Pa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ta=e,Ca=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ta=e,Ca=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ka?{id:wa,overflow:xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=kc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ta=e,Ca=null,!0);default:return!1}}function Da(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Oa(e){if(Na){var t=Ca;if(t){var n=t;if(!Pa(e,t)){if(Da(e))throw Error(a(418));t=oi(n.nextSibling);var r=Ta;t&&Pa(e,t)?Aa(r,n):(e.flags=-4097&e.flags|2,Na=!1,Ta=e)}}else{if(Da(e))throw Error(a(418));e.flags=-4097&e.flags|2,Na=!1,Ta=e}}}function La(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ta=e}function Ma(e){if(e!==Ta)return!1;if(!Na)return La(e),Na=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Ca)){if(Da(e)){for(e=Ca;e;)e=oi(e.nextSibling);throw Error(a(418))}for(;t;)Aa(e,t),t=oi(t.nextSibling)}if(La(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ca=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ca=null}}else Ca=Ta?oi(e.stateNode.nextSibling):null;return!0}function Fa(){Ca=Ta=null,Na=!1}function Va(e){null===Ra?Ra=[e]:Ra.push(e)}function Ua(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ja(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function za(e){return(0,e._init)(e._payload)}function Ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=xc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=_c(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&za(a)===t.type)?((r=i(t,n.props)).ref=Ua(e,t,n),r.return=e,r):((r=Ec(n.type,n.key,n.props,null,e.mode,r)).ref=Ua(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Tc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Sc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=_c(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ec(t.type,t.key,t.props,null,e.mode,n)).ref=Ua(e,null,t),n.return=e,n;case x:return(t=Tc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Sc(t,e.mode,n,null)).return=e,t;ja(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);ja(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);ja(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),Na&&Ea(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Na&&Ea(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Na&&Ea(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),Na&&Ea(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Na&&Ea(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Na&&Ea(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&za(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ua(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Sc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Ec(o.type,o.key,o.props,null,r.mode,s)).ref=Ua(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Tc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);ja(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=_c(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var qa=Ba(!0),Wa=Ba(!1),Ka={},Ga=wi(Ka),Ha=wi(Ka),$a=wi(Ka);function Qa(e){if(e===Ka)throw Error(a(174));return e}function Ya(e,t){switch(Ei($a,t),Ei(Ha,e),Ei(Ga,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Ga),Ei(Ga,t)}function Ja(){xi(Ga),xi(Ha),xi($a)}function Xa(e){Qa($a.current);var t=Qa(Ga.current),n=se(t,e.type);t!==n&&(Ei(Ha,e),Ei(Ga,n))}function Za(e){Ha.current===e&&(xi(Ga),xi(Ha))}var eo=wi(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=k.ReactCurrentDispatcher,ao=k.ReactCurrentBatchConfig,oo=0,uo=null,so=null,co=null,lo=!1,fo=!1,ho=0,po=0;function vo(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,i,o){if(oo=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Zo:eu,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,co=so=null,t.updateQueue=null,io.current=tu,e=n(r,i)}while(fo)}if(io.current=Xo,t=null!==so&&null!==so.next,oo=0,co=so=uo=null,lo=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?uo.memoizedState=co=e:co=co.next=e,co}function ko(){if(null===so){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===co?uo.memoizedState:co.next;if(null!==t)co=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===co?uo.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((oo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,uo.lanes|=f,Is|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ar(r,t.memoizedState)||(yu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,uo.lanes|=o,Is|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ar(o,t.memoizedState)||(yu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function Io(e,t){var n=uo,r=ko(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,yu=!0),r=r.queue,Mo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,Ao(9,To.bind(null,n,r,i,t),void 0,null),null===gs)throw Error(a(349));0!==(30&oo)||_o(n,t,i)}return i}function _o(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function To(e,t,n,r){t.value=n,t.getSnapshot=r,No(t)&&Ws(e,1,-1)}function Co(e,t,n){return n((function(){No(t)&&Ws(e,1,-1)}))}function No(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ro(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ho.bind(null,uo,e),[t.memoizedState,e]}function Ao(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Po(){return ko().memoizedState}function Do(e,t,n,r){var i=bo();uo.flags|=e,i.memoizedState=Ao(1|t,n,void 0,void 0===r?null:r)}function Oo(e,t,n,r){var i=ko();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Ao(t,n,a,r))}uo.flags|=e,i.memoizedState=Ao(1|t,n,a,r)}function Lo(e,t){return Do(8390656,8,e,t)}function Mo(e,t){return Oo(2048,8,e,t)}function Fo(e,t){return Oo(4,2,e,t)}function Vo(e,t){return Oo(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function jo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4,4,Uo.bind(null,t,e),n)}function zo(){}function Bo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{gt=n,ao.transition=r}}function Ko(){return ko().memoizedState}function Go(e,t,n){var r=qs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$o(e)?Qo(t,n):(Yo(e,t,n),null!==(e=Ws(e,r,n=Bs()))&&Jo(e,t,r))}function Ho(e,t,n){var r=qs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($o(e))Qo(t,i);else{Yo(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ar(u,o))return}catch(s){}null!==(e=Ws(e,r,n=Bs()))&&Jo(e,t,r)}}function $o(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function Qo(e,t){fo=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=t.interleaved)?(n.next=n,null===Ji?Ji=[t]:Ji.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Jo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xo={readContext:Yi,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},Zo={readContext:Yi,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:Yi,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=bo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:Ro,useDebugValue:zo,useDeferredValue:function(e){var t=Ro(e),n=t[0],r=t[1];return Lo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){var e=Ro(!1),t=e[0];return e=Wo.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,i=bo();if(Na){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===gs)throw Error(a(349));0!==(30&oo)||_o(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(Co.bind(null,r,o,e),[e]),r.flags|=2048,Ao(9,To.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=bo(),t=gs.identifierPrefix;if(Na){var n=xa;t=":"+t+"R"+(n=(wa&~(1<<32-ot(wa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eu={readContext:Yi,useCallback:Bo,useContext:Yi,useEffect:Mo,useImperativeHandle:jo,useInsertionEffect:Fo,useLayoutEffect:Vo,useMemo:qo,useReducer:xo,useRef:Po,useState:function(){return xo(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=xo(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[xo(wo)[0],ko().memoizedState]},useMutableSource:So,useSyncExternalStore:Io,useId:Ko,unstable_isNewReconciler:!1},tu={readContext:Yi,useCallback:Bo,useContext:Yi,useEffect:Mo,useImperativeHandle:jo,useInsertionEffect:Fo,useLayoutEffect:Vo,useMemo:qo,useReducer:Eo,useRef:Po,useState:function(){return Eo(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=Eo(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[Eo(wo)[0],ko().memoizedState]},useMutableSource:So,useSyncExternalStore:Io,useId:Ko,unstable_isNewReconciler:!1};function nu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ru(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var iu,au,ou,uu="function"===typeof WeakMap?WeakMap:Map;function su(e,t,n){(n=ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ps||(Ps=!0,Ds=r),ru(0,t)},n}function cu(e,t,n){(n=ta(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ru(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ru(0,t),"function"!==typeof r&&(null===Os?Os=new Set([this]):Os.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function lu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function fu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ta(-1,1)).tag=2,na(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function du(e,t){if(!Na)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vu(e,t,n){var r=t.pendingProps;switch(_a(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pu(t),null;case 1:case 17:return Ni(t.type)&&Ri(),pu(t),null;case 3:return r=t.stateNode,Ja(),xi(_i),xi(Ii),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ma(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Ra&&(Qs(Ra),Ra=null))),pu(t),null;case 5:Za(t);var i=Qa($a.current);if(n=t.type,null!==e&&null!=t.stateNode)au(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return pu(t),null}if(e=Qa(Ga.current),Ma(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ci]=t,r[li]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(Yr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Fr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ci]=t,e[li]=r,iu(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return pu(t),null;case 6:if(e&&null!=t.stateNode)ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Qa($a.current),Qa(Ga.current),Ma(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(o=r.nodeValue!==n)&&null!==(e=Ta))switch(s=0!==(1&e.mode),e.tag){case 3:Yr(r.nodeValue,n,s);break;case 5:!0!==e.memoizedProps[void 0]&&Yr(r.nodeValue,n,s)}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return pu(t),null;case 13:if(xi(eo),r=t.memoizedState,Na&&null!==Ca&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ca;r;)r=oi(r.nextSibling);return Fa(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ma(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[ci]=t}else Fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return pu(t),null}return null!==Ra&&(Qs(Ra),Ra=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ma(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===Es&&(Es=3):ic())),null!==t.updateQueue&&(t.flags|=4),pu(t),null);case 4:return Ja(),null===e&&jr(t.stateNode.containerInfo),pu(t),null;case 10:return Hi(t.type._context),pu(t),null;case 19:if(xi(eo),null===(o=t.memoizedState))return pu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)du(o,!1);else{if(0!==Es||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=to(e))){for(t.flags|=128,du(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>As&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),du(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Na)return pu(t),null}else 2*Je()-o.renderingStartTime>As&&1073741824!==n&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=eo.current,Ei(eo,r?1&n|2:1&n),t):(pu(t),null);case 22:case 23:return ec(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ws)&&(pu(t),6&t.subtreeFlags&&(t.flags|=8192)):pu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}iu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},au=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qa(Ga.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var mu=k.ReactCurrentOwner,yu=!1;function gu(e,t,n,r){t.child=null===e?Wa(t,null,n,r):qa(t,e.child,n,r)}function bu(e,t,n,r,i){n=n.render;var a=t.ref;return Qi(t,i),r=yo(e,t,n,r,a,i),n=go(),null===e||yu?(Na&&n&&Ia(t),t.flags|=1,gu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uu(e,t,i))}function ku(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||wc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ec(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return Uu(e,t,i)}return t.flags|=1,(e=xc(a,r)).ref=t.ref,e.return=t,t.child=e}function wu(e,t,n,r,i){if(null!==e&&or(e.memoizedProps,r)&&e.ref===t.ref){if(yu=!1,0===(e.lanes&i))return t.lanes=e.lanes,Uu(e,t,i);0!==(131072&e.flags)&&(yu=!0)}return Su(e,t,n,r,i)}function xu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},Ei(xs,ws),ws|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Ei(xs,ws),ws|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,Ei(xs,ws),ws|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(xs,ws),ws|=r;return gu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Su(e,t,n,r,i){var a=Ni(n)?Ti:Ii.current;return a=Ci(t,a),Qi(t,i),n=yo(e,t,n,r,a,i),r=go(),null===e||yu?(Na&&r&&Ia(t),t.flags|=1,gu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uu(e,t,i))}function Iu(e,t,n,r,i){if(Ni(n)){var a=!0;Di(t)}else a=!1;if(Qi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fa(t,n,r),da(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Yi(c):c=Ci(t,c=Ni(n)?Ti:Ii.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ha(t,o,r,c),Xi=!1;var h=t.memoizedState;o.state=h,aa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||_i.current||Xi?("function"===typeof l&&(sa(t,n,l,r),s=t.memoizedState),(u=Xi||la(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ea(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:zi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Yi(s):s=Ci(t,s=Ni(n)?Ti:Ii.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ha(t,o,r,s),Xi=!1,h=t.memoizedState,o.state=h,aa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||_i.current||Xi?("function"===typeof d&&(sa(t,n,d,r),p=t.memoizedState),(c=Xi||la(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return _u(e,t,n,r,a,i)}function _u(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Oi(t,n,!1),Uu(e,t,a);r=t.stateNode,mu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,u,a)):gu(e,t,u,a),t.memoizedState=r.state,i&&Oi(t,n,!0),t.child}function Tu(e){var t=e.stateNode;t.pendingContext?Ai(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ai(0,t.context,!1),Ya(e,t.containerInfo)}function Cu(e,t,n,r,i){return Fa(),Va(i),t.flags|=256,gu(e,t,n,r),t.child}var Nu={dehydrated:null,treeContext:null,retryLane:0};function Ru(e){return{baseLanes:e,cachePool:null}}function Au(e,t,n){var r,i=t.pendingProps,o=eo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(eo,1&o),null===e)return Oa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Ic(o,i,0,null),e=Sc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Ru(n),t.memoizedState=Nu,e):Pu(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Lu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Ic({mode:"visible",children:i.children},o,0,null),(u=Sc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&qa(t,e.child,null,n),t.child.memoizedState=Ru(n),t.memoizedState=Nu,u);if(0===(1&t.mode))t=Lu(e,t,n,null);else if("$!"===r.data)t=Lu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),yu||i){if(null!==(i=gs)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Ws(e,i,-1))}ic(),t=Lu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=mc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ca=oi(r.nextSibling),Ta=t,Na=!0,Ra=null,null!==n&&(ga[ba++]=wa,ga[ba++]=xa,ga[ba++]=ka,wa=n.id,xa=n.overflow,ka=t),(t=Pu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Ou(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ru(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Nu,i):(n=Du(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Ou(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ru(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Nu,i):(n=Du(e,t,i.children,n),t.memoizedState=null,n)}function Pu(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Du(e,t,n,r){var i=e.child;return e=i.sibling,n=xc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Ou(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=xc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=xc(o,r):(r=Sc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Lu(e,t,n,r){return null!==r&&Va(r),qa(t,e.child,null,n),(e=Pu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),$i(e.return,t,n)}function Fu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(gu(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mu(e,n,t);else if(19===e.tag)Mu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fu(t,!0,n,null,a);break;case"together":Fu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Is|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=xc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=xc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ju(e,t){switch(_a(t),t.tag){case 1:return Ni(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ja(),xi(_i),xi(Ii),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(xi(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(eo),null;case 4:return Ja(),null;case 10:return Hi(t.type._context),null;case 22:case 23:return ec(),null;default:return null}}var zu=!1,Bu=!1,qu="function"===typeof WeakSet?WeakSet:Set,Wu=null;function Ku(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){dc(e,t,r)}else n.current=null}function Gu(e,t,n){try{n()}catch(r){dc(e,t,r)}}var Hu=!1;function $u(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Gu(t,n,a)}i=i.next}while(i!==r)}}function Qu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Ju(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Gu(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Ku(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){dc(t,n,o)}break;case 5:Ku(t,n);break;case 4:is(e,t,n)}}function Xu(e){var t=e.alternate;null!==t&&(e.alternate=null,Xu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[li],delete t[hi],delete t[di],delete t[pi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zu(e){return 5===e.tag||3===e.tag||4===e.tag}function es(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Zu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ts(e){e:{for(var t=e.return;null!==t;){if(Zu(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(he(t,""),n.flags&=-33),rs(e,n=es(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,ns(e,n=es(e),t);break;default:throw Error(a(161))}}function ns(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ns(e,t,n),e=e.sibling;null!==e;)ns(e,t,n),e=e.sibling}function rs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(rs(e,t,n),e=e.sibling;null!==e;)rs(e,t,n),e=e.sibling}function is(e,t,n){for(var r,i,o=t,u=!1;;){if(!u){u=o.return;e:for(;;){if(null===u)throw Error(a(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===o.tag||6===o.tag){e:for(var s=e,c=o,l=n,f=c;;)if(Ju(s,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,c=o.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(o.stateNode)}else if(18===o.tag)i?(s=r,c=o.stateNode,8===s.nodeType?ai(s.parentNode,c):1===s.nodeType&&ai(s,c),zt(s)):ai(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Ju(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(u=!1)}o.sibling.return=o.return,o=o.sibling}}function as(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return $u(3,t,t.return),Qu(3,t),void $u(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===r.type&&null!=r.name&&J(n,r),be(e,i),t=be(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?me(n,s):"dangerouslySetInnerHTML"===u?fe(n,s):"children"===u?he(n,s):b(n,u,s,t)}switch(e){case"input":X(n,r);break;case"textarea":ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ne(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[li]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&zt(t.stateNode.containerInfo));case 13:case 19:return void os(t)}throw Error(a(163))}function os(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qu),t.forEach((function(t){var r=yc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function us(e,t,n){Wu=e,ss(e,t,n)}function ss(e,t,n){for(var r=0!==(1&e.mode);null!==Wu;){var i=Wu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||zu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Bu;u=zu;var c=Bu;if(zu=o,(Bu=s)&&!c)for(Wu=i;null!==Wu;)s=(o=Wu).child,22===o.tag&&null!==o.memoizedState?fs(i):null!==s?(s.return=o,Wu=s):fs(i);for(;null!==a;)Wu=a,ss(a,t,n),a=a.sibling;Wu=i,zu=u,Bu=c}cs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Wu=a):cs(e)}}function cs(e){for(;null!==Wu;){var t=Wu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Bu||Qu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Bu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&oa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}oa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Bu||512&t.flags&&Yu(t)}catch(d){dc(t,t.return,d)}}if(t===e){Wu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}function ls(e){for(;null!==Wu;){var t=Wu;if(t===e){Wu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Wu=n;break}Wu=t.return}}function fs(e){for(;null!==Wu;){var t=Wu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qu(4,t)}catch(s){dc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){dc(t,i,s)}}var a=t.return;try{Yu(t)}catch(s){dc(t,a,s)}break;case 5:var o=t.return;try{Yu(t)}catch(s){dc(t,o,s)}}}catch(s){dc(t,t.return,s)}if(t===e){Wu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Wu=u;break}Wu=t.return}}var hs,ds=Math.ceil,ps=k.ReactCurrentDispatcher,vs=k.ReactCurrentOwner,ms=k.ReactCurrentBatchConfig,ys=0,gs=null,bs=null,ks=0,ws=0,xs=wi(0),Es=0,Ss=null,Is=0,_s=0,Ts=0,Cs=null,Ns=null,Rs=0,As=1/0,Ps=!1,Ds=null,Os=null,Ls=!1,Ms=null,Fs=0,Vs=0,Us=null,js=-1,zs=0;function Bs(){return 0!==(6&ys)?Je():-1!==js?js:js=Je()}function qs(e){return 0===(1&e.mode)?1:0!==(2&ys)&&0!==ks?ks&-ks:null!==ji.transition?(0===zs&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),zs=e),zs):0!==(e=gt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function Ws(e,t,n){if(50<Vs)throw Vs=0,Us=null,Error(a(185));var r=Ks(e,t);return null===r?null:(mt(r,t,n),0!==(2&ys)&&r===gs||(r===gs&&(0===(2&ys)&&(_s|=t),4===Es&&Ys(r,ks)),Gs(r,n),1===t&&0===ys&&0===(1&e.mode)&&(As=Je()+500,Mi&&Ui())),r)}function Ks(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Gs(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===gs?ks:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Mi=!0,Vi(e)}(Js.bind(null,e)):Vi(Js.bind(null,e)),ri((function(){0===ys&&Ui()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=gc(n,Hs.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hs(e,t){if(js=-1,zs=0,0!==(6&ys))throw Error(a(327));var n=e.callbackNode;if(fc()&&e.callbackNode!==n)return null;var r=ht(e,e===gs?ks:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ac(e,r);else{t=r;var i=ys;ys|=2;var o=rc();for(gs===e&&ks===t||(As=Je()+500,tc(e,t));;)try{uc();break}catch(s){nc(e,s)}Gi(),ps.current=o,ys=i,null!==bs?t=0:(gs=null,ks=0,t=Es)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=$s(e,i))),1===t)throw n=Ss,tc(e,0),Ys(e,r),Gs(e,Je()),n;if(6===t)Ys(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ac(e,r))&&(0!==(o=pt(e))&&(r=o,t=$s(e,o))),1===t))throw n=Ss,tc(e,0),Ys(e,r),Gs(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:lc(e,Ns);break;case 3:if(Ys(e,r),(130023424&r)===r&&10<(t=Rs+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Bs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(lc.bind(null,e,Ns),t);break}lc(e,Ns);break;case 4:if(Ys(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ds(r/1960))-r)){e.timeoutHandle=ei(lc.bind(null,e,Ns),r);break}lc(e,Ns);break;default:throw Error(a(329))}}}return Gs(e,Je()),e.callbackNode===n?Hs.bind(null,e):null}function $s(e,t){var n=Cs;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),2!==(e=ac(e,t))&&(t=Ns,Ns=n,null!==t&&Qs(t)),e}function Qs(e){null===Ns?Ns=e:Ns.push.apply(Ns,e)}function Ys(e,t){for(t&=~Ts,t&=~_s,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Js(e){if(0!==(6&ys))throw Error(a(327));fc();var t=ht(e,0);if(0===(1&t))return Gs(e,Je()),null;var n=ac(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=$s(e,r))}if(1===n)throw n=Ss,tc(e,0),Ys(e,t),Gs(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lc(e,Ns),Gs(e,Je()),null}function Xs(e,t){var n=ys;ys|=1;try{return e(t)}finally{0===(ys=n)&&(As=Je()+500,Mi&&Ui())}}function Zs(e){null!==Ms&&0===Ms.tag&&0===(6&ys)&&fc();var t=ys;ys|=1;var n=ms.transition,r=gt;try{if(ms.transition=null,gt=1,e)return e()}finally{gt=r,ms.transition=n,0===(6&(ys=t))&&Ui()}}function ec(){ws=xs.current,xi(xs)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==bs)for(n=bs.return;null!==n;){var r=n;switch(_a(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Ja(),xi(_i),xi(Ii),ro();break;case 5:Za(r);break;case 4:Ja();break;case 13:case 19:xi(eo);break;case 10:Hi(r.type._context);break;case 22:case 23:ec()}n=n.return}if(gs=e,bs=e=xc(e.current,null),ks=ws=t,Es=0,Ss=null,Ts=_s=Is=0,Ns=Cs=null,null!==Ji){for(t=0;t<Ji.length;t++)if(null!==(r=(n=Ji[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ji=null}return e}function nc(e,t){for(;;){var n=bs;try{if(Gi(),io.current=Xo,lo){for(var r=uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(oo=0,co=so=uo=null,fo=!1,ho=0,vs.current=null,null===n||null===n.return){Es=1,Ss=t,bs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=ks,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=fu(u);if(null!==p){p.flags&=-257,hu(p,u,s,0,t),1&p.mode&&lu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){lu(o,l,t),ic();break e}c=Error(a(426))}else if(Na&&1&s.mode){var y=fu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),hu(y,u,s,0,t),Va(c);break e}}o=c,4!==Es&&(Es=2),null===Cs?Cs=[o]:Cs.push(o),c=nu(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ia(s,su(0,c,t));break e;case 1:o=c;var g=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Os||!Os.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,ia(s,cu(s,o,t));break e}}s=s.return}while(null!==s)}cc(n)}catch(k){t=k,bs===n&&null!==n&&(bs=n=n.return);continue}break}}function rc(){var e=ps.current;return ps.current=Xo,null===e?Xo:e}function ic(){0!==Es&&3!==Es&&2!==Es||(Es=4),null===gs||0===(268435455&Is)&&0===(268435455&_s)||Ys(gs,ks)}function ac(e,t){var n=ys;ys|=2;var r=rc();for(gs===e&&ks===t||tc(e,t);;)try{oc();break}catch(i){nc(e,i)}if(Gi(),ys=n,ps.current=r,null!==bs)throw Error(a(261));return gs=null,ks=0,Es}function oc(){for(;null!==bs;)sc(bs)}function uc(){for(;null!==bs&&!Qe();)sc(bs)}function sc(e){var t=hs(e.alternate,e,ws);e.memoizedProps=e.pendingProps,null===t?cc(e):bs=t,vs.current=null}function cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=vu(n,t,ws)))return void(bs=n)}else{if(null!==(n=ju(n,t)))return n.flags&=32767,void(bs=n);if(null===e)return Es=6,void(bs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(bs=t);bs=t=e}while(null!==t);0===Es&&(Es=5)}function lc(e,t){var n=gt,r=ms.transition;try{ms.transition=null,gt=1,function(e,t,n){do{fc()}while(null!==Ms);if(0!==(6&ys))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===gs&&(bs=gs=null,ks=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Ls||(Ls=!0,gc(tt,(function(){return fc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=ms.transition,ms.transition=null;var u=gt;gt=1;var s=ys;ys|=4,vs.current=null,function(e,t){if(fr(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xr={focusedElem:e,selectionRange:n},Wu=t;null!==Wu;)if(e=(t=Wu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Wu=e;else for(;null!==Wu;){t=Wu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:zi(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;if(1===k.nodeType)k.textContent="";else if(9===k.nodeType){var w=k.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){dc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Wu=e;break}Wu=t.return}v=Hu,Hu=!1}(e,r),function(e,t){for(Wu=t;null!==Wu;){var n=(t=Wu).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{is(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(S){dc(i,t,S)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Wu=n;else for(;null!==Wu;){t=Wu;try{var o=t.flags;if(32&o&&he(t.stateNode,""),512&o){var u=t.alternate;if(null!==u){var s=u.ref;null!==s&&("function"===typeof s?s(null):s.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(Rs=Je())}break;case 22:var l=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;e:{i=l;for(var d=null,p=r=n=t;;){if(5===p.tag){if(null===d){d=p;var v=p.stateNode;if(i){var m=v.style;"function"===typeof m.setProperty?m.setProperty("display","none","important"):m.display="none"}else{var y=p.stateNode,g=p.memoizedProps.style,b=void 0!==g&&null!==g&&g.hasOwnProperty("display")?g.display:null;y.style.display=ve("display",b)}}}else if(6===p.tag)null===d&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}if(l&&!h&&0!==(1&n.mode)){Wu=n;for(var k=n.child;null!==k;){for(n=Wu=k;null!==Wu;){var w=(r=Wu).child;switch(r.tag){case 0:case 11:case 14:case 15:$u(4,r,r.return);break;case 1:Ku(r,r.return);var x=r.stateNode;if("function"===typeof x.componentWillUnmount){var E=r.return;try{x.props=r.memoizedProps,x.state=r.memoizedState,x.componentWillUnmount()}catch(S){dc(r,E,S)}}break;case 5:Ku(r,r.return);break;case 22:if(null!==r.memoizedState){ls(n);continue}}null!==w?(w.return=r,Wu=w):ls(n)}k=k.sibling}}}switch(4102&o){case 2:ts(t),t.flags&=-3;break;case 6:ts(t),t.flags&=-3,as(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,as(t.alternate,t);break;case 4:as(t.alternate,t)}}catch(S){dc(t,t.return,S)}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}}(e,r),hr(Xr),Xr=null,e.current=r,us(r,e,i),Ye(),ys=s,gt=u,ms.transition=o}else e.current=r;if(Ls&&(Ls=!1,Ms=e,Fs=i),0===(o=e.pendingLanes)&&(Os=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Gs(e,Je()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Ps)throw Ps=!1,e=Ds,Ds=null,e;0!==(1&Fs)&&0!==e.tag&&fc(),0!==(1&(o=e.pendingLanes))?e===Us?Vs++:(Vs=0,Us=e):Vs=0,Ui()}(e,t,n)}finally{ms.transition=r,gt=n}return null}function fc(){if(null!==Ms){var e=bt(Fs),t=ms.transition,n=gt;try{if(ms.transition=null,gt=16>e?16:e,null===Ms)var r=!1;else{if(e=Ms,Ms=null,Fs=0,0!==(6&ys))throw Error(a(331));var i=ys;for(ys|=4,Wu=e.current;null!==Wu;){var o=Wu,u=o.child;if(0!==(16&Wu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Wu=l;null!==Wu;){var f=Wu;switch(f.tag){case 0:case 11:case 15:$u(8,f,o)}var h=f.child;if(null!==h)h.return=f,Wu=h;else for(;null!==Wu;){var d=(f=Wu).sibling,p=f.return;if(Xu(f),f===l){Wu=null;break}if(null!==d){d.return=p,Wu=d;break}Wu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Wu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Wu=u;else e:for(;null!==Wu;){if(0!==(2048&(o=Wu).flags))switch(o.tag){case 0:case 11:case 15:$u(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Wu=g;break e}Wu=o.return}}var b=e.current;for(Wu=b;null!==Wu;){var k=(u=Wu).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Wu=k;else e:for(u=b;null!==Wu;){if(0!==(2048&(s=Wu).flags))try{switch(s.tag){case 0:case 11:case 15:Qu(9,s)}}catch(x){dc(s,s.return,x)}if(s===u){Wu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Wu=w;break e}Wu=s.return}}if(ys=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{gt=n,ms.transition=t}}return!1}function hc(e,t,n){na(e,t=su(0,t=nu(n,t),1)),t=Bs(),null!==(e=Ks(e,1))&&(mt(e,1,t),Gs(e,t))}function dc(e,t,n){if(3===e.tag)hc(e,e,n);else for(;null!==t;){if(3===t.tag){hc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Os||!Os.has(r))){na(t,e=cu(t,e=nu(n,e),1)),e=Bs(),null!==(t=Ks(t,1))&&(mt(t,1,e),Gs(t,e));break}}t=t.return}}function pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Bs(),e.pingedLanes|=e.suspendedLanes&n,gs===e&&(ks&n)===n&&(4===Es||3===Es&&(130023424&ks)===ks&&500>Je()-Rs?tc(e,0):Ts|=n),Gs(e,t)}function vc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Bs();null!==(e=Ks(e,t))&&(mt(e,t,n),Gs(e,n))}function mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vc(e,n)}function yc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),vc(e,n)}function gc(e,t){return He(e,t)}function bc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kc(e,t,n,r){return new bc(e,t,n,r)}function wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xc(e,t){var n=e.alternate;return null===n?((n=kc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ec(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)wc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Sc(n.children,i,o,t);case S:u=8,i|=8;break;case I:return(e=kc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=kc(13,n,t,i)).elementType=N,e.lanes=o,e;case R:return(e=kc(19,n,t,i)).elementType=R,e.lanes=o,e;case D:return Ic(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:u=10;break e;case T:u=9;break e;case C:u=11;break e;case A:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=kc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Sc(e,t,n,r){return(e=kc(7,e,r,t)).lanes=n,e}function Ic(e,t,n,r){return(e=kc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={},e}function _c(e,t,n){return(e=kc(6,e,null,t)).lanes=n,e}function Tc(e,t,n){return(t=kc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nc(e,t,n,r,i,a,o,u,s){return e=new Cc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=kc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Zi(a),e}function Rc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ac(e){if(!e)return Si;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Pi(e,n,t)}return t}function Pc(e,t,n,r,i,a,o,u,s){return(e=Nc(n,r,!0,e,0,a,0,u,s)).context=Ac(null),n=e.current,(a=ta(r=Bs(),i=qs(n))).callback=void 0!==t&&null!==t?t:null,na(n,a),e.current.lanes=i,mt(e,i,r),Gs(e,r),e}function Dc(e,t,n,r){var i=t.current,a=Bs(),o=qs(i);return n=Ac(n),null===t.context?t.context=n:t.pendingContext=n,(t=ta(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),na(i,t),null!==(e=Ws(i,o,a))&&ra(e,i,o),o}function Oc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Lc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Mc(e,t){Lc(e,t),(e=e.alternate)&&Lc(e,t)}hs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_i.current)yu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yu=!1,function(e,t,n){switch(t.tag){case 3:Tu(t),Fa();break;case 5:Xa(t);break;case 1:Ni(t.type)&&Di(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(Bi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Au(e,t,n):(Ei(eo,1&eo.current),null!==(e=Uu(e,t,n))?e.sibling:null);Ei(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,xu(e,t,n)}return Uu(e,t,n)}(e,t,n);yu=0!==(131072&e.flags)}else yu=!1,Na&&0!==(1048576&t.flags)&&Sa(t,ya,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ci(t,Ii.current);Qi(t,n),i=yo(null,t,r,e,i,n);var o=go();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Zi(t),i.updater=ca,t.stateNode=i,i._reactInternals=t,da(t,r,e,n),t=_u(null,t,r,!0,o,n)):(t.tag=0,Na&&o&&Ia(t),gu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return wc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=zi(r,e),i){case 0:t=Su(null,t,r,e,n);break e;case 1:t=Iu(null,t,r,e,n);break e;case 11:t=bu(null,t,r,e,n);break e;case 14:t=ku(null,t,r,zi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 3:e:{if(Tu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ea(e,t),aa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Cu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Cu(e,t,r,n,i=Error(a(424)));break e}for(Ca=oi(t.stateNode.containerInfo.firstChild),Ta=t,Na=!0,Ra=null,n=Wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fa(),r===i){t=Uu(e,t,n);break e}gu(e,t,r,n)}t=t.child}return t;case 5:return Xa(t),null===e&&Oa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,Zr(r,i)?u=null:null!==o&&Zr(r,o)&&(t.flags|=32),Eu(e,t),gu(e,t,u,n),t.child;case 6:return null===e&&Oa(t),null;case 13:return Au(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qa(t,null,r,n):gu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,bu(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 7:return gu(e,t,t.pendingProps,n),t.child;case 8:case 12:return gu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(Bi,r._currentValue),r._currentValue=u,null!==o)if(ar(o.value,u)){if(o.children===i.children&&!_i.current){t=Uu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ta(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),$i(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),$i(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}gu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Qi(t,n),r=r(i=Yi(i)),t.flags|=1,gu(e,t,r,n),t.child;case 14:return i=zi(r=t.type,t.pendingProps),ku(e,t,r,i=zi(r.type,i),n);case 15:return wu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ni(r)?(e=!0,Di(t)):e=!1,Qi(t,n),fa(t,r,i),da(t,r,i,n),_u(null,t,r,!0,e,n);case 19:return Vu(e,t,n);case 22:return xu(e,t,n)}throw Error(a(156,t.tag))};var Fc="function"===typeof reportError?reportError:function(e){console.error(e)};function Vc(e){this._internalRoot=e}function Uc(e){this._internalRoot=e}function jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Bc(){}function qc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Oc(o);u.call(e)}}Dc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Oc(o);a.call(e)}}var o=Pc(t,r,e,0,null,!1,0,"",Bc);return e._reactRootContainer=o,e[fi]=o.current,jr(8===e.nodeType?e.parentNode:e),Zs(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Oc(s);u.call(e)}}var s=Nc(e,0,!1,null,0,!1,0,"",Bc);return e._reactRootContainer=s,e[fi]=s.current,jr(8===e.nodeType?e.parentNode:e),Zs((function(){Dc(t,s,n,r)})),s}(n,t,e,i,r);return Oc(o)}Uc.prototype.render=Vc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Dc(e,t,null,null)},Uc.prototype.unmount=Vc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zs((function(){Dc(null,e,null,null)})),t[fi]=null}},Uc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),Gs(t,Je()),0===(6&ys)&&(As=Je()+500,Ui()))}break;case 13:var r=Bs();Zs((function(){return Ws(e,1,r)})),Mc(e,1)}},wt=function(e){13===e.tag&&(Ws(e,134217728,Bs()),Mc(e,134217728))},xt=function(e){if(13===e.tag){var t=Bs(),n=qs(e);Ws(e,n,t),Mc(e,n)}},Et=function(){return gt},St=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gi(r);if(!i)throw Error(a(90));H(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=Xs,Ne=Zs;var Wc={usingClientEntryPoint:!1,Events:[mi,yi,gi,_e,Te,Xs]},Kc={findFiberByHostInstance:vi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Gc={bundleType:Kc.bundleType,version:Kc.version,rendererPackageName:Kc.rendererPackageName,rendererConfig:Kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:Kc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{it=Hc.inject(Gc),at=Hc}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!jc(t))throw Error(a(200));return Rc(e,t,null,n)},t.createRoot=function(e,t){if(!jc(e))throw Error(a(299));var n=!1,r="",i=Fc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Nc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,jr(8===e.nodeType?e.parentNode:e),new Vc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return Zs(e)},t.hydrate=function(e,t,n){if(!zc(t))throw Error(a(200));return qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Fc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Pc(t,null,e,1,null!=n?n:null,i,0,o,u),e[fi]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Uc(t)},t.render=function(e,t,n){if(!zc(t))throw Error(a(200));return qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!zc(e))throw Error(a(40));return!!e._reactRootContainer&&(Zs((function(){qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=Xs,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return qc(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function R(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:E};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(A){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return R()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var b={};s(b,a,(function(){return this}));var k=Object.getPrototypeOf,w=k&&k(k(N([])));w&&w!==n&&r.call(w,a)&&(b=w);var x=g.prototype=m.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:R}}function R(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(S.prototype),s(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(_),_=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,I=null,_=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function R(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?E():(S=!1,I=null)}}else S=!1}if("function"===typeof b)E=function(){b(R)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=R,E=function(){P.postMessage(null)}}else E=function(){y(R,0)};function D(e){I=e,S||(S=!0,E())}function O(e,n){_=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(_),_=-1):m=!0,O(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};!function(){"use strict";n.d(r,{_:function(){return cO}});var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ya},SDK_VERSION:function(){return Ho},_DEFAULT_ENTRY_NAME:function(){return Oo},_addComponent:function(){return Vo},_addOrOverwriteComponent:function(){return Uo},_apps:function(){return Mo},_clearComponents:function(){return qo},_components:function(){return Fo},_getProvider:function(){return zo},_registerComponent:function(){return jo},_removeServiceInstance:function(){return Bo},deleteApp:function(){return Jo},getApp:function(){return Qo},getApps:function(){return Yo},initializeApp:function(){return $o},onLog:function(){return eu},registerVersion:function(){return Zo},setLogLevel:function(){return tu}});var t,i=n(791),a=n(164);function o(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||s(e,t)||c()}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var h=function(e){return e};var d="beforeunload",p="popstate";function v(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=k(r.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,u=e.hash,s=void 0===u?"":u,c=i.state||{};return[c.idx,h({pathname:n,search:o,hash:s,state:c.usr||null,key:c.key||"default"})]}var o=null;function u(){if(o)x.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(x.length){if(null!=r){var u=l-r;u&&(o={action:e,location:i,retry:function(){C(-1*u)}},C(u))}}else T(e)}}r.addEventListener(p,u),r.addEventListener("hashchange",(function(){b(a()[1])!==b(v)&&u()}));var s=t.Pop,c=a(),l=c[0],v=c[1],w=y(),x=y();function E(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=r.location.href,i=n.indexOf("#");t=-1===i?n:n.slice(0,i)}return t}()+"#"+("string"===typeof e?e:b(e))}function S(e,t){return void 0===t&&(t=null),h(f({pathname:v.pathname,hash:"",search:""},"string"===typeof e?k(e):e,{state:t,key:g()}))}function I(e,t){return[{usr:e.state,key:e.key,idx:t},E(e)]}function _(e,t,n){return!x.length||(x.call({action:e,location:t,retry:n}),!1)}function T(e){s=e;var t=a();l=t[0],v=t[1],w.call({action:s,location:v})}function C(e){i.go(e)}null==l&&(l=0,i.replaceState(f({},i.state,{idx:l}),""));var N={get action(){return s},get location(){return v},createHref:E,push:function e(n,a){var o=t.Push,u=S(n,a);if(_(o,u,(function(){e(n,a)}))){var s=I(u,l+1),c=s[0],f=s[1];try{i.pushState(c,"",f)}catch(h){r.location.assign(f)}T(o)}},replace:function e(n,r){var a=t.Replace,o=S(n,r);if(_(a,o,(function(){e(n,r)}))){var u=I(o,l),s=u[0],c=u[1];i.replaceState(s,"",c),T(a)}},go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(e){return w.push(e)},block:function(e){var t=x.push(e);return 1===x.length&&r.addEventListener(d,m),function(){t(),x.length||r.removeEventListener(d,m)}}};return N}function m(e){e.preventDefault(),e.returnValue=""}function y(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function g(){return Math.random().toString(36).substr(2,8)}function b(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function k(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var w=(0,i.createContext)(null);var x=(0,i.createContext)(null);var E=(0,i.createContext)({outlet:null,matches:[]});function S(e,t){if(!e)throw new Error(t)}function I(e,t,n){void 0===n&&(n="/");var r=D(("string"===typeof t?k(t):t).pathname||"/",n);if(null==r)return null;var i=_(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=R(i[o],r);return a}function _(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||S(!1),a.relativePath=a.relativePath.slice(r.length));var o=O([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&S(!1),_(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:N(o,e.index),routesMeta:u})})),t}var T=/^:\w+$/,C=function(e){return"*"===e};function N(e,t){var n=e.split("/"),r=n.length;return n.some(C)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!C(e)})).reduce((function(e,t){return e+(T.test(t)?3:""===t?1:10)}),r)}function R(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=A({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:O([i,l.pathname]),pathnameBase:L(O([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=O([i,l.pathnameBase]))}return a}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{});return{params:f,pathname:u,pathnameBase:s,pattern:e}}function P(e,t,n){var r,i="string"===typeof e?k(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?k(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:M(a),hash:F(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var O=function(e){return e.join("/").replace(/\/\/+/g,"/")},L=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},M=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},F=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function V(e){U()||S(!1);var t=(0,i.useContext)(w),n=t.basename,r=t.navigator,a=B(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?k(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?n+(f?"/":""):O([n,u])}return r.createHref({pathname:c,search:s,hash:o})}function U(){return null!=(0,i.useContext)(x)}function j(){return U()||S(!1),(0,i.useContext)(x).location}function z(){U()||S(!1);var e=(0,i.useContext)(w),t=e.basename,n=e.navigator,r=(0,i.useContext)(E).matches,a=j().pathname,o=JSON.stringify(r.map((function(e){return e.pathnameBase}))),u=(0,i.useRef)(!1);(0,i.useEffect)((function(){u.current=!0}));var s=(0,i.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=P(e,JSON.parse(o),a);"/"!==t&&(i.pathname=O([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}function B(e){var t=(0,i.useContext)(E).matches,n=j().pathname,r=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,i.useMemo)((function(){return P(e,JSON.parse(r),n)}),[e,r,n])}function q(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,a){return(0,i.createElement)(E.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function W(e){var t=e.to,n=e.replace,r=e.state;U()||S(!1);var a=z();return(0,i.useEffect)((function(){a(t,{replace:n,state:r})})),null}function K(e){S(!1)}function G(e){var n=e.basename,r=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;U()&&S(!1);var d=L(r),p=(0,i.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=k(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,b=void 0===g?"":g,E=v.hash,I=void 0===E?"":E,_=v.state,T=void 0===_?null:_,C=v.key,N=void 0===C?"default":C,R=(0,i.useMemo)((function(){var e=D(y,d);return null==e?null:{pathname:e,search:b,hash:I,state:T,key:N}}),[d,y,b,I,T,N]);return null==R?null:(0,i.createElement)(w.Provider,{value:p},(0,i.createElement)(x.Provider,{children:o,value:{location:R,navigationType:c}}))}function H(e){var t=e.children,n=e.location;return function(e,t){U()||S(!1);var n,r=(0,i.useContext)(E).matches,a=r[r.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,j());if(t){var c,l="string"===typeof t?k(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||S(!1),n=l}else n=s;var f=n.pathname||"/",h=I(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return q(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:O([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:O([u,e.pathnameBase])})})),r)}($(t),n)}function $(e){var t=[];return i.Children.forEach(e,(function(e){if((0,i.isValidElement)(e))if(e.type!==i.Fragment){e.type!==K&&S(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=$(e.props.children)),t.push(n)}else t.push.apply(t,$(e.props.children))})),t}function Q(){return Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(this,arguments)}function Y(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var J=["onClick","reloadDocument","replace","state","target","to"],X=["aria-current","caseSensitive","className","end","style","to","children"];function Z(e){var n=e.basename,r=e.children,a=e.window,o=(0,i.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,h({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(p,(function(){if(o)w.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var u=c-r;u&&(o={action:e,location:i,retry:function(){T(-1*u)}},T(u))}}else _(e)}}));var u=t.Pop,s=a(),c=s[0],l=s[1],v=y(),w=y();function x(e){return"string"===typeof e?e:b(e)}function E(e,t){return void 0===t&&(t=null),h(f({pathname:l.pathname,hash:"",search:""},"string"===typeof e?k(e):e,{state:t,key:g()}))}function S(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function I(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function _(e){u=e;var t=a();c=t[0],l=t[1],v.call({action:u,location:l})}function T(e){i.go(e)}null==c&&(c=0,i.replaceState(f({},i.state,{idx:c}),""));var C={get action(){return u},get location(){return l},createHref:x,push:function e(n,a){var o=t.Push,u=E(n,a);if(I(o,u,(function(){e(n,a)}))){var s=S(u,c+1),l=s[0],f=s[1];try{i.pushState(l,"",f)}catch(h){r.location.assign(f)}_(o)}},replace:function e(n,r){var a=t.Replace,o=E(n,r);if(I(a,o,(function(){e(n,r)}))){var u=S(o,c),s=u[0],l=u[1];i.replaceState(s,"",l),_(a)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return v.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(d,m),function(){t(),w.length||r.removeEventListener(d,m)}}};return C}({window:a}));var u=o.current,s=l((0,i.useState)({action:u.action,location:u.location}),2),c=s[0],v=s[1];return(0,i.useLayoutEffect)((function(){return u.listen(v)}),[u]),(0,i.createElement)(G,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:u})}function ee(e){var t=e.basename,n=e.children,r=e.window,a=(0,i.useRef)();null==a.current&&(a.current=v({window:r}));var o=a.current,u=l((0,i.useState)({action:o.action,location:o.location}),2),s=u[0],c=u[1];return(0,i.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,i.createElement)(G,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}var te=(0,i.forwardRef)((function(e,t){var n=e.onClick,r=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=Y(e,J),f=V(c),h=function(e,t){var n=void 0===t?{}:t,r=n.target,a=n.replace,o=n.state,u=z(),s=j(),c=B(e);return(0,i.useCallback)((function(t){if(0===t.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||b(s)===b(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,r,e])}(c,{replace:o,state:u,target:s});return(0,i.createElement)("a",Q({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||r||h(e)},ref:t,target:s}))}));var ne=(0,i.forwardRef)((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,a=e.caseSensitive,o=void 0!==a&&a,u=e.className,s=void 0===u?"":u,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,p=Y(e,X),v=j(),m=B(h),y=v.pathname,g=m.pathname;o||(y=y.toLowerCase(),g=g.toLowerCase());var b,k=y===g||!l&&y.startsWith(g)&&"/"===y.charAt(g.length),w=k?r:void 0;b="function"===typeof s?s({isActive:k}):[s,k?"active":null].filter(Boolean).join(" ");var x="function"===typeof f?f({isActive:k}):f;return(0,i.createElement)(te,Q({},p,{"aria-current":w,className:b,ref:t,style:x,to:h}),"function"===typeof d?d({isActive:k}):d)}));function re(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function ie(e,t){if(null==e)return{};var n,r,i=re(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ae(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=ae(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function oe(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=ae(e))&&(r&&(r+=" "),r+=t);return r}var ue=n(110),se=n.n(ue),ce="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le="object"===("undefined"===typeof window?"undefined":ce(window))&&"object"===("undefined"===typeof document?"undefined":ce(document))&&9===document.nodeType;function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t,n){return t&&fe(e.prototype,t),n&&fe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function de(e,t){return de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},de(e,t)}function pe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,de(e,t)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var me={}.constructor;function ye(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(ye);if(e.constructor!==me)return e;var t={};for(var n in e)t[n]=ye(e[n]);return t}function ge(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=ye(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var be=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},ke=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=be(e[r]," ");else n=be(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function we(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function xe(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function Ee(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var u=we(n),s=u.linebreak,c=u.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=s),r+=xe(h+":"+c+ke(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=s),r+=xe(p+":"+c+ke(v)+";",a))}for(var m in t){var y=t[m];null!=y&&"fallbacks"!==m&&(r&&(r+=s),r+=xe(m+":"+c+ke(y)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+s+r+s),xe(""+e+c+"{"+r,--a)+xe("}",a)):r}var Se=/([[\].#*$><+~=|^:(),"'`\s])/g,Ie="undefined"!==typeof CSS&&CSS.escape,_e=function(e){return Ie?Ie(e):e.replace(Se,"\\$1")},Te=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var u=a&&o;if(u?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var s=this.options.sheet;return s&&s.attached,this},e}(),Ce=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,u=r.sheet,s=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=s(ve(ve(i)),u),i.selectorText="."+_e(i.id)),i}pe(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=ke(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?f({},e,{allowEmpty:!0}):e;return Ee(this.selectorText,this.style,n)},he(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(Te),Ne={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new Ce(e,t,n)}},Re={indent:1,children:!0},Ae=/@([\w-]+)/,Pe=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(Ae);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new nt(f({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=Re);var t=we(e).linebreak;if(null==e.indent&&(e.indent=Re.indent),null==e.children&&(e.children=Re.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),De=/@media|@supports\s+/,Oe={onCreateRule:function(e,t,n){return De.test(e)?new Pe(e,t,n):null}},Le={indent:1,children:!0},Me=/@keyframes\s+([\w-]+)/,Fe=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(Me);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,a=n.sheet,o=n.generateId;for(var u in this.id=!1===i?this.name:_e(o(this,a)),this.rules=new nt(f({},n,{parent:this})),t)this.rules.add(u,t[u],f({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=Le);var t=we(e).linebreak;if(null==e.indent&&(e.indent=Le.indent),null==e.children&&(e.children=Le.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),Ve=/@keyframes\s+/,Ue=/\$([\w-]+)/g,je=function(e,t){return"string"===typeof e?e.replace(Ue,(function(e,n){return n in t?t[n]:e})):e},ze=function(e,t,n){var r=e[t],i=je(r,n);i!==r&&(e[t]=i)},Be={onCreateRule:function(e,t,n){return"string"===typeof e&&Ve.test(e)?new Fe(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&ze(e,"animation-name",n.keyframes),"animation"in e&&ze(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return je(e,r.keyframes);default:return e}}},qe=function(e){function t(){return e.apply(this,arguments)||this}return pe(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?f({},e,{allowEmpty:!0}):e;return Ee(this.key,this.style,n)},t}(Te),We={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new qe(e,t,n):null}},Ke=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=we(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=Ee(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return Ee(this.at,this.style,e)},e}(),Ge=/@font-face/,He={onCreateRule:function(e,t,n){return Ge.test(e)?new Ke(e,t,n):null}},$e=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return Ee(this.key,this.style,e)},e}(),Qe={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new $e(e,t,n):null}},Ye=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),Je={"@charset":!0,"@import":!0,"@namespace":!0},Xe={onCreateRule:function(e,t,n){return e in Je?new Ye(e,t,n):null}},Ze=[Ne,Oe,Be,We,He,Qe,Xe],et={process:!0},tt={force:!0,process:!0},nt=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,a=r.sheet,o=r.jss,u=r.Renderer,s=r.generateId,c=r.scoped,l=f({classes:this.classes,parent:i,sheet:a,jss:o,Renderer:u,generateId:s,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(l.selector="."+_e(this.classes[h]));var d=ge(h,t,l);if(!d)return null;this.register(d);var p=void 0===l.index?this.index.length:l.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==i&&(a=f({},n,{index:i})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof Ce?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof Fe&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof Ce?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof Fe&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=et);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var u=t.style;if(a.onUpdate(n,t,o,r),r.process&&u&&u!==t.style){for(var s in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[s];c!==u[s]&&t.prop(s,c,tt)}for(var l in u){var f=t.style[l],h=u[l];null==f&&f!==h&&t.prop(l,null,tt)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=we(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),rt=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=f({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new nt(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),it=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),at=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=re(t,["attached"]),i=we(r).linebreak,a="",o=0;o<this.registry.length;o++){var u=this.registry[o];null!=n&&u.attached!==n||(a&&(a+=i),a+=u.toString(r))}return a},he(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ot=new at,ut="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),st="2f1acc6c3a606b082e5eef5e54414ffb";null==ut[st]&&(ut[st]=0);var ct=ut[st]++,lt=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+ct+i+t:a+n.key+"-"+ct+(i?"-"+i:"")+"-"+t}},ft=function(e){var t;return function(){return t||(t=e()),t}},ht=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},dt=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=ke(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},pt=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},vt=function(e,t){return e.selectorText=t,e.selectorText===t},mt=ft((function(){return document.querySelector("head")}));function yt(e){var t=ot.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=mt(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var gt=ft((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),bt=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},kt=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},wt=function(){function e(e){this.getPropertyValue=ht,this.setProperty=dt,this.removeProperty=pt,this.setSelector=vt,this.hasInsertedRules=!1,this.cssRules=[],e&&ot.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=gt();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=yt(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else mt().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=kt(n,t);if(!1===(i=bt(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var u=kt(n,t),s=bt(n,o,u);return!1!==s&&(this.hasInsertedRules=!0,this.refCssRule(e,u,s),s)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof rt&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),xt=0,Et=function(){function e(e){this.id=xt++,this.version="10.9.0",this.plugins=new it,this.options={id:{minify:!1},createGenerateId:lt,Renderer:le?wt:null,plugins:[]},this.generateId=lt({minify:!1});for(var t=0;t<Ze.length;t++)this.plugins.use(Ze[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=f({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ot.index?0:ot.index+1);var r=new rt(e,f({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ot.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=f({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=ge(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),St=function(e){return new Et(e)},It="object"===typeof CSS&&null!=CSS&&"number"in CSS;function _t(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=_t(r);a&&(t||(t={}),t[n]=a)}}return t}St();function Tt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=f({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var Ct={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Nt=Ct;var Rt=i.createContext(null);function At(){return i.useContext(Rt)}var Pt="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",Dt=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Ot=Date.now(),Lt="fnValues"+Ot,Mt="fnStyle"+ ++Ot,Ft=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=ge(e,{},n);return r[Mt]=t,r},onProcessStyle:function(e,t){if(Lt in t||Mt in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Lt]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Mt];a&&(i.style=a(e)||{});var o=i[Lt];if(o)for(var u in o)i.prop(u,o[u](e),r)}}},Vt="@global",Ut="@global ",jt=function(){function e(e,t,n){for(var r in this.type="global",this.at=Vt,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new nt(f({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),zt=function(){function e(e,t,n){this.type="global",this.at=Vt,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(Ut.length);this.rule=n.jss.createRule(r,t,f({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Bt=/\s*,\s*/g;function qt(e,t){for(var n=e.split(Bt),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Wt=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Vt)return new jt(e,t,n);if("@"===e[0]&&e.substr(0,Ut.length)===Ut)return new zt(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[Vt]:null;if(i){for(var a in i)t.addRule(a,i[a],f({},n,{selector:qt(a,e.selector)}));delete r[Vt]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,Vt.length)===Vt){var a=qt(i.substr(Vt.length),e.selector);t.addRule(a,r[i],f({},n,{selector:a})),delete r[i]}}(e,t))}}},Kt=/\s*,\s*/g,Gt=/&/g,Ht=/\$([\w-]+)/g;var $t=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Kt),r=e.split(Kt),i="",a=0;a<n.length;a++)for(var o=n[a],u=0;u<r.length;u++){var s=r[u];i&&(i+=", "),i+=-1!==s.indexOf("&")?s.replace(Gt,o):o+" "+s}return i}function n(e,t,n){if(n)return f({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=f({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,a){if("style"!==i.type)return r;var o,u,s=i,c=s.options.parent;for(var l in r){var h=-1!==l.indexOf("&"),d="@"===l[0];if(h||d){if(o=n(s,c,o),h){var p=t(l,s.selector);u||(u=e(c,a)),p=p.replace(Ht,u);var v=s.key+"-"+l;"replaceRule"in c?c.replaceRule(v,r[l],f({},o,{selector:p})):c.addRule(v,r[l],f({},o,{selector:p}))}else d&&c.addRule(l,{},o).addRule(s.key,r[l],{selector:s.selector});delete r[l]}}return r}}},Qt=/[A-Z]/g,Yt=/^ms-/,Jt={};function Xt(e){return"-"+e.toLowerCase()}var Zt=function(e){if(Jt.hasOwnProperty(e))return Jt[e];var t=e.replace(Qt,Xt);return Jt[e]=Yt.test(t)?"-"+t:t};function en(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Zt(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(en):t.fallbacks=en(e.fallbacks)),t}var tn=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=en(e[t]);return e}return en(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Zt(t);return t===r?e:(n.prop(r,e),null)}}},nn=It&&CSS?CSS.px:"px",rn=It&&CSS?CSS.ms:"ms",an=It&&CSS?CSS.percent:"%";function on(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var un=on({"animation-delay":rn,"animation-duration":rn,"background-position":nn,"background-position-x":nn,"background-position-y":nn,"background-size":nn,border:nn,"border-bottom":nn,"border-bottom-left-radius":nn,"border-bottom-right-radius":nn,"border-bottom-width":nn,"border-left":nn,"border-left-width":nn,"border-radius":nn,"border-right":nn,"border-right-width":nn,"border-top":nn,"border-top-left-radius":nn,"border-top-right-radius":nn,"border-top-width":nn,"border-width":nn,"border-block":nn,"border-block-end":nn,"border-block-end-width":nn,"border-block-start":nn,"border-block-start-width":nn,"border-block-width":nn,"border-inline":nn,"border-inline-end":nn,"border-inline-end-width":nn,"border-inline-start":nn,"border-inline-start-width":nn,"border-inline-width":nn,"border-start-start-radius":nn,"border-start-end-radius":nn,"border-end-start-radius":nn,"border-end-end-radius":nn,margin:nn,"margin-bottom":nn,"margin-left":nn,"margin-right":nn,"margin-top":nn,"margin-block":nn,"margin-block-end":nn,"margin-block-start":nn,"margin-inline":nn,"margin-inline-end":nn,"margin-inline-start":nn,padding:nn,"padding-bottom":nn,"padding-left":nn,"padding-right":nn,"padding-top":nn,"padding-block":nn,"padding-block-end":nn,"padding-block-start":nn,"padding-inline":nn,"padding-inline-end":nn,"padding-inline-start":nn,"mask-position-x":nn,"mask-position-y":nn,"mask-size":nn,height:nn,width:nn,"min-height":nn,"max-height":nn,"min-width":nn,"max-width":nn,bottom:nn,left:nn,top:nn,right:nn,inset:nn,"inset-block":nn,"inset-block-end":nn,"inset-block-start":nn,"inset-inline":nn,"inset-inline-end":nn,"inset-inline-start":nn,"box-shadow":nn,"text-shadow":nn,"column-gap":nn,"column-rule":nn,"column-rule-width":nn,"column-width":nn,"font-size":nn,"font-size-delta":nn,"letter-spacing":nn,"text-decoration-thickness":nn,"text-indent":nn,"text-stroke":nn,"text-stroke-width":nn,"word-spacing":nn,motion:nn,"motion-offset":nn,outline:nn,"outline-offset":nn,"outline-width":nn,perspective:nn,"perspective-origin-x":an,"perspective-origin-y":an,"transform-origin":an,"transform-origin-x":an,"transform-origin-y":an,"transform-origin-z":an,"transition-delay":rn,"transition-duration":rn,"vertical-align":nn,"flex-basis":nn,"shape-margin":nn,size:nn,gap:nn,grid:nn,"grid-gap":nn,"row-gap":nn,"grid-row-gap":nn,"grid-column-gap":nn,"grid-template-rows":nn,"grid-template-columns":nn,"grid-auto-rows":nn,"grid-auto-columns":nn,"box-shadow-x":nn,"box-shadow-y":nn,"box-shadow-blur":nn,"box-shadow-spread":nn,"font-line-height":nn,"text-shadow-x":nn,"text-shadow-y":nn,"text-shadow-blur":nn});function sn(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=sn(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=sn(i,t[i],n);else for(var a in t)t[a]=sn(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||un[e];return!o||0===t&&o===nn?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var cn=function(e){void 0===e&&(e={});var t=on(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=sn(r,e[r],t);return e},onChangeValue:function(e,n){return sn(n,e,t)}}};function ln(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function fn(e){return function(e){if(Array.isArray(e))return u(e)}(e)||ln(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var hn="",dn="",pn="",vn="",mn=le&&"ontouchstart"in document.documentElement;if(le){var yn={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},gn=document.createElement("p").style;for(var bn in yn)if(bn+"Transform"in gn){hn=bn,dn=yn[bn];break}"Webkit"===hn&&"msHyphens"in gn&&(hn="ms",dn=yn.ms,vn="edge"),"Webkit"===hn&&"-apple-trailing-word"in gn&&(pn="apple")}var kn=hn,wn=dn,xn=pn,En=vn,Sn=mn;var In={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===kn?"-webkit-"+e:wn+e)}},_n={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===kn?wn+"print-"+e:e)}},Tn=/[-\s]+(.)?/g;function Cn(e,t){return t?t.toUpperCase():""}function Nn(e){return e.replace(Tn,Cn)}function Rn(e){return Nn("-"+e)}var An,Pn={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===kn){var n="mask-image";if(Nn(n)in t)return e;if(kn+Rn(n)in t)return wn+e}return e}},Dn={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==xn||Sn?e:wn+e)}},On={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:wn+e)}},Ln={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:wn+e)}},Mn={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===kn||"ms"===kn&&"edge"!==En?wn+e:e)}},Fn={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===kn||"ms"===kn||"apple"===xn?wn+e:e)}},Vn={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===kn?"WebkitColumn"+Rn(e)in t&&wn+"column-"+e:"Moz"===kn&&("page"+Rn(e)in t&&"page-"+e))}},Un={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===kn)return e;var n=e.replace("-inline","");return kn+Rn(n)in t&&wn+n}},jn={supportedProperty:function(e,t){return Nn(e)in t&&e}},zn={supportedProperty:function(e,t){var n=Rn(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:kn+n in t?wn+e:"Webkit"!==kn&&"Webkit"+n in t&&"-webkit-"+e}},Bn={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===kn?""+wn+e:e)}},qn={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===kn?wn+"scroll-chaining":e)}},Wn={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Kn={supportedProperty:function(e,t){var n=Wn[e];return!!n&&(kn+Rn(n)in t&&wn+n)}},Gn={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Hn=Object.keys(Gn),$n=function(e){return wn+e},Qn={supportedProperty:function(e,t,n){var r=n.multiple;if(Hn.indexOf(e)>-1){var i=Gn[e];if(!Array.isArray(i))return kn+Rn(i)in t&&wn+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(kn+Rn(i[0])in t))return!1;return i.map($n)}return!1}},Yn=[In,_n,Pn,Dn,On,Ln,Mn,Fn,Vn,Un,jn,zn,Bn,qn,Kn,Qn],Jn=Yn.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Xn=Yn.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,fn(t.noPrefill)),e}),[]),Zn={};if(le){An=document.createElement("p");var er=window.getComputedStyle(document.documentElement,"");for(var tr in er)isNaN(tr)||(Zn[er[tr]]=er[tr]);Xn.forEach((function(e){return delete Zn[e]}))}function nr(e,t){if(void 0===t&&(t={}),!An)return e;if(null!=Zn[e])return Zn[e];"transition"!==e&&"transform"!==e||(t[e]=e in An.style);for(var n=0;n<Jn.length&&(Zn[e]=Jn[n](e,An.style,t),!Zn[e]);n++);try{An.style[e]=""}catch(r){return!1}return Zn[e]}var rr,ir={},ar={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},or=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function ur(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?nr(t):", "+nr(n);return r||(t||n)}function sr(e,t){var n=t;if(!rr||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=ir[r])return ir[r];try{rr.style[e]=n}catch(i){return ir[r]=!1,!1}if(ar[e])n=n.replace(or,ur);else if(""===rr.style[e]&&("-ms-flex"===(n=wn+n)&&(rr.style[e]="-ms-flexbox"),rr.style[e]=n,""===rr.style[e]))return ir[r]=!1,!1;return rr.style[e]="",ir[r]=n,ir[r]}le&&(rr=document.createElement("p"));var cr=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=nr(n);a&&a!==n&&(i=!0);var o=!1,u=sr(a,ke(r));u&&u!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=u||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===kn?e:"@"+wn+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return sr(t,ke(e))||e}}};var lr=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var fr=St({plugins:[Ft(),Wt(),$t(),tn(),cn(),"undefined"===typeof window?null:cr(),lr()]}),hr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,u=""===o?"":"".concat(o,"-"),s=0,c=function(){return s+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Dt.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(u).concat(r,"-").concat(e.key);return t.options.theme[Pt]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(u).concat(i).concat(c())}}(),dr={disableGeneration:!1,generateClassName:hr,jss:fr,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},pr=i.createContext(dr);var vr=-1e9;function mr(){return vr+=1}function yr(e){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yr(e)}function gr(e){return e&&"object"===yr(e)&&e.constructor===Object}function br(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?f({},e):e;return gr(e)&&gr(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(gr(t[i])&&i in e?r[i]=br(e[i],t[i],n):r[i]=t[i])})),r}function kr(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(u){throw u}if(!r||!n.overrides||!n.overrides[r])return i;var a=n.overrides[r],o=f({},i);return Object.keys(a).forEach((function(e){o[e]=br(o[e],a[e])})),o},options:{}}}var wr={};function xr(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Tt({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function Er(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,a=e.stylesCreator,o=e.name;if(!i.disableGeneration){var u=Nt.get(i.sheetsManager,a,r);u||(u={refs:0,staticSheet:null,dynamicStyles:null},Nt.set(i.sheetsManager,a,r,u));var s=f({},a.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});s.generateId=s.serverGenerateClassName||s.generateClassName;var c=i.sheetsRegistry;if(0===u.refs){var l;i.sheetsCache&&(l=Nt.get(i.sheetsCache,a,r));var h=a.create(r,o);l||((l=i.jss.createStyleSheet(h,f({link:!1},s))).attach(),i.sheetsCache&&Nt.set(i.sheetsCache,a,r,l)),c&&c.add(l),u.staticSheet=l,u.dynamicStyles=_t(h)}if(u.dynamicStyles){var d=i.jss.createStyleSheet(u.dynamicStyles,f({link:!0},s));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=Tt({baseClasses:u.staticSheet.classes,newClasses:d.classes}),c&&c.add(d)}else n.classes=u.staticSheet.classes;u.refs+=1}}function Sr(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function Ir(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Nt.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Nt.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function _r(e,t){var n,r=i.useRef([]),a=i.useMemo((function(){return{}}),t);r.current!==a&&(r.current=a,n=e()),i.useEffect((function(){return function(){n&&n()}}),[a])}function Tr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,r=t.classNamePrefix,a=t.Component,o=t.defaultTheme,u=void 0===o?wr:o,s=ie(t,["name","classNamePrefix","Component","defaultTheme"]),c=kr(e),l=n||r||"makeStyles";c.options={index:mr(),name:n,meta:l,classNamePrefix:l};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=At()||u,r=f({},i.useContext(pr),s),o=i.useRef(),l=i.useRef();_r((function(){var i={name:n,state:{},stylesCreator:c,stylesOptions:r,theme:t};return Er(i,e),l.current=!1,o.current=i,function(){Ir(i)}}),[t,c]),i.useEffect((function(){l.current&&Sr(o.current,e),l.current=!0}));var h=xr(o.current,e.classes,a);return h};return h}function Cr(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}var Nr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=t.defaultTheme,a=t.withTheme,o=void 0!==a&&a,u=t.name,s=ie(t,["defaultTheme","withTheme","name"]);var c=u,l=Tr(e,f({defaultTheme:r,Component:n,name:u||n.displayName,classNamePrefix:c},s)),h=i.forwardRef((function(e,t){e.classes;var a,s=e.innerRef,c=ie(e,["classes","innerRef"]),h=l(f({},n.defaultProps,e)),d=c;return("string"===typeof u||o)&&(a=At()||r,u&&(d=Cr({theme:a,name:u,props:c})),o&&!d.theme&&(d.theme=a)),i.createElement(n,f({ref:s||t,classes:h},d))}));return se()(h,n),h}},Rr=["xs","sm","md","lg","xl"];function Ar(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=ie(e,["values","unit","step"]);function s(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function c(e,t){var r=Rr.indexOf(t);return r===Rr.length-1?s(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[Rr[r+1]]?n[Rr[r+1]]:t)-o/100).concat(i,")")}return f({keys:Rr,values:n,up:s,down:function(e){var t=Rr.indexOf(e)+1,r=n[Rr[t]];return t===Rr.length?s("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-o/100).concat(i,")")},between:c,only:function(e){return c(e,e)},width:function(e){return n[e]}},u)}function Pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dr(e,t,n){var r;return f({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),f({paddingLeft:t(2),paddingRight:t(2)},n,Pr({},e.up("sm"),f({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},Pr(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Pr(r,e.up("sm"),{minHeight:64}),r)},n)}function Or(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}var Lr={black:"#000",white:"#fff"},Mr={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Fr={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Vr={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Ur={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},jr={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},zr={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Br={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function qr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Wr(e){if(e.type)return e;if("#"===e.charAt(0))return Wr(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Or(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function Kr(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function Gr(e){var t="hsl"===(e=Wr(e)).type?Wr(function(e){var t=(e=Wr(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),Kr({type:u,values:s})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Hr(e,t){return e=Wr(e),t=qr(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,Kr(e)}function $r(e,t){if(e=Wr(e),t=qr(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Kr(e)}function Qr(e,t){if(e=Wr(e),t=qr(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return Kr(e)}var Yr={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Lr.white,default:Mr[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Jr={text:{primary:Lr.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Mr[800],default:"#303030"},action:{active:Lr.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Xr(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Qr(e.main,i):"dark"===t&&(e.dark=$r(e.main,a)))}function Zr(e){var t=e.primary,n=void 0===t?{light:Fr[300],main:Fr[500],dark:Fr[700]}:t,r=e.secondary,i=void 0===r?{light:Vr.A200,main:Vr.A400,dark:Vr.A700}:r,a=e.error,o=void 0===a?{light:Ur[300],main:Ur[500],dark:Ur[700]}:a,u=e.warning,s=void 0===u?{light:jr[300],main:jr[500],dark:jr[700]}:u,c=e.info,l=void 0===c?{light:zr[300],main:zr[500],dark:zr[700]}:c,h=e.success,d=void 0===h?{light:Br[300],main:Br[500],dark:Br[700]}:h,p=e.type,v=void 0===p?"light":p,m=e.contrastThreshold,y=void 0===m?3:m,g=e.tonalOffset,b=void 0===g?.2:g,k=ie(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function w(e){var t=function(e,t){var n=Gr(e),r=Gr(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Jr.text.primary)>=y?Jr.text.primary:Yr.text.primary;return t}var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=f({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Or(4,t));if("string"!==typeof e.main)throw new Error(Or(5,JSON.stringify(e.main)));return Xr(e,"light",n,b),Xr(e,"dark",r,b),e.contrastText||(e.contrastText=w(e.main)),e},E={dark:Jr,light:Yr};return br(f({common:Lr,type:v,primary:x(n),secondary:x(i,"A400","A200","A700"),error:x(o),warning:x(s),info:x(l),success:x(d),grey:Mr,contrastThreshold:y,getContrastText:w,augmentColor:x,tonalOffset:b},E[v]),k)}function ei(e){return Math.round(1e5*e)/1e5}function ti(e){return ei(e)}var ni={textTransform:"uppercase"},ri='"Roboto", "Helvetica", "Arial", sans-serif';function ii(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?ri:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,l=void 0===c?400:c,h=n.fontWeightMedium,d=void 0===h?500:h,p=n.fontWeightBold,v=void 0===p?700:p,m=n.htmlFontSize,y=void 0===m?16:m,g=n.allVariants,b=n.pxToRem,k=ie(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var w=o/14,x=b||function(e){return"".concat(e/y*w,"rem")},E=function(e,t,n,r,a){return f({fontFamily:i,fontWeight:e,fontSize:x(t),lineHeight:n},i===ri?{letterSpacing:"".concat(ei(r/t),"em")}:{},a,g)},S={h1:E(s,96,1.167,-1.5),h2:E(s,60,1.2,-.5),h3:E(l,48,1.167,0),h4:E(l,34,1.235,.25),h5:E(l,24,1.334,0),h6:E(d,20,1.6,.15),subtitle1:E(l,16,1.75,.15),subtitle2:E(d,14,1.57,.1),body1:E(l,16,1.5,.15),body2:E(l,14,1.43,.15),button:E(d,14,1.75,.4,ni),caption:E(l,12,1.66,.4),overline:E(l,12,2.66,1,ni)};return br(f({htmlFontSize:y,pxToRem:x,round:ti,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:l,fontWeightMedium:d,fontWeightBold:v},S),k,{clone:!1})}function ai(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var oi=["none",ai(0,2,1,-1,0,1,1,0,0,1,3,0),ai(0,3,1,-2,0,2,2,0,0,1,5,0),ai(0,3,3,-2,0,3,4,0,0,1,8,0),ai(0,2,4,-1,0,4,5,0,0,1,10,0),ai(0,3,5,-1,0,5,8,0,0,1,14,0),ai(0,3,5,-1,0,6,10,0,0,1,18,0),ai(0,4,5,-2,0,7,10,1,0,2,16,1),ai(0,5,5,-3,0,8,10,1,0,3,14,2),ai(0,5,6,-3,0,9,12,1,0,3,16,2),ai(0,6,6,-3,0,10,14,1,0,4,18,3),ai(0,6,7,-4,0,11,15,1,0,4,20,3),ai(0,7,8,-4,0,12,17,2,0,5,22,4),ai(0,7,8,-4,0,13,19,2,0,5,24,4),ai(0,7,9,-4,0,14,21,2,0,5,26,4),ai(0,8,9,-5,0,15,22,2,0,6,28,5),ai(0,8,10,-5,0,16,24,2,0,6,30,5),ai(0,8,11,-5,0,17,26,2,0,6,32,5),ai(0,9,11,-5,0,18,28,2,0,7,34,6),ai(0,9,12,-6,0,19,29,2,0,7,36,6),ai(0,10,13,-6,0,20,31,3,0,8,38,7),ai(0,10,13,-6,0,21,33,3,0,8,40,7),ai(0,10,14,-6,0,22,35,3,0,8,42,7),ai(0,11,14,-7,0,23,36,3,0,9,44,8),ai(0,11,15,-7,0,24,38,3,0,9,46,8)],ui={borderRadius:4},si={xs:0,sm:600,md:960,lg:1280,xl:1920},ci={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(si[e],"px)")}};function li(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||ci;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===yr(t)){var i=e.theme.breakpoints||ci;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}var fi=function(e,t){return t?br(e,t,{clone:!1}):e};var hi={m:"margin",p:"padding"},di={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},pi={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},vi=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!pi[e])return[e];e=pi[e]}var t=l(e.split(""),2),n=t[0],r=t[1],i=hi[n],a=di[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),mi=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function yi(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function gi(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function bi(e){var t=yi(e.theme);return Object.keys(e).map((function(n){if(-1===mi.indexOf(n))return null;var r=gi(vi(n),t),i=e[n];return li(e,i,r)})).reduce(fi,{})}bi.propTypes={},bi.filterProps=mi;var ki=bi;function wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=yi({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var xi={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Ei={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Si(e){return"".concat(Math.round(e),"ms")}var Ii={easing:xi,duration:Ei,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?Ei.standard:n,i=t.easing,a=void 0===i?xi.easeInOut:i,o=t.delay,u=void 0===o?0:o;ie(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:Si(r)," ").concat(a," ").concat("string"===typeof u?u:Si(u))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},_i={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Ti(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,i=void 0===r?{}:r,a=e.palette,o=void 0===a?{}:a,u=e.spacing,s=e.typography,c=void 0===s?{}:s,l=ie(e,["breakpoints","mixins","palette","spacing","typography"]),f=Zr(o),h=Ar(n),d=wi(u),p=br({breakpoints:h,direction:"ltr",mixins:Dr(h,d,i),overrides:{},palette:f,props:{},shadows:oi,typography:ii(f,c),spacing:d,shape:ui,transitions:Ii,zIndex:_i},l),v=arguments.length,m=new Array(v>1?v-1:0),y=1;y<v;y++)m[y-1]=arguments[y];return p=m.reduce((function(e,t){return br(e,t)}),p)}var Ci=Ti();var Ni=function(e,t){return Nr(e,f({defaultTheme:Ci},t))};function Ri(e){if("string"!==typeof e)throw new Error(Or(7));return e.charAt(0).toUpperCase()+e.slice(1)}var Ai=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.component,o=void 0===a?"div":a,u=e.square,s=void 0!==u&&u,c=e.elevation,l=void 0===c?1:c,h=e.variant,d=void 0===h?"elevation":h,p=ie(e,["classes","className","component","square","elevation","variant"]);return i.createElement(o,f({className:oe(n.root,r,"outlined"===d?n.outlined:n["elevation".concat(l)],!s&&n.rounded),ref:t},p))})),Pi=Ni((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),f({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(Ai),Di=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.color,o=void 0===a?"primary":a,u=e.position,s=void 0===u?"fixed":u,c=ie(e,["classes","className","color","position"]);return i.createElement(Pi,f({square:!0,component:"header",elevation:4,className:oe(n.root,n["position".concat(Ri(s))],n["color".concat(Ri(o))],r,"fixed"===s&&"mui-fixed"),ref:t},c))})),Oi=Ni((function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}}),{name:"MuiAppBar"})(Di),Li=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.component,o=void 0===a?"div":a,u=e.disableGutters,s=void 0!==u&&u,c=e.variant,l=void 0===c?"regular":c,h=ie(e,["classes","className","component","disableGutters","variant"]);return i.createElement(o,f({className:oe(n.root,n[l],r,!s&&n.gutters),ref:t},h))})),Mi=Ni((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Pr({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(Li),Fi=[0,1,2,3,4,5,6,7,8,9,10],Vi=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function Ui(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var ji=i.forwardRef((function(e,t){var n=e.alignContent,r=void 0===n?"stretch":n,a=e.alignItems,o=void 0===a?"stretch":a,u=e.classes,s=e.className,c=e.component,l=void 0===c?"div":c,h=e.container,d=void 0!==h&&h,p=e.direction,v=void 0===p?"row":p,m=e.item,y=void 0!==m&&m,g=e.justify,b=e.justifyContent,k=void 0===b?"flex-start":b,w=e.lg,x=void 0!==w&&w,E=e.md,S=void 0!==E&&E,I=e.sm,_=void 0!==I&&I,T=e.spacing,C=void 0===T?0:T,N=e.wrap,R=void 0===N?"wrap":N,A=e.xl,P=void 0!==A&&A,D=e.xs,O=void 0!==D&&D,L=e.zeroMinWidth,M=void 0!==L&&L,F=ie(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),V=oe(u.root,s,d&&[u.container,0!==C&&u["spacing-xs-".concat(String(C))]],y&&u.item,M&&u.zeroMinWidth,"row"!==v&&u["direction-xs-".concat(String(v))],"wrap"!==R&&u["wrap-xs-".concat(String(R))],"stretch"!==o&&u["align-items-xs-".concat(String(o))],"stretch"!==r&&u["align-content-xs-".concat(String(r))],"flex-start"!==(g||k)&&u["justify-content-xs-".concat(String(g||k))],!1!==O&&u["grid-xs-".concat(String(O))],!1!==_&&u["grid-sm-".concat(String(_))],!1!==S&&u["grid-md-".concat(String(S))],!1!==x&&u["grid-lg-".concat(String(x))],!1!==P&&u["grid-xl-".concat(String(P))]);return i.createElement(l,f({className:V,ref:t},F))})),zi=Ni((function(e){return f({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return Fi.forEach((function(r){var i=e.spacing(r);0!==i&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(Ui(i,2)),width:"calc(100% + ".concat(Ui(i),")"),"& > $item":{padding:Ui(i,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var r={};Vi.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?f(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t}),{}))}),{name:"MuiGrid"})(ji),Bi=zi;function qi(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Wi(e,t){return i.useMemo((function(){return null==e&&null==t?null:function(n){qi(e,n),qi(t,n)}}),[e,t])}var Ki="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;function Gi(e){var t=i.useRef(e);return Ki((function(){t.current=e})),i.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}var Hi=!0,$i=!1,Qi=null,Yi={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Ji(e){e.metaKey||e.altKey||e.ctrlKey||(Hi=!0)}function Xi(){Hi=!1}function Zi(){"hidden"===this.visibilityState&&$i&&(Hi=!0)}function ea(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Hi||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Yi[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function ta(){$i=!0,window.clearTimeout(Qi),Qi=window.setTimeout((function(){$i=!1}),100)}function na(){return{isFocusVisible:ea,onBlurVisible:ta,ref:i.useCallback((function(e){var t,n=a.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",Ji,!0),t.addEventListener("mousedown",Xi,!0),t.addEventListener("pointerdown",Xi,!0),t.addEventListener("touchstart",Xi,!0),t.addEventListener("visibilitychange",Zi,!0))}),[])}}var ra=i.createContext(null);function ia(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function aa(e,t,n){return null!=n[t]?n[t]:e.props[t]}function oa(e,t,n){var r=ia(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(t,r);return Object.keys(a).forEach((function(o){var u=a[o];if((0,i.isValidElement)(u)){var s=o in t,c=o in r,l=t[o],f=(0,i.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,i.isValidElement)(l)&&(a[o]=(0,i.cloneElement)(u,{onExited:n.bind(null,u),in:l.props.in,exit:aa(u,"exit",e),enter:aa(u,"enter",e)})):a[o]=(0,i.cloneElement)(u,{in:!1}):a[o]=(0,i.cloneElement)(u,{onExited:n.bind(null,u),in:!0,exit:aa(u,"exit",e),enter:aa(u,"enter",e)})}})),a}var ua=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},sa=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(ve(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}pe(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,a=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,ia(n.children,(function(e){return(0,i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:aa(e,"appear",n),enter:aa(e,"enter",n),exit:aa(e,"exit",n)})}))):oa(e,a,o),firstRender:!1}},n.handleExited=function(e,t){var n=ia(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=f({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=re(e,["component","childFactory"]),a=this.state.contextValue,o=ua(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.createElement(ra.Provider,{value:a},o):i.createElement(ra.Provider,{value:a},i.createElement(t,r,o))},t}(i.Component);sa.propTypes={},sa.defaultProps={component:"div",childFactory:function(e){return e}};var ca=sa,la="undefined"===typeof window?i.useEffect:i.useLayoutEffect;var fa=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,a=e.rippleX,o=e.rippleY,u=e.rippleSize,s=e.in,c=e.onExited,l=void 0===c?function(){}:c,f=e.timeout,h=i.useState(!1),d=h[0],p=h[1],v=oe(t.ripple,t.rippleVisible,r&&t.ripplePulsate),m={width:u,height:u,top:-u/2+o,left:-u/2+a},y=oe(t.child,d&&t.childLeaving,r&&t.childPulsate),g=Gi(l);return la((function(){if(!s){p(!0);var e=setTimeout(g,f);return function(){clearTimeout(e)}}}),[g,s,f]),i.createElement("span",{className:v,style:m},i.createElement("span",{className:y}))},ha=i.forwardRef((function(e,t){var n=e.center,r=void 0!==n&&n,a=e.classes,o=e.className,u=ie(e,["center","classes","className"]),s=i.useState([]),c=s[0],l=s[1],h=i.useRef(0),d=i.useRef(null);i.useEffect((function(){d.current&&(d.current(),d.current=null)}),[c]);var p=i.useRef(!1),v=i.useRef(null),m=i.useRef(null),y=i.useRef(null);i.useEffect((function(){return function(){clearTimeout(v.current)}}),[]);var g=i.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,o=e.rippleSize,u=e.cb;l((function(e){return[].concat(fn(e),[i.createElement(fa,{key:h.current,classes:a,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:o})])})),h.current+=1,d.current=u}),[a]),b=i.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=t.pulsate,a=void 0!==i&&i,o=t.center,u=void 0===o?r||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&p.current)p.current=!1;else{"touchstart"===e.type&&(p.current=!0);var l,f,h,d=c?null:y.current,b=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(b.width/2),f=Math.round(b.height/2);else{var k=e.touches?e.touches[0]:e,w=k.clientX,x=k.clientY;l=Math.round(w-b.left),f=Math.round(x-b.top)}if(u)(h=Math.sqrt((2*Math.pow(b.width,2)+Math.pow(b.height,2))/3))%2===0&&(h+=1);else{var E=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,S=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(E,2)+Math.pow(S,2))}e.touches?null===m.current&&(m.current=function(){g({pulsate:a,rippleX:l,rippleY:f,rippleSize:h,cb:n})},v.current=setTimeout((function(){m.current&&(m.current(),m.current=null)}),80)):g({pulsate:a,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[r,g]),k=i.useCallback((function(){b({},{pulsate:!0})}),[b]),w=i.useCallback((function(e,t){if(clearTimeout(v.current),"touchend"===e.type&&m.current)return e.persist(),m.current(),m.current=null,void(v.current=setTimeout((function(){w(e,t)})));m.current=null,l((function(e){return e.length>0?e.slice(1):e})),d.current=t}),[]);return i.useImperativeHandle(t,(function(){return{pulsate:k,start:b,stop:w}}),[k,b,w]),i.createElement("span",f({className:oe(a.root,o),ref:y},u),i.createElement(ca,{component:null,exit:!0},c))})),da=Ni((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(i.memo(ha)),pa=i.forwardRef((function(e,t){var n=e.action,r=e.buttonRef,o=e.centerRipple,u=void 0!==o&&o,s=e.children,c=e.classes,l=e.className,h=e.component,d=void 0===h?"button":h,p=e.disabled,v=void 0!==p&&p,m=e.disableRipple,y=void 0!==m&&m,g=e.disableTouchRipple,b=void 0!==g&&g,k=e.focusRipple,w=void 0!==k&&k,x=e.focusVisibleClassName,E=e.onBlur,S=e.onClick,I=e.onFocus,_=e.onFocusVisible,T=e.onKeyDown,C=e.onKeyUp,N=e.onMouseDown,R=e.onMouseLeave,A=e.onMouseUp,P=e.onTouchEnd,D=e.onTouchMove,O=e.onTouchStart,L=e.onDragLeave,M=e.tabIndex,F=void 0===M?0:M,V=e.TouchRippleProps,U=e.type,j=void 0===U?"button":U,z=ie(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),B=i.useRef(null);var q=i.useRef(null),W=i.useState(!1),K=W[0],G=W[1];v&&K&&G(!1);var H=na(),$=H.isFocusVisible,Q=H.onBlurVisible,Y=H.ref;function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;return Gi((function(r){return t&&t(r),!n&&q.current&&q.current[e](r),!0}))}i.useImperativeHandle(n,(function(){return{focusVisible:function(){G(!0),B.current.focus()}}}),[]),i.useEffect((function(){K&&w&&!y&&q.current.pulsate()}),[y,w,K]);var X=J("start",N),Z=J("stop",L),ee=J("stop",A),te=J("stop",(function(e){K&&e.preventDefault(),R&&R(e)})),ne=J("start",O),re=J("stop",P),ae=J("stop",D),ue=J("stop",(function(e){K&&(Q(e),G(!1)),E&&E(e)}),!1),se=Gi((function(e){B.current||(B.current=e.currentTarget),$(e)&&(G(!0),_&&_(e)),I&&I(e)})),ce=function(){var e=a.findDOMNode(B.current);return d&&"button"!==d&&!("A"===e.tagName&&e.href)},le=i.useRef(!1),fe=Gi((function(e){w&&!le.current&&K&&q.current&&" "===e.key&&(le.current=!0,e.persist(),q.current.stop(e,(function(){q.current.start(e)}))),e.target===e.currentTarget&&ce()&&" "===e.key&&e.preventDefault(),T&&T(e),e.target===e.currentTarget&&ce()&&"Enter"===e.key&&!v&&(e.preventDefault(),S&&S(e))})),he=Gi((function(e){w&&" "===e.key&&q.current&&K&&!e.defaultPrevented&&(le.current=!1,e.persist(),q.current.stop(e,(function(){q.current.pulsate(e)}))),C&&C(e),S&&e.target===e.currentTarget&&ce()&&" "===e.key&&!e.defaultPrevented&&S(e)})),de=d;"button"===de&&z.href&&(de="a");var pe={};"button"===de?(pe.type=j,pe.disabled=v):("a"===de&&z.href||(pe.role="button"),pe["aria-disabled"]=v);var ve=Wi(r,t),me=Wi(Y,B),ye=Wi(ve,me),ge=i.useState(!1),be=ge[0],ke=ge[1];i.useEffect((function(){ke(!0)}),[]);var we=be&&!y&&!v;return i.createElement(de,f({className:oe(c.root,l,K&&[c.focusVisible,x],v&&c.disabled),onBlur:ue,onClick:S,onFocus:se,onKeyDown:fe,onKeyUp:he,onMouseDown:X,onMouseLeave:te,onMouseUp:ee,onDragLeave:Z,onTouchEnd:re,onTouchMove:ae,onTouchStart:ne,ref:ye,tabIndex:v?-1:F},pe,z),s,we?i.createElement(da,f({ref:q,center:u},V)):null)})),va=Ni({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(pa),ma=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,o=e.color,u=void 0===o?"default":o,s=e.component,c=void 0===s?"button":s,l=e.disabled,h=void 0!==l&&l,d=e.disableElevation,p=void 0!==d&&d,v=e.disableFocusRipple,m=void 0!==v&&v,y=e.endIcon,g=e.focusVisibleClassName,b=e.fullWidth,k=void 0!==b&&b,w=e.size,x=void 0===w?"medium":w,E=e.startIcon,S=e.type,I=void 0===S?"button":S,_=e.variant,T=void 0===_?"text":_,C=ie(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),N=E&&i.createElement("span",{className:oe(r.startIcon,r["iconSize".concat(Ri(x))])},E),R=y&&i.createElement("span",{className:oe(r.endIcon,r["iconSize".concat(Ri(x))])},y);return i.createElement(va,f({className:oe(r.root,r[T],a,"inherit"===u?r.colorInherit:"default"!==u&&r["".concat(T).concat(Ri(u))],"medium"!==x&&[r["".concat(T,"Size").concat(Ri(x))],r["size".concat(Ri(x))]],p&&r.disableElevation,h&&r.disabled,k&&r.fullWidth),component:c,disabled:h,focusRipple:!m,focusVisibleClassName:oe(r.focusVisible,g),ref:t,type:I},C),i.createElement("span",{className:r.label},N,n,R))})),ya=Ni((function(e){return{root:f({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Hr(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Hr(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Hr(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Hr(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Hr(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Hr(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Hr(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(ma),ga="/login",ba="/chat";function ka(e){return ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ka(e)}function wa(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ka(e)););return e}function xa(){return xa="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=wa(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},xa.apply(this,arguments)}function Ea(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&de(e,t)}function Sa(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ia(e,t){if(t&&("object"===yr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ve(e)}function _a(e){var t=Sa();return function(){var n,r=ka(e);if(t){var i=ka(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ia(this,n)}}function Ta(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Ca(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Na(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ca(a,r,i,o,u,"next",e)}function u(e){Ca(a,r,i,o,u,"throw",e)}o(void 0)}))}}function Ra(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Aa=n(757),Pa=n.n(Aa);function Da(e,t,n){return Da=Sa()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&de(i,n.prototype),i},Da.apply(null,arguments)}function Oa(e){var t="function"===typeof Map?new Map:void 0;return Oa=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Da(e,arguments,ka(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),de(n,e)},Oa(e)}var La=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ma={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(La(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Fa=function(e){return function(e){var t=La(e);return Ma.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Va=function(e){try{return Ma.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ua(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&ja(n)&&(e[n]=Ua(e[n],t[n]));return e}function ja(e){return"__proto__"!==e}var za=function(){function e(){var t=this;Ra(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return he(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ba(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Fa(JSON.stringify({alg:"none",type:"JWT"})),Fa(JSON.stringify(a)),""].join(".")}function qa(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Wa(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qa())}function Ka(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Ga(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ha(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function $a(){var e=qa();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Qa(){return"object"===typeof indexedDB}var Ya=function(e){Ea(n,e);var t=_a(n);function n(e,r,i){var a;return Ra(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ve(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ve(a),Ja.prototype.create),a}return he(n)}(Oa(Error)),Ja=function(){function e(t,n,r){Ra(this,e),this.service=t,this.serviceName=n,this.errors=r}return he(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Xa(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Ya(n,a,t);return o}}]),e}();function Xa(e,t){return e.replace(Za,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Za=/\{\$([^}]+)}/g;function eo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function to(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(no(u)&&no(s)){if(!to(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function no(e){return null!==e&&"object"===typeof e}function ro(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function io(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ao(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function oo(e,t){var n=new uo(e,t);return n.subscribe.bind(n)}var uo=function(){function e(t,n){var r=this;Ra(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return he(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Ta(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=so),void 0===r.error&&(r.error=so),void 0===r.complete&&(r.complete=so);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function so(){}function co(e){return e&&e._delegate?e._delegate:e}function lo(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var fo=function(){function e(t){Ra(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return he(e,[{key:"transaction",value:function(e,t){return new ho(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new po(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),ho=function(){function e(t){var n=this;Ra(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return he(e,[{key:"objectStore",value:function(e){return new po(this._transaction.objectStore(e))}}]),e}(),po=function(){function e(t){Ra(this,e),this._store=t}return he(e,[{key:"index",value:function(e){return new vo(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new vo(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return lo(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return lo(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return lo(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return lo(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),vo=function(){function e(t){Ra(this,e),this._index=t}return he(e,[{key:"get",value:function(e){return lo(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var mo=function(){function e(t,n,r){Ra(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return he(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),yo="[DEFAULT]",go=function(){function e(t,n){Ra(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return he(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new za;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch(s){}var t,n=Ta(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yo;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Na(Aa.mark((function e(){var t;return Aa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(fn(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),fn(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yo;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yo;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Ta(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=l(i.value,2),s=u[0],c=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ta(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(PN){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===yo?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(PN){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yo;return this.component?this.component.multipleInstances?e:yo:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var bo,ko,wo=function(){function e(t){Ra(this,e),this.name=t,this.providers=new Map}return he(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new go(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),xo=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ko||(ko={}));var Eo,So,Io={debug:ko.DEBUG,verbose:ko.VERBOSE,info:ko.INFO,warn:ko.WARN,error:ko.ERROR,silent:ko.SILENT},_o=ko.INFO,To=(Pr(bo={},ko.DEBUG,"log"),Pr(bo,ko.VERBOSE,"log"),Pr(bo,ko.INFO,"info"),Pr(bo,ko.WARN,"warn"),Pr(bo,ko.ERROR,"error"),bo),Co=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=To[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},No=function(){function e(t){Ra(this,e),this.name=t,this._logLevel=_o,this._logHandler=Co,this._userLogHandler=null,xo.push(this)}return he(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ko))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Io[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ko.DEBUG].concat(t)),this._logHandler.apply(this,[this,ko.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ko.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ko.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ko.INFO].concat(t)),this._logHandler.apply(this,[this,ko.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ko.WARN].concat(t)),this._logHandler.apply(this,[this,ko.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ko.ERROR].concat(t)),this._logHandler.apply(this,[this,ko.ERROR].concat(t))}}]),e}();var Ro=function(){function e(t){Ra(this,e),this.container=t}return he(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ao="@firebase/app",Po="0.7.20",Do=new No("@firebase/app"),Oo="[DEFAULT]",Lo=(Pr(Eo={},Ao,"fire-core"),Pr(Eo,"@firebase/app-compat","fire-core-compat"),Pr(Eo,"@firebase/analytics","fire-analytics"),Pr(Eo,"@firebase/analytics-compat","fire-analytics-compat"),Pr(Eo,"@firebase/app-check","fire-app-check"),Pr(Eo,"@firebase/app-check-compat","fire-app-check-compat"),Pr(Eo,"@firebase/auth","fire-auth"),Pr(Eo,"@firebase/auth-compat","fire-auth-compat"),Pr(Eo,"@firebase/database","fire-rtdb"),Pr(Eo,"@firebase/database-compat","fire-rtdb-compat"),Pr(Eo,"@firebase/functions","fire-fn"),Pr(Eo,"@firebase/functions-compat","fire-fn-compat"),Pr(Eo,"@firebase/installations","fire-iid"),Pr(Eo,"@firebase/installations-compat","fire-iid-compat"),Pr(Eo,"@firebase/messaging","fire-fcm"),Pr(Eo,"@firebase/messaging-compat","fire-fcm-compat"),Pr(Eo,"@firebase/performance","fire-perf"),Pr(Eo,"@firebase/performance-compat","fire-perf-compat"),Pr(Eo,"@firebase/remote-config","fire-rc"),Pr(Eo,"@firebase/remote-config-compat","fire-rc-compat"),Pr(Eo,"@firebase/storage","fire-gcs"),Pr(Eo,"@firebase/storage-compat","fire-gcs-compat"),Pr(Eo,"@firebase/firestore","fire-fst"),Pr(Eo,"@firebase/firestore-compat","fire-fst-compat"),Pr(Eo,"fire-js","fire-js"),Pr(Eo,"firebase","fire-js-all"),Eo),Mo=new Map,Fo=new Map;function Vo(e,t){try{e.container.addComponent(t)}catch(n){Do.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Uo(e,t){e.container.addOrOverwriteComponent(t)}function jo(e){var t=e.name;if(Fo.has(t))return Do.debug("There were multiple attempts to register component ".concat(t,".")),!1;Fo.set(t,e);var n,r=Ta(Mo.values());try{for(r.s();!(n=r.n()).done;){Vo(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function zo(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Bo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Oo;zo(e,t).clearInstance(n)}function qo(){Fo.clear()}var Wo=(Pr(So={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Pr(So,"bad-app-name","Illegal App name: '{$appName}"),Pr(So,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Pr(So,"app-deleted","Firebase App named '{$appName}' already deleted"),Pr(So,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Pr(So,"invalid-log-argument","First argument to `onLog` must be null or a function."),Pr(So,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Pr(So,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Pr(So,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Pr(So,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),So),Ko=new Ja("app","Firebase",Wo),Go=function(){function e(t,n,r){var i=this;Ra(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mo("app",(function(){return i}),"PUBLIC"))}return he(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ko.create("app-deleted",{appName:this._name})}}]),e}(),Ho="9.6.10";function $o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Oo,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ko.create("bad-app-name",{appName:String(i)});var a=Mo.get(i);if(a){if(to(e,a.options)&&to(r,a.config))return a;throw Ko.create("duplicate-app",{appName:i})}var o,u=new wo(i),s=Ta(Fo.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Go(e,r,u);return Mo.set(i,l),l}function Qo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oo,t=Mo.get(e);if(!t)throw Ko.create("no-app",{appName:e});return t}function Yo(){return Array.from(Mo.values())}function Jo(e){return Xo.apply(this,arguments)}function Xo(){return(Xo=Na(Aa.mark((function e(t){var n;return Aa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Mo.has(n)){e.next=6;break}return Mo.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zo(e,t,n){var r,i=null!==(r=Lo[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Do.warn(u.join(" "))}jo(new mo("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function eu(e,t){if(null!==e&&"function"!==typeof e)throw Ko.create("invalid-log-argument");!function(e,t){var n,r=Ta(xo);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Io[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ko[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function tu(e){var t;t=e,xo.forEach((function(e){e.setLogLevel(t)}))}var nu="firebase-heartbeat-store",ru=null;function iu(){var e,t,n;return ru||(ru=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(nu)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new fo(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new fo(a.result),e.oldVersion,e.newVersion,new ho(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw Ko.create("storage-open",{originalErrorMessage:e.message})}))),ru}function au(e){return ou.apply(this,arguments)}function ou(){return ou=Na(Aa.mark((function e(t){var n;return Aa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,iu();case 3:return n=e.sent,e.abrupt("return",n.transaction(nu).objectStore(nu).get(cu(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Ko.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ou.apply(this,arguments)}function uu(e,t){return su.apply(this,arguments)}function su(){return su=Na(Aa.mark((function e(t,n){var r,i,a;return Aa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,iu();case 3:return r=e.sent,i=r.transaction(nu,"readwrite"),a=i.objectStore(nu),e.next=8,a.put(n,cu(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),Ko.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),su.apply(this,arguments)}function cu(e){return"".concat(e.name,"!").concat(e.options.appId)}var lu=function(){function e(t){var n=this;Ra(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new pu(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return he(e,[{key:"triggerHeartbeat",value:function(){var e=Na(Aa.mark((function e(){var t,n,r;return Aa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=fu(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Na(Aa.mark((function e(){var t,n,r,i,a;return Aa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=fu(),n=hu(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Fa(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function fu(){return(new Date).toISOString().substring(0,10)}function hu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Ta(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),vu(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),vu(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var du,pu=function(){function e(t){Ra(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return he(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Na(Aa.mark((function e(){return Aa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qa()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Na(Aa.mark((function e(){var t;return Aa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,au(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Na(Aa.mark((function e(t){var n,r;return Aa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",uu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Na(Aa.mark((function e(t){var n,r;return Aa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",uu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(fn(r.heartbeats),fn(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function vu(e){return Fa(JSON.stringify({version:2,heartbeats:e})).length}du="",jo(new mo("platform-logger",(function(e){return new Ro(e)}),"PRIVATE")),jo(new mo("heartbeat",(function(e){return new lu(e)}),"PRIVATE")),Zo(Ao,Po,du),Zo(Ao,Po,"esm2017"),Zo("fire-js","");function mu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var yu;Object.create;var gu="facebook.com",bu="github.com",ku="google.com",wu="password",xu="twitter.com",Eu="EMAIL_SIGNIN",Su="PASSWORD_RESET",Iu="RECOVER_EMAIL",_u="REVERT_SECOND_FACTOR_ADDITION",Tu="VERIFY_AND_CHANGE_EMAIL",Cu="VERIFY_EMAIL";function Nu(){return Pr({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ru=function(){var e;return Pr(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Pr(e,"argument-error",""),Pr(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Pr(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Pr(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Pr(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Pr(e,"cordova-not-ready","Cordova framework is not ready."),Pr(e,"cors-unsupported","This browser is not supported."),Pr(e,"credential-already-in-use","This credential is already associated with a different user account."),Pr(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Pr(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Pr(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Pr(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Pr(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Pr(e,"email-already-in-use","The email address is already in use by another account."),Pr(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Pr(e,"expired-action-code","The action code has expired."),Pr(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Pr(e,"internal-error","An internal AuthError has occurred."),Pr(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Pr(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Pr(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Pr(e,"invalid-auth-event","An internal AuthError has occurred."),Pr(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Pr(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Pr(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Pr(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Pr(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Pr(e,"invalid-email","The email address is badly formatted."),Pr(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Pr(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Pr(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Pr(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Pr(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Pr(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Pr(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Pr(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Pr(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Pr(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Pr(e,"wrong-password","The password is invalid or the user does not have a password."),Pr(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Pr(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Pr(e,"invalid-provider-id","The specified provider ID is invalid."),Pr(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Pr(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Pr(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Pr(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Pr(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Pr(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Pr(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Pr(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Pr(e,"missing-continue-uri","A continue URL must be provided in the request."),Pr(e,"missing-iframe-start","An internal AuthError has occurred."),Pr(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Pr(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Pr(e,"missing-multi-factor-info","No second factor identifier is provided."),Pr(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Pr(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Pr(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Pr(e,"app-deleted","This instance of FirebaseApp has been deleted."),Pr(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Pr(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Pr(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Pr(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Pr(e,"no-auth-event","An internal AuthError has occurred."),Pr(e,"no-such-provider","User was not linked to an account with the given provider."),Pr(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Pr(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Pr(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Pr(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Pr(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Pr(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Pr(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Pr(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Pr(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Pr(e,"rejected-credential","The request contains malformed or mismatching credentials."),Pr(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Pr(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Pr(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Pr(e,"timeout","The operation has timed out."),Pr(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Pr(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Pr(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Pr(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Pr(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Pr(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Pr(e,"unverified-email","The operation requires a verified email."),Pr(e,"user-cancelled","The user did not grant your application the permissions it requested."),Pr(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Pr(e,"user-disabled","The user account has been disabled by an administrator."),Pr(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Pr(e,"user-signed-out",""),Pr(e,"weak-password","The password must be 6 characters long or more."),Pr(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Pr(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Au=Nu,Pu=new Ja("auth","Firebase",Nu()),Du=new No("@firebase/auth");function Ou(e){if(Du.logLevel<=ko.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Du.error.apply(Du,["Auth (".concat(Ho,"): ").concat(e)].concat(n))}}function Lu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Uu.apply(void 0,[e].concat(n))}function Mu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Uu.apply(void 0,[e].concat(n))}function Fu(e,t,n){var r=Object.assign(Object.assign({},Au()),Pr({},t,n));return new Ja("auth","Firebase",r).create(t,{appName:e.name})}function Vu(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Lu(e,"argument-error"),Fu(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Uu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=fn(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(fn(o)))}return Pu.create.apply(Pu,[e].concat(n))}function ju(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Uu.apply(void 0,[t].concat(r))}}function zu(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ou(t),new Error(t)}function Bu(e,t){e||zu(t)}var qu=new Map;function Wu(e){Bu(e instanceof Function,"Expected a class definition");var t=qu.get(e);return t?(Bu(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,qu.set(e,t),t)}function Ku(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Gu(){return"http:"===Hu()||"https:"===Hu()}function Hu(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var $u=function(){function e(t,n){Ra(this,e),this.shortDelay=t,this.longDelay=n,Bu(n>t,"Short delay should be less than long delay!"),this.isMobile=Wa()||Ha()}return he(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Gu()||Ga()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Qu(e,t){Bu(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Yu=function(){function e(){Ra(this,e)}return he(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void zu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void zu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void zu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ju=(Pr(yu={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Pr(yu,"MISSING_CUSTOM_TOKEN","internal-error"),Pr(yu,"INVALID_IDENTIFIER","invalid-email"),Pr(yu,"MISSING_CONTINUE_URI","internal-error"),Pr(yu,"INVALID_PASSWORD","wrong-password"),Pr(yu,"MISSING_PASSWORD","internal-error"),Pr(yu,"EMAIL_EXISTS","email-already-in-use"),Pr(yu,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Pr(yu,"INVALID_IDP_RESPONSE","invalid-credential"),Pr(yu,"INVALID_PENDING_TOKEN","invalid-credential"),Pr(yu,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Pr(yu,"MISSING_REQ_TYPE","internal-error"),Pr(yu,"EMAIL_NOT_FOUND","user-not-found"),Pr(yu,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Pr(yu,"EXPIRED_OOB_CODE","expired-action-code"),Pr(yu,"INVALID_OOB_CODE","invalid-action-code"),Pr(yu,"MISSING_OOB_CODE","internal-error"),Pr(yu,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Pr(yu,"INVALID_ID_TOKEN","invalid-user-token"),Pr(yu,"TOKEN_EXPIRED","user-token-expired"),Pr(yu,"USER_NOT_FOUND","user-token-expired"),Pr(yu,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Pr(yu,"INVALID_CODE","invalid-verification-code"),Pr(yu,"INVALID_SESSION_INFO","invalid-verification-id"),Pr(yu,"INVALID_TEMPORARY_PROOF","invalid-credential"),Pr(yu,"MISSING_SESSION_INFO","missing-verification-id"),Pr(yu,"SESSION_EXPIRED","code-expired"),Pr(yu,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Pr(yu,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Pr(yu,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Pr(yu,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Pr(yu,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Pr(yu,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Pr(yu,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Pr(yu,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Pr(yu,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Pr(yu,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Pr(yu,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),yu),Xu=new $u(3e4,6e4);function Zu(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function es(e,t,n,r){return ts.apply(this,arguments)}function ts(){return ts=Na(Pa().mark((function e(t,n,r,i){var a,o=arguments;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ns(t,a,Na(Pa().mark((function e(){var a,o,u,s;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=ro(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Yu.fetch()(os(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}function ns(e,t,n){return rs.apply(this,arguments)}function rs(){return rs=Na(Pa().mark((function e(t,n,r){var i,a,o,u,s,c,f,h,d,p;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ju),n),e.prev=2,a=new us(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw ss(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw ss(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw ss(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw Fu(t,p,d);case 30:Lu(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Ya)){e.next=37;break}throw e.t0;case 37:Lu(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),rs.apply(this,arguments)}function is(e,t,n,r){return as.apply(this,arguments)}function as(){return as=Na(Pa().mark((function e(t,n,r,i){var a,o,u=arguments;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,es(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Lu(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),as.apply(this,arguments)}function os(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Qu(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var us=function(){function e(t){var n=this;Ra(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Mu(n.auth,"network-request-failed"))}),Xu.get())}))}return he(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ss(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Mu(e,t,r);return i.customData._tokenResponse=n,i}function cs(e,t){return ls.apply(this,arguments)}function ls(){return ls=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",es(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),ls.apply(this,arguments)}function fs(e,t){return hs.apply(this,arguments)}function hs(){return hs=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",es(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),hs.apply(this,arguments)}function ds(e,t){return ps.apply(this,arguments)}function ps(){return ps=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",es(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ps.apply(this,arguments)}function vs(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ms(){return ms=Na(Pa().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=co(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ju((a=gs(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:vs(ys(a.auth_time)),issuedAtTime:vs(ys(a.iat)),expirationTime:vs(ys(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ms.apply(this,arguments)}function ys(e){return 1e3*Number(e)}function gs(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Ou("JWT malformed, contained fewer than 3 sections"),null;try{var a=Va(r);return a?JSON.parse(a):(Ou("Failed to decode base64 JWT payload"),null)}catch(o){return Ou("Caught error parsing JWT payload as JSON",o),null}}function bs(e,t){return ks.apply(this,arguments)}function ks(){return ks=Na(Pa().mark((function e(t,n){var r=arguments;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ya&&ws(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ks.apply(this,arguments)}function ws(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var xs=function(){function e(t){Ra(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return he(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Na(Pa().mark((function t(){return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Es=function(){function e(t,n){Ra(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return he(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=vs(this.lastLoginAt),this.creationTime=vs(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ss(e){return Is.apply(this,arguments)}function Is(){return Is=Na(Pa().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,bs(t,ds(r,{idToken:i}));case 6:ju(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Cs(o.providerUserInfo):[],s=Ts(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Es(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Is.apply(this,arguments)}function _s(){return(_s=Na(Pa().mark((function e(t){var n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=co(t),e.next=3,Ss(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ts(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(fn(n),fn(t))}function Cs(e){return e.map((function(e){var t=e.providerId,n=mu(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Ns(e,t){return Rs.apply(this,arguments)}function Rs(){return Rs=Na(Pa().mark((function e(t,n){var r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ns(t,{},Na(Pa().mark((function e(){var r,i,a,o,u,s;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ro({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=os(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Yu.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Rs.apply(this,arguments)}var As=function(){function e(){Ra(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return he(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ju(e.idToken,"internal-error"),ju("undefined"!==typeof e.idToken,"internal-error"),ju("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=gs(e);return ju(t,"internal-error"),ju("undefined"!==typeof t.exp,"internal-error"),ju("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Na(Pa().mark((function e(t){var n,r=arguments;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ju(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Na(Pa().mark((function e(t,n){var r,i,a,o;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ns(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return zu("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ju("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ju("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ju("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Ps(e,t){ju("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Ds=function(){function e(t){Ra(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=mu(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?fn(a.providerData):[],this.metadata=new Es(a.createdAt||void 0,a.lastLoginAt||void 0)}return he(e,[{key:"getIdToken",value:function(){var e=Na(Pa().mark((function e(t){var n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bs(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ju(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ms.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return _s.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ju(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ju(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Na(Pa().mark((function e(t){var n,r,i=arguments;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ss(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Na(Pa().mark((function e(){var t;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,bs(this,cs(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;ju(b&&E,t,"internal-error");var S=As.fromJSON(this.name,E);ju("string"===typeof b,t,"internal-error"),Ps(f,t.name),Ps(h,t.name),ju("boolean"===typeof k,t,"internal-error"),ju("boolean"===typeof w,t,"internal-error"),Ps(d,t.name),Ps(p,t.name),Ps(v,t.name),Ps(m,t.name),Ps(y,t.name),Ps(g,t.name);var I=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Na(Pa().mark((function t(n,r){var i,a,o,u=arguments;return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new As).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ss(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Os=function(){function e(){Ra(this,e),this.type="NONE",this.storage={}}return he(e,[{key:"_isAvailable",value:function(){var e=Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Na(Pa().mark((function e(t){var n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Os.type="NONE";var Ls=Os;function Ms(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Fs=function(){function e(t,n,r){Ra(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ms(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ms("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return he(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Na(Pa().mark((function e(){var t;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Ds._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Na(Pa().mark((function e(t){var n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Na(Pa().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Wu(Ls),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Wu(Ls),u=Ms(i,n.config.apiKey,n.name),s=null,c=Ta(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Ds._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Vs(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Bs(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Us(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ws(t))return"Blackberry";if(Ks(t))return"Webos";if(js(t))return"Safari";if((t.includes("chrome/")||zs(t))&&!t.includes("edge/"))return"Chrome";if(qs(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Us(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa();return/firefox\//i.test(e)}function js(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function zs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa();return/crios\//i.test(e)}function Bs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa();return/iemobile/i.test(e)}function qs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa();return/android/i.test(e)}function Ws(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa();return/blackberry/i.test(e)}function Ks(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa();return/webos/i.test(e)}function Gs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa();return/iphone|ipad|ipod/i.test(e)}function Hs(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa();return Gs(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function $s(){return $a()&&10===document.documentMode}function Qs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa();return Gs(e)||qs(e)||Ks(e)||Ws(e)||/windows phone/i.test(e)||Bs(e)}function Ys(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Vs(qa());break;case"Worker":t="".concat(Vs(qa()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ho,"/").concat(r)}var Js=function(){function e(t,n,r){Ra(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zs(this),this.idTokenSubscription=new Zs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pu,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return he(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Wu(t)),this._initializationPromise=this.queue(Na(Pa().mark((function r(){var i,a;return Pa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Fs.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Na(Pa().mark((function e(){var t;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Na(Pa().mark((function e(t){var n,r,i,a,o;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return ju(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Na(Pa().mark((function e(t){var n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ss(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Na(Pa().mark((function e(t){var n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?co(t):null)&&ju(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Na(Pa().mark((function e(t){var n=this;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&ju(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Na(Pa().mark((function n(){return Pa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Wu(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ja("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Na(Pa().mark((function e(t,n){var r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Na(Pa().mark((function e(t){var n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ju(n=t&&Wu(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Fs.create(this,[Wu(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Na(Pa().mark((function e(t){var n,r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Na(Pa().mark((function e(t){var n=this;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ju(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ju(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ys(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Na(Pa().mark((function e(){var t,n,r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pr({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Xs(e){return co(e)}var Zs=function(){function e(t){var n=this;Ra(this,e),this.auth=t,this.observer=null,this.addObserver=oo((function(e){return n.observer=e}))}return he(e,[{key:"next",get:function(){return ju(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function ec(e,t,n){var r=Xs(e);ju(r._canInitEmulator,r,"emulator-config-failed"),ju(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=tc(t),o=function(e){var t=tc(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:nc(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:nc(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function tc(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function nc(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var rc=function(){function e(t,n){Ra(this,e),this.providerId=t,this.signInMethod=n}return he(e,[{key:"toJSON",value:function(){return zu("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return zu("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return zu("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return zu("not implemented")}}]),e}();function ic(e,t){return ac.apply(this,arguments)}function ac(){return ac=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",es(t,"POST","/v1/accounts:resetPassword",Zu(t,n)));case 1:case"end":return e.stop()}}),e)}))),ac.apply(this,arguments)}function oc(e,t){return uc.apply(this,arguments)}function uc(){return uc=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",es(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),uc.apply(this,arguments)}function sc(e,t){return cc.apply(this,arguments)}function cc(){return cc=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",es(t,"POST","/v1/accounts:update",Zu(t,n)));case 1:case"end":return e.stop()}}),e)}))),cc.apply(this,arguments)}function lc(e,t){return fc.apply(this,arguments)}function fc(){return fc=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t,"POST","/v1/accounts:signInWithPassword",Zu(t,n)));case 1:case"end":return e.stop()}}),e)}))),fc.apply(this,arguments)}function hc(e,t){return dc.apply(this,arguments)}function dc(){return dc=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",es(t,"POST","/v1/accounts:sendOobCode",Zu(t,n)));case 1:case"end":return e.stop()}}),e)}))),dc.apply(this,arguments)}function pc(e,t){return vc.apply(this,arguments)}function vc(){return vc=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hc(t,n));case 1:case"end":return e.stop()}}),e)}))),vc.apply(this,arguments)}function mc(e,t){return yc.apply(this,arguments)}function yc(){return yc=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hc(t,n));case 1:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}function gc(e,t){return bc.apply(this,arguments)}function bc(){return bc=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hc(t,n));case 1:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}function kc(e,t){return wc.apply(this,arguments)}function wc(){return wc=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hc(t,n));case 1:case"end":return e.stop()}}),e)}))),wc.apply(this,arguments)}function xc(e,t){return Ec.apply(this,arguments)}function Ec(){return Ec=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t,"POST","/v1/accounts:signInWithEmailLink",Zu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ec.apply(this,arguments)}function Sc(e,t){return Ic.apply(this,arguments)}function Ic(){return Ic=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t,"POST","/v1/accounts:signInWithEmailLink",Zu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ic.apply(this,arguments)}var _c=function(e){Ea(n,e);var t=_a(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Ra(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return he(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",lc(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",xc(t,{email:this._email,oobCode:this._password}));case 5:Lu(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",oc(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Sc(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Lu(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(rc);function Tc(e,t){return Cc.apply(this,arguments)}function Cc(){return Cc=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t,"POST","/v1/accounts:signInWithIdp",Zu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}var Nc=function(e){Ea(n,e);var t=_a(n);function n(){var e;return Ra(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return he(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Tc(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Tc(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Tc(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ro(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Lu("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=mu(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(rc);function Rc(e,t){return Ac.apply(this,arguments)}function Ac(){return Ac=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",es(t,"POST","/v1/accounts:sendVerificationCode",Zu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ac.apply(this,arguments)}function Pc(){return Pc=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t,"POST","/v1/accounts:signInWithPhoneNumber",Zu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}function Dc(){return Dc=Na(Pa().mark((function e(t,n){var r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,is(t,"POST","/v1/accounts:signInWithPhoneNumber",Zu(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ss(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Dc.apply(this,arguments)}var Oc=Pr({},"USER_NOT_FOUND","user-not-found");function Lc(){return Lc=Na(Pa().mark((function e(t,n){var r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",is(t,"POST","/v1/accounts:signInWithPhoneNumber",Zu(t,r),Oc));case 2:case"end":return e.stop()}}),e)}))),Lc.apply(this,arguments)}var Mc=function(e){Ea(n,e);var t=_a(n);function n(e){var r;return Ra(this,n),(r=t.call(this,"phone","phone")).params=e,r}return he(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Pc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Dc.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Lc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(rc);var Fc=function(){function e(t){var n,r,i,a,o,u;Ra(this,e);var s=io(ao(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);ju(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return he(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=io(ao(e)).link,n=t?io(ao(t)).deep_link_id:null,r=io(ao(e)).deep_link_id;return(r?io(ao(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(PN){return null}}}]),e}();var Vc=function(){function e(){Ra(this,e),this.providerId=e.PROVIDER_ID}return he(e,null,[{key:"credential",value:function(e,t){return _c._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Fc.parseLink(t);return ju(n,"argument-error"),_c._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Vc.PROVIDER_ID="password",Vc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Vc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Uc=function(){function e(t){Ra(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return he(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),jc=function(e){Ea(n,e);var t=_a(n);function n(){var e;return Ra(this,n),(e=t.apply(this,arguments)).scopes=[],e}return he(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return fn(this.scopes)}}]),n}(Uc),zc=function(e){Ea(n,e);var t=_a(n);function n(){return Ra(this,n),t.apply(this,arguments)}return he(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ju(e.idToken||e.accessToken,"argument-error"),Nc._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ju("providerId"in t&&"signInMethod"in t,"argument-error"),Nc._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(jc),Bc=function(e){Ea(n,e);var t=_a(n);function n(){return Ra(this,n),t.call(this,"facebook.com")}return he(n,null,[{key:"credential",value:function(e){return Nc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(PN){return null}}}]),n}(jc);Bc.FACEBOOK_SIGN_IN_METHOD="facebook.com",Bc.PROVIDER_ID="facebook.com";var qc=function(e){Ea(n,e);var t=_a(n);function n(){var e;return Ra(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return he(n,null,[{key:"credential",value:function(e,t){return Nc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(PN){return null}}}]),n}(jc);qc.GOOGLE_SIGN_IN_METHOD="google.com",qc.PROVIDER_ID="google.com";var Wc=function(e){Ea(n,e);var t=_a(n);function n(){return Ra(this,n),t.call(this,"github.com")}return he(n,null,[{key:"credential",value:function(e){return Nc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(PN){return null}}}]),n}(jc);Wc.GITHUB_SIGN_IN_METHOD="github.com",Wc.PROVIDER_ID="github.com";var Kc=function(e){Ea(n,e);var t=_a(n);function n(e,r){var i;return Ra(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return he(n,[{key:"_getIdTokenResponse",value:function(e){return Tc(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Tc(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Tc(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(rc),Gc=function(e){Ea(n,e);var t=_a(n);function n(e){return Ra(this,n),ju(e.startsWith("saml."),"argument-error"),t.call(this,e)}return he(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Kc.fromJSON(e);return ju(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Kc._create(r,n)}catch(i){return null}}}]),n}(Uc),Hc=function(e){Ea(n,e);var t=_a(n);function n(){return Ra(this,n),t.call(this,"twitter.com")}return he(n,null,[{key:"credential",value:function(e,t){return Nc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(PN){return null}}}]),n}(jc);function $c(e,t){return Qc.apply(this,arguments)}function Qc(){return Qc=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t,"POST","/v1/accounts:signUp",Zu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qc.apply(this,arguments)}Hc.TWITTER_SIGN_IN_METHOD="twitter.com",Hc.PROVIDER_ID="twitter.com";var Yc=function(){function e(t){Ra(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return he(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Na(Pa().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Ds._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Jc(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Na(Pa().mark((function t(n,r,i){var a;return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Jc(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Jc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Xc(){return Xc=Na(Pa().mark((function e(t){var n,r,i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xs(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Yc({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,$c(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Yc._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Xc.apply(this,arguments)}var Zc=function(e){Ea(n,e);var t=_a(n);function n(e,r,i,a){var o,u;return Ra(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(ve(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return he(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ya);function el(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Zc._fromErrorAndOperation(e,n,t,r);throw n}))}function tl(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function nl(e,t){return rl.apply(this,arguments)}function rl(){return rl=Na(Pa().mark((function e(t,n){var r,i,a,o;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=co(t),e.next=3,ol(!0,r,n);case 3:return e.t0=fs,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=tl(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),rl.apply(this,arguments)}function il(e,t){return al.apply(this,arguments)}function al(){return al=Na(Pa().mark((function e(t,n){var r,i,a=arguments;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=bs,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Yc._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),al.apply(this,arguments)}function ol(e,t,n){return ul.apply(this,arguments)}function ul(){return(ul=Na(Pa().mark((function e(t,n,r){var i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ss(n);case 2:i=tl(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ju(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sl(e,t){return cl.apply(this,arguments)}function cl(){return cl=Na(Pa().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,bs(t,el(i,a,n,t),r);case 6:return ju((o=e.sent).idToken,i,"internal-error"),ju(u=gs(o.idToken),i,"internal-error"),s=u.sub,ju(t.uid===s,i,"user-mismatch"),e.abrupt("return",Yc._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Lu(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),cl.apply(this,arguments)}function ll(e,t){return fl.apply(this,arguments)}function fl(){return fl=Na(Pa().mark((function e(t,n){var r,i,a,o,u=arguments;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,el(t,i,n);case 4:return a=e.sent,e.next=7,Yc._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),fl.apply(this,arguments)}function hl(e,t){return dl.apply(this,arguments)}function dl(){return dl=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ll(Xs(t),n));case 1:case"end":return e.stop()}}),e)}))),dl.apply(this,arguments)}function pl(e,t){return vl.apply(this,arguments)}function vl(){return(vl=Na(Pa().mark((function e(t,n){var r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=co(t),e.next=3,ol(!1,r,n.providerId);case 3:return e.abrupt("return",il(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ml(e,t){return yl.apply(this,arguments)}function yl(){return(yl=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sl(co(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gl(e,t){return bl.apply(this,arguments)}function bl(){return bl=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t,"POST","/v1/accounts:signInWithCustomToken",Zu(t,n)));case 1:case"end":return e.stop()}}),e)}))),bl.apply(this,arguments)}function kl(){return kl=Na(Pa().mark((function e(t,n){var r,i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xs(t),e.next=3,gl(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Yc._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),kl.apply(this,arguments)}var wl=function(){function e(t,n){Ra(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return he(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?xl._fromServerResponse(e,t):Lu(e,"internal-error")}}]),e}(),xl=function(e){Ea(n,e);var t=_a(n);function n(e){var r;return Ra(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return he(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(wl);function El(e,t,n){var r;ju((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ju("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ju(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ju(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Sl(){return Sl=Na(Pa().mark((function e(t,n,r){var i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=co(t),a={requestType:"PASSWORD_RESET",email:n},r&&El(i,a,r),e.next=5,mc(i,a);case 5:case"end":return e.stop()}}),e)}))),Sl.apply(this,arguments)}function Il(){return Il=Na(Pa().mark((function e(t,n,r){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ic(co(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Il.apply(this,arguments)}function _l(){return _l=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sc(co(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),_l.apply(this,arguments)}function Tl(e,t){return Cl.apply(this,arguments)}function Cl(){return Cl=Na(Pa().mark((function e(t,n){var r,i,a,o;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=co(t),e.next=3,ic(r,{oobCode:n});case 3:i=e.sent,ju(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ju(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ju(i.mfaInfo,r,"internal-error");case 13:ju(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=wl._fromServerResponse(Xs(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Cl.apply(this,arguments)}function Nl(){return Nl=Na(Pa().mark((function e(t,n){var r,i;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tl(co(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Nl.apply(this,arguments)}function Rl(e,t,n){return Al.apply(this,arguments)}function Al(){return Al=Na(Pa().mark((function e(t,n,r){var i,a,o;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xs(t),e.next=3,$c(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Yc._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Al.apply(this,arguments)}function Pl(){return Pl=Na(Pa().mark((function e(t,n,r){var i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=co(t),a={requestType:"EMAIL_SIGNIN",email:n},ju(r.handleCodeInApp,i,"argument-error"),r&&El(i,a,r),e.next=6,gc(i,a);case 6:case"end":return e.stop()}}),e)}))),Pl.apply(this,arguments)}function Dl(){return Dl=Na(Pa().mark((function e(t,n,r){var i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=co(t),ju((a=Vc.credentialWithLink(n,r||Ku()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",hl(i,a));case 4:case"end":return e.stop()}}),e)}))),Dl.apply(this,arguments)}function Ol(e,t){return Ll.apply(this,arguments)}function Ll(){return Ll=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",es(t,"POST","/v1/accounts:createAuthUri",Zu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ll.apply(this,arguments)}function Ml(){return Ml=Na(Pa().mark((function e(t,n){var r,i,a,o;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gu()?Ku():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Ol(co(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Ml.apply(this,arguments)}function Fl(){return(Fl=Na(Pa().mark((function e(t,n){var r,i,a,o;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=co(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&El(r.auth,a,n),e.next=8,pc(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vl(){return(Vl=Na(Pa().mark((function e(t,n,r){var i,a,o,u;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=co(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&El(i.auth,o,r),e.next=8,kc(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ul(e,t){return jl.apply(this,arguments)}function jl(){return jl=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",es(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),jl.apply(this,arguments)}function zl(){return(zl=Na(Pa().mark((function e(t,n){var r,i,a,o,u,s,c;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=co(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,bs(a,Ul(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bl(e,t,n){return ql.apply(this,arguments)}function ql(){return ql=Na(Pa().mark((function e(t,n,r){var i,a,o,u;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,bs(t,oc(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),ql.apply(this,arguments)}var Wl=he((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ra(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Kl=function(e){Ea(n,e);var t=_a(n);function n(e,r,i,a){var o;return Ra(this,n),(o=t.call(this,e,r,i)).username=a,o}return he(n)}(Wl),Gl=function(e){Ea(n,e);var t=_a(n);function n(e,r){return Ra(this,n),t.call(this,e,"facebook.com",r)}return he(n)}(Wl),Hl=function(e){Ea(n,e);var t=_a(n);function n(e,r){return Ra(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return he(n)}(Kl),$l=function(e){Ea(n,e);var t=_a(n);function n(e,r){return Ra(this,n),t.call(this,e,"google.com",r)}return he(n)}(Wl),Ql=function(e){Ea(n,e);var t=_a(n);function n(e,r,i){return Ra(this,n),t.call(this,e,"twitter.com",r,i)}return he(n)}(Kl);function Yl(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=gs(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Wl(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Gl(a,i);case"github.com":return new Hl(a,i);case"google.com":return new $l(a,i);case"twitter.com":return new Ql(a,i,e.screenName||null);case"custom":case"anonymous":return new Wl(a,null);default:return new Wl(a,r,i)}}(n)}var Jl=function(){function e(t,n){Ra(this,e),this.type=t,this.credential=n}return he(e,[{key:"toJSON",value:function(){return{multiFactorSession:Pr({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Xl=function(){function e(t,n,r){Ra(this,e),this.session=t,this.hints=n,this.signInResolver=r}return he(e,[{key:"resolveSignIn",value:function(){var e=Na(Pa().mark((function e(t){var n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Xs(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return wl._fromServerResponse(r,e)}));ju(i.mfaPendingCredential,r,"internal-error");var o=Jl._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Na(Pa().mark((function e(t){var a,u,s;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Yc._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return ju(n.user,r,"internal-error"),e.abrupt("return",Yc._forOperation(n.user,n.operationType,u));case 17:Lu(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Zl(e,t){return es(e,"POST","/v2/accounts/mfaEnrollment:start",Zu(e,t))}function ef(e,t){return es(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Zu(e,t))}var tf=function(){function e(t){var n=this;Ra(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return wl._fromServerResponse(t.auth,e)})))}))}return he(e,[{key:"getSession",value:function(){var e=Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Jl,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Na(Pa().mark((function e(t,n){var r,i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,bs(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Na(Pa().mark((function e(t){var n,r,i;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,bs(this.user,ef(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),nf=new WeakMap;var rf="__sak",af=function(){function e(t,n){Ra(this,e),this.storageRetriever=t,this.type=n}return he(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(rf,"1"),this.storage.removeItem(rf),Promise.resolve(!0)):Promise.resolve(!1)}catch(PN){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var of=function(e){Ea(n,e);var t=_a(n);function n(){var e;return Ra(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=qa();return js(e)||Gs(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Qs(),e._shouldAllowMigration=!0,e}return he(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);$s()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Na(Pa().mark((function e(t,r){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(ka(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Na(Pa().mark((function e(t){var r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(ka(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(ka(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(af);of.type="LOCAL";var uf=of,sf=function(e){Ea(n,e);var t=_a(n);function n(){return Ra(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return he(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(af);sf.type="SESSION";var cf=sf;function lf(e){return Promise.all(e.map(function(){var e=Na(Pa().mark((function e(t){var n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ff=function(){function e(t){Ra(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return he(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Na(Pa().mark((function e(t){var n,r,i,a,o,u,s,c;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,lf(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function hf(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ff.receivers=[];var df=function(){function e(t){Ra(this,e),this.target=t,this.handlers=new Set}return he(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Na(Pa().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=hf("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function pf(){return window}function vf(){return"undefined"!==typeof pf().WorkerGlobalScope&&"function"===typeof pf().importScripts}function mf(){return yf.apply(this,arguments)}function yf(){return(yf=Na(Pa().mark((function e(){var t;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function gf(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var bf="firebaseLocalStorageDb",kf="firebaseLocalStorage",wf="fbase_key",xf=function(){function e(t){Ra(this,e),this.request=t}return he(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ef(e,t){return e.transaction([kf],t?"readwrite":"readonly").objectStore(kf)}function Sf(){var e=indexedDB.deleteDatabase(bf);return new xf(e).toPromise()}function If(){var e=indexedDB.open(bf,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(kf,{keyPath:wf})}catch(r){n(r)}})),e.addEventListener("success",Na(Pa().mark((function n(){var r;return Pa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(kf)){n.next=12;break}return r.close(),n.next=5,Sf();case 5:return n.t0=t,n.next=8,If();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function _f(e,t,n){return Tf.apply(this,arguments)}function Tf(){return Tf=Na(Pa().mark((function e(t,n,r){var i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ef(t,!0).put((Pr(i={},wf,n),Pr(i,"value",r),i)),e.abrupt("return",new xf(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Tf.apply(this,arguments)}function Cf(e,t){return Nf.apply(this,arguments)}function Nf(){return Nf=Na(Pa().mark((function e(t,n){var r,i;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ef(t,!1).get(n),e.next=3,new xf(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Nf.apply(this,arguments)}function Rf(e,t){var n=Ef(e,!0).delete(t);return new xf(n).toPromise()}var Af=function(){function e(){Ra(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return he(e,[{key:"_openDb",value:function(){var e=Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,If();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Na(Pa().mark((function e(t){var n,r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vf()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Na(Pa().mark((function e(){var t=this;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ff._getInstance(vf()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Na(Pa().mark((function e(n,r){var i;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Na(Pa().mark((function e(){var t,n,r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mf();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new df(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&gf()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Na(Pa().mark((function e(){var t;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,If();case 5:return t=e.sent,e.next=8,_f(t,rf,"1");case 8:return e.next=10,Rf(t,rf);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Na(Pa().mark((function e(t,n){var r=this;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return _f(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Na(Pa().mark((function e(t){var n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Cf(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Na(Pa().mark((function e(t){var n=this;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Rf(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Na(Pa().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ef(e,!1).getAll();return new xf(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Ta(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Na(Pa().mark((function t(){return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Af.type="LOCAL";var Pf=Af;function Df(e,t){return es(e,"POST","/v2/accounts/mfaSignIn:start",Zu(e,t))}function Of(e){return Lf.apply(this,arguments)}function Lf(){return Lf=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,es(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Lf.apply(this,arguments)}function Mf(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Mu("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ff(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Vf=1e12,Uf=function(){function e(t){Ra(this,e),this.auth=t,this.counter=Vf,this._widgets=new Map}return he(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new jf(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Vf;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Vf;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Na(Pa().mark((function e(t){var n,r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Vf,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),jf=function(){function e(t,n,r){var i=this;Ra(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ju(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return he(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var zf=Ff("rcb"),Bf=new $u(3e4,6e4),qf="https://www.google.com/recaptcha/api.js?",Wf=function(){function e(){Ra(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!pf().grecaptcha}return he(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ju(Kf(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(pf().grecaptcha):new Promise((function(r,i){var a=pf().setTimeout((function(){i(Mu(e,"network-request-failed"))}),Bf.get());pf()[zf]=function(){pf().clearTimeout(a),delete pf()[zf];var o=pf().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Mu(e,"internal-error"))},Mf("".concat(qf,"?").concat(ro({onload:zf,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Mu(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!pf().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Kf(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Gf=function(){function e(){Ra(this,e)}return he(e,[{key:"load",value:function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Uf(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Hf="recaptcha",$f={theme:"light",type:"image"},Qf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},$f),r=arguments.length>2?arguments[2]:void 0;Ra(this,e),this.parameters=n,this.type=Hf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Xs(r),this.isInvisible="invisible"===this.parameters.size,ju("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;ju(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Gf:new Wf,this.validateStartingState()}return he(e,[{key:"verify",value:function(){var e=Na(Pa().mark((function e(){var t,n,r,i=this;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ju(!this.parameters.sitekey,this.auth,"argument-error"),ju(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ju("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=pf()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ju(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Na(Pa().mark((function e(){var t,n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Na(Pa().mark((function e(){var t;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ju(Gu()&&!vf(),this.auth,"internal-error"),e.next=3,Yf();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Of(this.auth);case 8:ju(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ju(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Yf(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Jf=function(){function e(t,n){Ra(this,e),this.verificationId=t,this.onConfirmation=n}return he(e,[{key:"confirm",value:function(e){var t=Mc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Xf(){return Xf=Na(Pa().mark((function e(t,n,r){var i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xs(t),e.next=3,nh(i,n,co(r));case 3:return a=e.sent,e.abrupt("return",new Jf(a,(function(e){return hl(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}function Zf(e,t,n){return eh.apply(this,arguments)}function eh(){return(eh=Na(Pa().mark((function e(t,n,r){var i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=co(t),e.next=3,ol(!1,i,"phone");case 3:return e.next=5,nh(i.auth,n,co(r));case 5:return a=e.sent,e.abrupt("return",new Jf(a,(function(e){return pl(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function th(){return(th=Na(Pa().mark((function e(t,n,r){var i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=co(t),e.next=3,nh(i.auth,n,co(r));case 3:return a=e.sent,e.abrupt("return",new Jf(a,(function(e){return ml(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nh(e,t,n){return rh.apply(this,arguments)}function rh(){return rh=Na(Pa().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ju("string"===typeof a,t,"argument-error"),ju(r.type===Hf,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return ju("enroll"===u.type,t,"internal-error"),e.next=13,Zl(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return ju("signin"===u.type,t,"internal-error"),ju(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Df(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Rc(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),rh.apply(this,arguments)}function ih(){return(ih=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,il(co(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ah=function(){function e(t){Ra(this,e),this.providerId=e.PROVIDER_ID,this.auth=Xs(t)}return he(e,[{key:"verifyPhoneNumber",value:function(e,t){return nh(this.auth,e,co(t))}}],[{key:"credential",value:function(e,t){return Mc._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Mc._fromTokenResponse(n,r):null}}]),e}();function oh(e,t){return t?Wu(t):(ju(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ah.PROVIDER_ID="phone",ah.PHONE_SIGN_IN_METHOD="phone";var uh=function(e){Ea(n,e);var t=_a(n);function n(e){var r;return Ra(this,n),(r=t.call(this,"custom","custom")).params=e,r}return he(n,[{key:"_getIdTokenResponse",value:function(e){return Tc(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Tc(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Tc(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(rc);function sh(e){return ll(e.auth,new uh(e),e.bypassAuthState)}function ch(e){var t=e.auth,n=e.user;return ju(n,t,"internal-error"),sl(n,new uh(e),e.bypassAuthState)}function lh(e){return fh.apply(this,arguments)}function fh(){return fh=Na(Pa().mark((function e(t){var n,r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ju(r=t.user,n,"internal-error"),e.abrupt("return",il(r,new uh(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),fh.apply(this,arguments)}var hh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ra(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return he(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Na(Pa().mark((function t(n,r){return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Na(Pa().mark((function e(t){var n,r,i,a,o,u,s;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sh;case"linkViaPopup":case"linkViaRedirect":return lh;case"reauthViaPopup":case"reauthViaRedirect":return ch;default:Lu(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Bu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Bu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),dh=new $u(2e3,1e4);function ph(e,t,n){return vh.apply(this,arguments)}function vh(){return vh=Na(Pa().mark((function e(t,n,r){var i,a,o;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xs(t),Vu(t,n,Uc),a=oh(i,r),o=new bh(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),vh.apply(this,arguments)}function mh(){return(mh=Na(Pa().mark((function e(t,n,r){var i,a,o;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vu((i=co(t)).auth,n,Uc),a=oh(i.auth,r),o=new bh(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yh(e,t,n){return gh.apply(this,arguments)}function gh(){return(gh=Na(Pa().mark((function e(t,n,r){var i,a,o;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vu((i=co(t)).auth,n,Uc),a=oh(i.auth,r),o=new bh(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bh=function(e){Ea(n,e);var t=_a(n);function n(e,r,i,a,o){var u;return Ra(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=ve(u),u}return he(n,[{key:"executeNotNull",value:function(){var e=Na(Pa().mark((function e(){var t;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ju(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Na(Pa().mark((function e(){var t,n=this;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bu(1===this.filter.length,"Popup operations only handle one event"),t=hf(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Mu(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Mu(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Mu(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,dh.get())}()}}]),n}(hh);bh.currentPopupAction=null;var kh=new Map,wh=function(e){Ea(n,e);var t=_a(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ra(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return he(n,[{key:"execute",value:function(){var e=Na(Pa().mark((function e(){var t,r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=kh.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,xh(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,xa(ka(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:kh.set(this.auth._key(),t);case 21:return this.bypassAuthState||kh.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Na(Pa().mark((function e(t){var r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",xa(ka(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",xa(ka(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(hh);function xh(e,t){return Eh.apply(this,arguments)}function Eh(){return Eh=Na(Pa().mark((function e(t,n){var r,i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Th(n),i=_h(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Eh.apply(this,arguments)}function Sh(e,t){return Ih.apply(this,arguments)}function Ih(){return Ih=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_h(t)._set(Th(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Ih.apply(this,arguments)}function _h(e){return Wu(e._redirectPersistence)}function Th(e){return Ms("pendingRedirect",e.config.apiKey,e.name)}function Ch(e,t,n){return function(e,t,n){return Nh.apply(this,arguments)}(e,t,n)}function Nh(){return Nh=Na(Pa().mark((function e(t,n,r){var i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xs(t),Vu(t,n,Uc),a=oh(i,r),e.next=5,Sh(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Nh.apply(this,arguments)}function Rh(e,t,n){return function(e,t,n){return Ah.apply(this,arguments)}(e,t,n)}function Ah(){return(Ah=Na(Pa().mark((function e(t,n,r){var i,a,o;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vu((i=co(t)).auth,n,Uc),a=oh(i.auth,r),e.next=5,Sh(a,i.auth);case 5:return e.next=7,Vh(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ph(e,t,n){return function(e,t,n){return Dh.apply(this,arguments)}(e,t,n)}function Dh(){return(Dh=Na(Pa().mark((function e(t,n,r){var i,a,o;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vu((i=co(t)).auth,n,Uc),a=oh(i.auth,r),e.next=5,ol(!1,i,n.providerId);case 5:return e.next=7,Sh(a,i.auth);case 7:return e.next=9,Vh(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oh(e,t){return Lh.apply(this,arguments)}function Lh(){return Lh=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xs(t)._initializationPromise;case 2:return e.abrupt("return",Mh(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Lh.apply(this,arguments)}function Mh(e,t){return Fh.apply(this,arguments)}function Fh(){return Fh=Na(Pa().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Xs(t),a=oh(i,n),o=new wh(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Fh.apply(this,arguments)}function Vh(e){return Uh.apply(this,arguments)}function Uh(){return(Uh=Na(Pa().mark((function e(t){var n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hf("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jh=function(){function e(t){Ra(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return he(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Bh(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Mu(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zh(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(zh(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function zh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Bh(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function qh(e){return Wh.apply(this,arguments)}function Wh(){return Wh=Na(Pa().mark((function e(t){var n,r=arguments;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",es(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Wh.apply(this,arguments)}var Kh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gh=/^https?/;function Hh(){return Hh=Na(Pa().mark((function e(t){var n,r,i,a,o;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,qh(t);case 4:n=e.sent,r=n.authorizedDomains,i=Ta(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!$h(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Lu(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Hh.apply(this,arguments)}function $h(e){var t=Ku(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Gh.test(r))return!1;if(Kh.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Qh=new $u(3e4,6e4);function Yh(){var e=pf().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=fn(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Jh=null;function Xh(e){return Jh=Jh||function(e){return new Promise((function(t,n){var r,i,a;function o(){Yh(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Yh(),n(Mu(e,"network-request-failed"))},timeout:Qh.get()})}if(null===(i=null===(r=pf().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=pf().gapi)||void 0===a?void 0:a.load)){var u=Ff("iframefcb");return pf()[u]=function(){gapi.load?o():n(Mu(e,"network-request-failed"))},Mf("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Jh=null,e}))}(e),Jh}var Zh=new $u(5e3,15e3),ed={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},td=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nd(e){var t=e.config;ju(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Qu(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ho},i=td.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ro(r).slice(1))}function rd(e){return id.apply(this,arguments)}function id(){return id=Na(Pa().mark((function e(t){var n,r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xh(t);case 2:return n=e.sent,ju(r=pf().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:nd(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ed,dontclear:!0},(function(e){return new Promise(function(){var n=Na(Pa().mark((function n(r,i){var a,o,u;return Pa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){pf().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Mu(t,"network-request-failed"),o=pf().setTimeout((function(){i(a)}),Zh.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),id.apply(this,arguments)}var ad={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},od="_blank",ud="http://localhost",sd=function(){function e(t){Ra(this,e),this.window=t,this.associatedEvent=null}return he(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function cd(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},ad),{width:r.toString(),height:i.toString(),top:a,left:o}),c=qa().toLowerCase();n&&(u=zs(c)?od:n),Us(c)&&(t=t||ud,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Hs(c)&&"_self"!==u)return ld(t||"",u),new sd(null);var h=window.open(t||"",u,f);ju(h,e,"popup-blocked");try{h.focus()}catch(d){}return new sd(h)}function ld(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var fd="__/auth/handler",hd="emulator/auth/handler";function dd(e,t,n,r,i,a){ju(e.config.authDomain,e,"auth-domain-config-required"),ju(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ho,eventId:i};if(t instanceof Uc){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=l(s[u],2),f=c[0],h=c[1];o[f]=h}}if(t instanceof jc){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(fd);return Qu(t,hd)}(e),"?").concat(ro(p).slice(1))}var pd="webStorageSupport",vd=function(){function e(){Ra(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cf,this._completeRedirectFn=Mh}return he(e,[{key:"_openPopup",value:function(){var e=Na(Pa().mark((function e(t,n,r,i){var a,o;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bu(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=dd(t,n,r,Ku(),i),e.abrupt("return",cd(t,o,hf()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Na(Pa().mark((function e(t,n,r,i){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=dd(t,n,r,Ku(),i),pf().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Bu(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Na(Pa().mark((function e(t){var n,r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rd(t);case 2:return n=e.sent,r=new jh(t),n.register("authEvent",(function(e){return ju(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(pd,{type:pd},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Lu(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Hh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Qs()||js()||Gs()}}]),e}(),md=vd,yd=function(){function e(t){Ra(this,e),this.factorId=t}return he(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return zu("unexpected MultiFactorSessionType")}}}]),e}(),gd=function(e){Ea(n,e);var t=_a(n);function n(e){var r;return Ra(this,n),(r=t.call(this,"phone")).credential=e,r}return he(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return es(e,"POST","/v2/accounts/mfaEnrollment:finalize",Zu(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return es(e,"POST","/v2/accounts/mfaSignIn:finalize",Zu(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(yd),bd=function(){function e(){Ra(this,e)}return he(e,null,[{key:"assertion",value:function(e){return gd._fromCredential(e)}}]),e}();bd.FACTOR_ID="phone";var kd,wd="@firebase/auth",xd="0.19.11",Ed=function(){function e(t){Ra(this,e),this.auth=t,this.internalListeners=new Map}return he(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Na(Pa().mark((function e(t){var n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ju(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Sd(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function Id(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}kd="Browser",jo(new mo("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){ju(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),ju(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:kd,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ys(kd)},i=new Js(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wu);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),jo(new mo("auth-internal",(function(e){return function(e){return new Ed(e)}(Xs(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Zo(wd,xd,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(kd)),Zo(wd,xd,"esm2017");var _d=function(){return _d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_d.apply(this,arguments)},Td=function(e){return{loading:void 0===e||null===e,value:e}},Cd=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return _d(_d({},e),{error:t.error,loading:!1,value:void 0});case"reset":return Td(t.defaultValue);case"value":return _d(_d({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),Td(t)),r=n[0],a=n[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:s,value:r.value}}),[r.error,r.loading,o,u,s,r.value])},Nd=function(e,t){var n=Cd((function(){return e.currentUser})),r=n.error,a=n.loading,o=n.setError,u=n.setValue,s=n.value;(0,i.useEffect)((function(){var n=function(e,t,n,r){return co(e).onAuthStateChanged(t,n,r)}(e,(function(e){return Sd(void 0,void 0,void 0,(function(){var n;return Id(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){n()}}),[e]);var c=[s,a,r];return(0,i.useMemo)((function(){return c}),c)},Rd=n(184),Ad=function(){var e=(0,i.useContext)(cO).auth,t=l(Nd(e),1)[0];return(0,Rd.jsx)(Oi,{color:"secondary",position:"static",children:(0,Rd.jsx)(Mi,{variant:"dense",children:(0,Rd.jsx)(Bi,{container:!0,justify:"flex-end",children:t?(0,Rd.jsx)(ya,{onClick:function(){return e.signOut()},variant:"outlined",children:"Exit"}):(0,Rd.jsx)(ne,{to:ga,children:(0,Rd.jsx)(ya,{variant:"outlined",children:"Login"})})})})})},Pd=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.component,o=void 0===a?"div":a,u=e.disableGutters,s=void 0!==u&&u,c=e.fixed,l=void 0!==c&&c,h=e.maxWidth,d=void 0===h?"lg":h,p=ie(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return i.createElement(o,f({className:oe(n.root,r,l&&n.fixed,s&&n.disableGutters,!1!==d&&n["maxWidth".concat(Ri(String(d)))]),ref:t},p))})),Dd=Ni((function(e){return{root:Pr({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,n){var r=e.breakpoints.values[n];return 0!==r&&(t[e.breakpoints.up(n)]={maxWidth:r}),t}),{}),maxWidthXs:Pr({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Pr({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Pr({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Pr({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Pr({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(Pd),Od=function(){return(0,Rd.jsx)(Dd,{children:(0,Rd.jsx)(Bi,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:(0,Rd.jsx)(Bi,{container:!0,alignItems:"center",direction:"column",children:(0,Rd.jsxs)("div",{class:"lds-spinner",children:[(0,Rd.jsx)("div",{}),(0,Rd.jsx)("div",{}),(0,Rd.jsx)("div",{}),(0,Rd.jsx)("div",{}),(0,Rd.jsx)("div",{}),(0,Rd.jsx)("div",{}),(0,Rd.jsx)("div",{}),(0,Rd.jsx)("div",{}),(0,Rd.jsx)("div",{}),(0,Rd.jsx)("div",{}),(0,Rd.jsx)("div",{}),(0,Rd.jsx)("div",{})]})})})})};function Ld(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function Md(e){var t=function(t){var n=e(t);return t.css?f({},fi(n,e(f({theme:t.theme},t.css))),Ld(t.css,[e.filterProps])):t.sx?f({},fi(n,e(f({theme:t.theme},t.sx))),Ld(t.sx,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css","sx"].concat(fn(e.filterProps)),t}var Fd=Md;var Vd=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?fi(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r};function Ud(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var jd=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=Ud(e.theme,i)||{};return li(e,n,(function(e){var t;return"function"===typeof o?t=o(e):Array.isArray(o)?t=o[e]||e:(t=Ud(o,e)||e,a&&(t=a(t))),!1===r?t:Pr({},r,t)}))};return o.propTypes={},o.filterProps=[t],o};function zd(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Bd=Vd(jd({prop:"border",themeKey:"borders",transform:zd}),jd({prop:"borderTop",themeKey:"borders",transform:zd}),jd({prop:"borderRight",themeKey:"borders",transform:zd}),jd({prop:"borderBottom",themeKey:"borders",transform:zd}),jd({prop:"borderLeft",themeKey:"borders",transform:zd}),jd({prop:"borderColor",themeKey:"palette"}),jd({prop:"borderRadius",themeKey:"shape"})),qd=Vd(jd({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),jd({prop:"display"}),jd({prop:"overflow"}),jd({prop:"textOverflow"}),jd({prop:"visibility"}),jd({prop:"whiteSpace"})),Wd=Vd(jd({prop:"flexBasis"}),jd({prop:"flexDirection"}),jd({prop:"flexWrap"}),jd({prop:"justifyContent"}),jd({prop:"alignItems"}),jd({prop:"alignContent"}),jd({prop:"order"}),jd({prop:"flex"}),jd({prop:"flexGrow"}),jd({prop:"flexShrink"}),jd({prop:"alignSelf"}),jd({prop:"justifyItems"}),jd({prop:"justifySelf"})),Kd=Vd(jd({prop:"gridGap"}),jd({prop:"gridColumnGap"}),jd({prop:"gridRowGap"}),jd({prop:"gridColumn"}),jd({prop:"gridRow"}),jd({prop:"gridAutoFlow"}),jd({prop:"gridAutoColumns"}),jd({prop:"gridAutoRows"}),jd({prop:"gridTemplateColumns"}),jd({prop:"gridTemplateRows"}),jd({prop:"gridTemplateAreas"}),jd({prop:"gridArea"})),Gd=Vd(jd({prop:"position"}),jd({prop:"zIndex",themeKey:"zIndex"}),jd({prop:"top"}),jd({prop:"right"}),jd({prop:"bottom"}),jd({prop:"left"})),Hd=Vd(jd({prop:"color",themeKey:"palette"}),jd({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),$d=jd({prop:"boxShadow",themeKey:"shadows"});function Qd(e){return e<=1?"".concat(100*e,"%"):e}var Yd=jd({prop:"width",transform:Qd}),Jd=jd({prop:"maxWidth",transform:Qd}),Xd=jd({prop:"minWidth",transform:Qd}),Zd=jd({prop:"height",transform:Qd}),ep=jd({prop:"maxHeight",transform:Qd}),tp=jd({prop:"minHeight",transform:Qd}),np=(jd({prop:"size",cssProperty:"width",transform:Qd}),jd({prop:"size",cssProperty:"height",transform:Qd}),Vd(Yd,Jd,Xd,Zd,ep,tp,jd({prop:"boxSizing"}))),rp=Vd(jd({prop:"fontFamily",themeKey:"typography"}),jd({prop:"fontSize",themeKey:"typography"}),jd({prop:"fontStyle",themeKey:"typography"}),jd({prop:"fontWeight",themeKey:"typography"}),jd({prop:"letterSpacing"}),jd({prop:"lineHeight"}),jd({prop:"textAlign"}));function ip(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}var ap,op=function(e){var t=function(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,o=ie(r,["name"]),u=a,s=Tr("function"===typeof t?function(e){return{root:function(n){return t(f({theme:e},n))}}}:{root:t},f({Component:e,name:a||e.displayName,classNamePrefix:u},o));t.filterProps&&(n=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var c=i.forwardRef((function(t,r){var a=t.children,o=t.className,u=t.clone,c=t.component,l=ie(t,["children","className","clone","component"]),h=oe(s(t).root,o),d=l;if(n&&(d=ip(d,n)),u)return i.cloneElement(a,f({className:oe(a.props.className,h)},d));if("function"===typeof a)return a(f({className:h},d));var p=c||e;return i.createElement(p,f({ref:r,className:h},d),a)}));return se()(c,e),c}}(e);return function(e,n){return t(e,f({defaultTheme:Ci},n))}},up=Fd(Vd(Bd,qd,Wd,Kd,Gd,Hd,$d,np,ki,rp)),sp=op("div")(up,{name:"MuiBox"}),cp=function(){function e(t,n){var r=this;Ra(this,e),this._delegate=t,this.firebase=n,Vo(t,new mo("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return he(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Jo(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oo;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oo;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Vo(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Uo(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),lp=(Pr(ap={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Pr(ap,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ap),fp=new Ja("app-compat","Firebase",lp);var hp=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=$o(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(eo(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Zo,setLogLevel:tu,onLog:eu,apps:null,SDK_VERSION:Ho,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(jo(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw fp.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ua(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!eo(n,e=e||Oo))throw fp.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(cp);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ua(n,e)},createSubscribe:oo,ErrorFactory:Ja,deepExtend:Ua}),n}(),dp=new No("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){dp.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var pp=self.firebase.SDK_VERSION;pp&&pp.indexOf("LITE")>=0&&dp.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var vp=hp;!function(e){Zo("@firebase/app-compat","0.1.21",e)}();vp.registerVersion("firebase","9.6.10","app-compat");var mp=function(){var e=(0,i.useContext)(cO).auth,t=function(){var t=Na(Pa().mark((function t(){var n,r;return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new vp.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:r=t.sent,r.user;case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,Rd.jsx)("div",{children:(0,Rd.jsx)(Dd,{children:(0,Rd.jsx)(Bi,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:(0,Rd.jsx)(Bi,{container:!0,style:{width:400,background:"lightgray"},alignItems:"center",direction:"column",children:(0,Rd.jsx)(sp,{p:5,children:(0,Rd.jsx)(ya,{onClick:t,variant:"outlined",children:"Log in with Google"})})})})})})};function yp(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var gp=i.createContext();var bp=gp;function kp(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this,u=function(){e.apply(o,i)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}function wp(e,t){return parseInt(e[t],10)||0}var xp="undefined"!==typeof window?i.useLayoutEffect:i.useEffect,Ep={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},Sp=i.forwardRef((function(e,t){var n=e.onChange,r=e.rows,a=e.rowsMax,o=e.rowsMin,u=e.maxRows,s=e.minRows,c=void 0===s?1:s,l=e.style,h=e.value,d=ie(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),p=u||a,v=r||o||c,m=i.useRef(null!=h).current,y=i.useRef(null),g=Wi(t,y),b=i.useRef(null),k=i.useRef(0),w=i.useState({}),x=w[0],E=w[1],S=i.useCallback((function(){var t=y.current,n=window.getComputedStyle(t),r=b.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=wp(n,"padding-bottom")+wp(n,"padding-top"),o=wp(n,"border-bottom-width")+wp(n,"border-top-width"),u=r.scrollHeight-a;r.value="x";var s=r.scrollHeight-a,c=u;v&&(c=Math.max(Number(v)*s,c)),p&&(c=Math.min(Number(p)*s,c));var l=(c=Math.max(c,s))+("border-box"===i?a+o:0),f=Math.abs(c-u)<=1;E((function(e){return k.current<20&&(l>0&&Math.abs((e.outerHeightStyle||0)-l)>1||e.overflow!==f)?(k.current+=1,{overflow:f,outerHeightStyle:l}):e}))}),[p,v,e.placeholder]);i.useEffect((function(){var e=kp((function(){k.current=0,S()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[S]),xp((function(){S()})),i.useEffect((function(){k.current=0}),[h]);return i.createElement(i.Fragment,null,i.createElement("textarea",f({value:h,onChange:function(e){k.current=0,m||S(),n&&n(e)},ref:g,rows:v,style:f({height:x.outerHeightStyle,overflow:x.overflow?"hidden":null},l)},d)),i.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:b,tabIndex:-1,style:f({},Ep,l)}))})),Ip=Sp;function _p(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function Tp(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(_p(e.value)&&""!==e.value||t&&_p(e.defaultValue)&&""!==e.defaultValue)}var Cp="undefined"===typeof window?i.useEffect:i.useLayoutEffect,Np=i.forwardRef((function(e,t){var n=e["aria-describedby"],r=e.autoComplete,a=e.autoFocus,o=e.classes,u=e.className,s=(e.color,e.defaultValue),c=e.disabled,l=e.endAdornment,h=(e.error,e.fullWidth),d=void 0!==h&&h,p=e.id,v=e.inputComponent,m=void 0===v?"input":v,y=e.inputProps,g=void 0===y?{}:y,b=e.inputRef,k=(e.margin,e.multiline),w=void 0!==k&&k,x=e.name,E=e.onBlur,S=e.onChange,I=e.onClick,_=e.onFocus,T=e.onKeyDown,C=e.onKeyUp,N=e.placeholder,R=e.readOnly,A=e.renderSuffix,P=e.rows,D=e.rowsMax,O=e.rowsMin,L=e.maxRows,M=e.minRows,F=e.startAdornment,V=e.type,U=void 0===V?"text":V,j=e.value,z=ie(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),B=null!=g.value?g.value:j,q=i.useRef(null!=B).current,W=i.useRef(),K=i.useCallback((function(e){0}),[]),G=Wi(g.ref,K),H=Wi(b,G),$=Wi(W,H),Q=i.useState(!1),Y=Q[0],J=Q[1],X=i.useContext(gp);var Z=yp({props:e,muiFormControl:X,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});Z.focused=X?X.focused:Y,i.useEffect((function(){!X&&c&&Y&&(J(!1),E&&E())}),[X,c,Y,E]);var ee=X&&X.onFilled,te=X&&X.onEmpty,ne=i.useCallback((function(e){Tp(e)?ee&&ee():te&&te()}),[ee,te]);Cp((function(){q&&ne({value:B})}),[B,ne,q]);i.useEffect((function(){ne(W.current)}),[]);var re=m,ae=f({},g,{ref:$});"string"!==typeof re?ae=f({inputRef:$,type:U},ae,{ref:null}):w?!P||L||M||D||O?(ae=f({minRows:P||M,rowsMax:D,maxRows:L},ae),re=Ip):re="textarea":ae=f({type:U},ae);return i.useEffect((function(){X&&X.setAdornedStart(Boolean(F))}),[X,F]),i.createElement("div",f({className:oe(o.root,o["color".concat(Ri(Z.color||"primary"))],u,Z.disabled&&o.disabled,Z.error&&o.error,d&&o.fullWidth,Z.focused&&o.focused,X&&o.formControl,w&&o.multiline,F&&o.adornedStart,l&&o.adornedEnd,"dense"===Z.margin&&o.marginDense),onClick:function(e){W.current&&e.currentTarget===e.target&&W.current.focus(),I&&I(e)},ref:t},z),F,i.createElement(bp.Provider,{value:null},i.createElement(re,f({"aria-invalid":Z.error,"aria-describedby":n,autoComplete:r,autoFocus:a,defaultValue:s,disabled:Z.disabled,id:p,onAnimationStart:function(e){ne("mui-auto-fill-cancel"===e.animationName?W.current:{value:"x"})},name:x,placeholder:N,readOnly:R,required:Z.required,rows:P,value:B,onKeyDown:T,onKeyUp:C},ae,{className:oe(o.input,g.className,Z.disabled&&o.disabled,w&&o.inputMultiline,Z.hiddenLabel&&o.inputHiddenLabel,F&&o.inputAdornedStart,l&&o.inputAdornedEnd,"search"===U&&o.inputTypeSearch,"dense"===Z.margin&&o.inputMarginDense),onBlur:function(e){E&&E(e),g.onBlur&&g.onBlur(e),X&&X.onBlur?X.onBlur(e):J(!1)},onChange:function(e){if(!q){var t=e.target||W.current;if(null==t)throw new Error(Or(1));ne({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];g.onChange&&g.onChange.apply(g,[e].concat(r)),S&&S.apply(void 0,[e].concat(r))},onFocus:function(e){Z.disabled?e.stopPropagation():(_&&_(e),g.onFocus&&g.onFocus(e),X&&X.onFocus?X.onFocus(e):J(!0))}}))),l,A?A(f({},Z,{startAdornment:F})):null)})),Rp=Ni((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:f({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(Np),Ap=i.forwardRef((function(e,t){var n=e.disableUnderline,r=e.classes,a=e.fullWidth,o=void 0!==a&&a,u=e.inputComponent,s=void 0===u?"input":u,c=e.multiline,l=void 0!==c&&c,h=e.type,d=void 0===h?"text":h,p=ie(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return i.createElement(Rp,f({classes:f({},r,{root:oe(r.root,!n&&r.underline),underline:null}),fullWidth:o,inputComponent:s,multiline:l,ref:t,type:d},p))}));Ap.muiName="Input";var Pp=Ni((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(Ap),Dp=i.forwardRef((function(e,t){var n=e.disableUnderline,r=e.classes,a=e.fullWidth,o=void 0!==a&&a,u=e.inputComponent,s=void 0===u?"input":u,c=e.multiline,l=void 0!==c&&c,h=e.type,d=void 0===h?"text":h,p=ie(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return i.createElement(Rp,f({classes:f({},r,{root:oe(r.root,!n&&r.underline),underline:null}),fullWidth:o,inputComponent:s,multiline:l,ref:t,type:d},p))}));Dp.muiName="Input";var Op=Ni((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(Dp);function Lp(){return At()||Ci}var Mp=i.forwardRef((function(e,t){e.children;var n=e.classes,r=e.className,a=e.label,o=e.labelWidth,u=e.notched,s=e.style,c=ie(e,["children","classes","className","label","labelWidth","notched","style"]),l="rtl"===Lp().direction?"right":"left";if(void 0!==a)return i.createElement("fieldset",f({"aria-hidden":!0,className:oe(n.root,r),ref:t,style:s},c),i.createElement("legend",{className:oe(n.legendLabelled,u&&n.legendNotched)},a?i.createElement("span",null,a):i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var h=o>0?.75*o+8:.01;return i.createElement("fieldset",f({"aria-hidden":!0,style:f(Pr({},"padding".concat(Ri(l)),8),s),className:oe(n.root,r),ref:t},c),i.createElement("legend",{className:n.legend,style:{width:u?h:.01}},i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),Fp=Ni((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(Mp),Vp=i.forwardRef((function(e,t){var n=e.classes,r=e.fullWidth,a=void 0!==r&&r,o=e.inputComponent,u=void 0===o?"input":o,s=e.label,c=e.labelWidth,l=void 0===c?0:c,h=e.multiline,d=void 0!==h&&h,p=e.notched,v=e.type,m=void 0===v?"text":v,y=ie(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return i.createElement(Rp,f({renderSuffix:function(e){return i.createElement(Fp,{className:n.notchedOutline,label:s,labelWidth:l,notched:"undefined"!==typeof p?p:Boolean(e.startAdornment||e.filled||e.focused)})},classes:f({},n,{root:oe(n.root,n.underline),notchedOutline:null}),fullWidth:a,inputComponent:u,multiline:d,ref:t,type:m},y))}));Vp.muiName="Input";var Up=Ni((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(Vp);function jp(){return i.useContext(bp)}var zp=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,o=(e.color,e.component),u=void 0===o?"label":o,s=(e.disabled,e.error,e.filled,e.focused,e.required,ie(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),c=yp({props:e,muiFormControl:jp(),states:["color","required","focused","disabled","error","filled"]});return i.createElement(u,f({className:oe(r.root,r["color".concat(Ri(c.color||"primary"))],a,c.disabled&&r.disabled,c.error&&r.error,c.filled&&r.filled,c.focused&&r.focused,c.required&&r.required),ref:t},s),n,c.required&&i.createElement("span",{"aria-hidden":!0,className:oe(r.asterisk,c.error&&r.error)},"\u2009","*"))})),Bp=Ni((function(e){return{root:f({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(zp),qp=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.disableAnimation,o=void 0!==a&&a,u=(e.margin,e.shrink),s=(e.variant,ie(e,["classes","className","disableAnimation","margin","shrink","variant"])),c=jp(),l=u;"undefined"===typeof l&&c&&(l=c.filled||c.focused||c.adornedStart);var h=yp({props:e,muiFormControl:c,states:["margin","variant"]});return i.createElement(Bp,f({"data-shrink":l,className:oe(n.root,r,c&&n.formControl,!o&&n.animated,l&&n.shrink,"dense"===h.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[h.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:t},s))})),Wp=Ni((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(qp);function Kp(e,t){return i.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}var Gp=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,o=e.color,u=void 0===o?"primary":o,s=e.component,c=void 0===s?"div":s,l=e.disabled,h=void 0!==l&&l,d=e.error,p=void 0!==d&&d,v=e.fullWidth,m=void 0!==v&&v,y=e.focused,g=e.hiddenLabel,b=void 0!==g&&g,k=e.margin,w=void 0===k?"none":k,x=e.required,E=void 0!==x&&x,S=e.size,I=e.variant,_=void 0===I?"standard":I,T=ie(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),C=i.useState((function(){var e=!1;return n&&i.Children.forEach(n,(function(t){if(Kp(t,["Input","Select"])){var n=Kp(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),N=C[0],R=C[1],A=i.useState((function(){var e=!1;return n&&i.Children.forEach(n,(function(t){Kp(t,["Input","Select"])&&Tp(t.props,!0)&&(e=!0)})),e})),P=A[0],D=A[1],O=i.useState(!1),L=O[0],M=O[1],F=void 0!==y?y:L;h&&F&&M(!1);var V=i.useCallback((function(){D(!0)}),[]),U={adornedStart:N,setAdornedStart:R,color:u,disabled:h,error:p,filled:P,focused:F,fullWidth:m,hiddenLabel:b,margin:("small"===S?"dense":void 0)||w,onBlur:function(){M(!1)},onEmpty:i.useCallback((function(){D(!1)}),[]),onFilled:V,onFocus:function(){M(!0)},registerEffect:undefined,required:E,variant:_};return i.createElement(bp.Provider,{value:U},i.createElement(c,f({className:oe(r.root,a,"none"!==w&&r["margin".concat(Ri(w))],m&&r.fullWidth),ref:t},T),n))})),Hp=Ni({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(Gp),$p=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,o=e.component,u=void 0===o?"p":o,s=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,ie(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),c=yp({props:e,muiFormControl:jp(),states:["variant","margin","disabled","error","filled","focused","required"]});return i.createElement(u,f({className:oe(r.root,("filled"===c.variant||"outlined"===c.variant)&&r.contained,a,c.disabled&&r.disabled,c.error&&r.error,c.filled&&r.filled,c.focused&&r.focused,c.required&&r.required,"dense"===c.margin&&r.marginDense),ref:t},s)," "===n?i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)})),Qp=Ni((function(e){return{root:f({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})($p);n(441);function Yp(e){return e&&e.ownerDocument||document}function Jp(e){return Yp(e).defaultView||window}function Xp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var Zp="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;var ev=i.forwardRef((function(e,t){var n=e.children,r=e.container,o=e.disablePortal,u=void 0!==o&&o,s=e.onRendered,c=i.useState(null),l=c[0],f=c[1],h=Wi(i.isValidElement(n)?n.ref:null,t);return Zp((function(){u||f(function(e){return e="function"===typeof e?e():e,a.findDOMNode(e)}(r)||document.body)}),[r,u]),Zp((function(){if(l&&!u)return qi(t,l),function(){qi(t,null)}}),[t,l,u]),Zp((function(){s&&(l||u)&&s()}),[s,l,u]),u?i.isValidElement(n)?i.cloneElement(n,{ref:h}):n:l?a.createPortal(n,l):l}));function tv(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function nv(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function rv(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function iv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(fn(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&nv(e,i)}))}function av(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function ov(e,t){var n,r=[],i=[],a=e.container;if(!t.disableScrollLock){if(function(e){var t=Yp(e);return t.body===e?Jp(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(a)){var o=tv();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(rv(a)+o,"px"),n=Yp(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(rv(e)+o,"px")}))}var u=a.parentElement,s="HTML"===u.nodeName&&"scroll"===window.getComputedStyle(u)["overflow-y"]?u:a;r.push({value:s.style.overflow,key:"overflow",el:s}),s.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var uv=function(){function e(){Ra(this,e),this.modals=[],this.containers=[]}return he(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&nv(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);iv(t,e.mountNode,e.modalRef,r,!0);var i=av(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=av(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=ov(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=av(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&nv(e.modalRef,!0),iv(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&nv(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var sv=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,o=e.disableEnforceFocus,u=void 0!==o&&o,s=e.disableRestoreFocus,c=void 0!==s&&s,l=e.getDoc,f=e.isEnabled,h=e.open,d=i.useRef(),p=i.useRef(null),v=i.useRef(null),m=i.useRef(),y=i.useRef(null),g=i.useCallback((function(e){y.current=a.findDOMNode(e)}),[]),b=Wi(t.ref,g),k=i.useRef();return i.useEffect((function(){k.current=h}),[h]),!k.current&&h&&"undefined"!==typeof window&&(m.current=l().activeElement),i.useEffect((function(){if(h){var e=Yp(y.current);r||!y.current||y.current.contains(e.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex",-1),y.current.focus());var t=function(){null!==y.current&&(e.hasFocus()&&!u&&f()&&!d.current?y.current&&!y.current.contains(e.activeElement)&&y.current.focus():d.current=!1)},n=function(t){!u&&f()&&9===t.keyCode&&e.activeElement===y.current&&(d.current=!0,t.shiftKey?v.current.focus():p.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var i=setInterval((function(){t()}),50);return function(){clearInterval(i),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),c||(m.current&&m.current.focus&&m.current.focus(),m.current=null)}}}),[r,u,c,f,h]),i.createElement(i.Fragment,null,i.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelStart"}),i.cloneElement(t,{ref:b}),i.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelEnd"}))},cv={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},lv=i.forwardRef((function(e,t){var n=e.invisible,r=void 0!==n&&n,a=e.open,o=ie(e,["invisible","open"]);return a?i.createElement("div",f({"aria-hidden":!0,ref:t},o,{style:f({},cv.root,r?cv.invisible:{},o.style)})):null}));var fv=new uv,hv=i.forwardRef((function(e,t){var n=At(),r=Cr({name:"MuiModal",props:f({},e),theme:n}),o=r.BackdropComponent,u=void 0===o?lv:o,s=r.BackdropProps,c=r.children,l=r.closeAfterTransition,h=void 0!==l&&l,d=r.container,p=r.disableAutoFocus,v=void 0!==p&&p,m=r.disableBackdropClick,y=void 0!==m&&m,g=r.disableEnforceFocus,b=void 0!==g&&g,k=r.disableEscapeKeyDown,w=void 0!==k&&k,x=r.disablePortal,E=void 0!==x&&x,S=r.disableRestoreFocus,I=void 0!==S&&S,_=r.disableScrollLock,T=void 0!==_&&_,C=r.hideBackdrop,N=void 0!==C&&C,R=r.keepMounted,A=void 0!==R&&R,P=r.manager,D=void 0===P?fv:P,O=r.onBackdropClick,L=r.onClose,M=r.onEscapeKeyDown,F=r.onRendered,V=r.open,U=ie(r,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),j=i.useState(!0),z=j[0],B=j[1],q=i.useRef({}),W=i.useRef(null),K=i.useRef(null),G=Wi(K,t),H=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(r),$=function(){return Yp(W.current)},Q=function(){return q.current.modalRef=K.current,q.current.mountNode=W.current,q.current},Y=function(){D.mount(Q(),{disableScrollLock:T}),K.current.scrollTop=0},J=Gi((function(){var e=function(e){return e="function"===typeof e?e():e,a.findDOMNode(e)}(d)||$().body;D.add(Q(),e),K.current&&Y()})),X=i.useCallback((function(){return D.isTopModal(Q())}),[D]),Z=Gi((function(e){W.current=e,e&&(F&&F(),V&&X()?Y():nv(K.current,!0))})),ee=i.useCallback((function(){D.remove(Q())}),[D]);if(i.useEffect((function(){return function(){ee()}}),[ee]),i.useEffect((function(){V?J():H&&h||ee()}),[V,ee,H,h,J]),!A&&!V&&(!H||z))return null;var te=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:_i}),ne={};return void 0===c.props.tabIndex&&(ne.tabIndex=c.props.tabIndex||"-1"),H&&(ne.onEnter=Xp((function(){B(!1)}),c.props.onEnter),ne.onExited=Xp((function(){B(!0),h&&ee()}),c.props.onExited)),i.createElement(ev,{ref:Z,container:d,disablePortal:E},i.createElement("div",f({ref:G,onKeyDown:function(e){"Escape"===e.key&&X()&&(M&&M(e),w||(e.stopPropagation(),L&&L(e,"escapeKeyDown")))},role:"presentation"},U,{style:f({},te.root,!V&&z?te.hidden:{},U.style)}),N?null:i.createElement(u,f({open:V,onClick:function(e){e.target===e.currentTarget&&(O&&O(e),!y&&L&&L(e,"backdropClick"))}},s)),i.createElement(sv,{disableEnforceFocus:b,disableAutoFocus:v,disableRestoreFocus:I,getDoc:$,isEnabled:X,open:V},i.cloneElement(c,ne))))})),dv=!1,pv="unmounted",vv="exited",mv="entering",yv="entered",gv="exiting",bv=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=vv,r.appearStatus=mv):i=yv:i=t.unmountOnExit||t.mountOnEnter?pv:vv,r.state={status:i},r.nextCallback=null,r}pe(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===pv?{status:vv}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==mv&&n!==yv&&(t=mv):n!==mv&&n!==yv||(t=gv)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===mv?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===vv&&this.setState({status:pv})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[a.findDOMNode(this),r],o=i[0],u=i[1],s=this.getTimeouts(),c=r?s.appear:s.enter;!e&&!n||dv?this.safeSetState({status:yv},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,u),this.safeSetState({status:mv},(function(){t.props.onEntering(o,u),t.onTransitionEnd(c,(function(){t.safeSetState({status:yv},(function(){t.props.onEntered(o,u)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!dv?(this.props.onExit(r),this.safeSetState({status:gv},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:vv},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:vv},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],u=i[1];this.props.addEndListener(o,u)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===pv)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,re(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(ra.Provider,{value:null},"function"===typeof n?n(e,r):i.cloneElement(i.Children.only(n),r))},t}(i.Component);function kv(){}bv.contextType=ra,bv.propTypes={},bv.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:kv,onEntering:kv,onEntered:kv,onExit:kv,onExiting:kv,onExited:kv},bv.UNMOUNTED=pv,bv.EXITED=vv,bv.ENTERING=mv,bv.ENTERED=yv,bv.EXITING=gv;var wv=bv;function xv(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}function Ev(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var Sv={entering:{opacity:1,transform:Ev(1)},entered:{opacity:1,transform:"none"}},Iv=i.forwardRef((function(e,t){var n=e.children,r=e.disableStrictModeCompat,a=void 0!==r&&r,o=e.in,u=e.onEnter,s=e.onEntered,c=e.onEntering,h=e.onExit,d=e.onExited,p=e.onExiting,v=e.style,m=e.timeout,y=void 0===m?"auto":m,g=e.TransitionComponent,b=void 0===g?wv:g,k=ie(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),w=i.useRef(),x=i.useRef(),E=Lp(),S=E.unstable_strictMode&&!a,I=i.useRef(null),_=Wi(n.ref,t),T=Wi(S?I:void 0,_),C=function(e){return function(t,n){if(e){var r=l(S?[I.current,t]:[t,n],2),i=r[0],a=r[1];void 0===a?e(i):e(i,a)}}},N=C(c),R=C((function(e,t){!function(e){e.scrollTop}(e);var n,r=xv({style:v,timeout:y},{mode:"enter"}),i=r.duration,a=r.delay;"auto"===y?(n=E.transitions.getAutoHeightDuration(e.clientHeight),x.current=n):n=i,e.style.transition=[E.transitions.create("opacity",{duration:n,delay:a}),E.transitions.create("transform",{duration:.666*n,delay:a})].join(","),u&&u(e,t)})),A=C(s),P=C(p),D=C((function(e){var t,n=xv({style:v,timeout:y},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===y?(t=E.transitions.getAutoHeightDuration(e.clientHeight),x.current=t):t=r,e.style.transition=[E.transitions.create("opacity",{duration:t,delay:i}),E.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=Ev(.75),h&&h(e)})),O=C(d);return i.useEffect((function(){return function(){clearTimeout(w.current)}}),[]),i.createElement(b,f({appear:!0,in:o,nodeRef:S?I:void 0,onEnter:R,onEntered:A,onEntering:N,onExit:D,onExited:O,onExiting:P,addEndListener:function(e,t){var n=S?e:t;"auto"===y&&(w.current=setTimeout(n,x.current||0))},timeout:"auto"===y?null:y},k),(function(e,t){return i.cloneElement(n,f({style:f({opacity:0,transform:Ev(.75),visibility:"exited"!==e||o?void 0:"hidden"},Sv[e],v,n.props.style),ref:T},t))}))}));Iv.muiSupportAuto=!0;var _v=Iv;function Tv(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Cv(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Nv(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function Rv(e){return"function"===typeof e?e():e}var Av=i.forwardRef((function(e,t){var n=e.action,r=e.anchorEl,o=e.anchorOrigin,u=void 0===o?{vertical:"top",horizontal:"left"}:o,s=e.anchorPosition,c=e.anchorReference,l=void 0===c?"anchorEl":c,h=e.children,d=e.classes,p=e.className,v=e.container,m=e.elevation,y=void 0===m?8:m,g=e.getContentAnchorEl,b=e.marginThreshold,k=void 0===b?16:b,w=e.onEnter,x=e.onEntered,E=e.onEntering,S=e.onExit,I=e.onExited,_=e.onExiting,T=e.open,C=e.PaperProps,N=void 0===C?{}:C,R=e.transformOrigin,A=void 0===R?{vertical:"top",horizontal:"left"}:R,P=e.TransitionComponent,D=void 0===P?_v:P,O=e.transitionDuration,L=void 0===O?"auto":O,M=e.TransitionProps,F=void 0===M?{}:M,V=ie(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),U=i.useRef(),j=i.useCallback((function(e){if("anchorPosition"===l)return s;var t=Rv(r),n=(t&&1===t.nodeType?t:Yp(U.current).body).getBoundingClientRect(),i=0===e?u.vertical:"center";return{top:n.top+Tv(n,i),left:n.left+Cv(n,u.horizontal)}}),[r,u.horizontal,u.vertical,s,l]),z=i.useCallback((function(e){var t=0;if(g&&"anchorEl"===l){var n=g(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[u.vertical,l,g]),B=i.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:Tv(e,A.vertical)+t,horizontal:Cv(e,A.horizontal)}}),[A.horizontal,A.vertical]),q=i.useCallback((function(e){var t=z(e),n={width:e.offsetWidth,height:e.offsetHeight},i=B(n,t);if("none"===l)return{top:null,left:null,transformOrigin:Nv(i)};var a=j(t),o=a.top-i.vertical,u=a.left-i.horizontal,s=o+n.height,c=u+n.width,f=Jp(Rv(r)),h=f.innerHeight-k,d=f.innerWidth-k;if(o<k){var p=o-k;o-=p,i.vertical+=p}else if(s>h){var v=s-h;o-=v,i.vertical+=v}if(u<k){var m=u-k;u-=m,i.horizontal+=m}else if(c>d){var y=c-d;u-=y,i.horizontal+=y}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(u),"px"),transformOrigin:Nv(i)}}),[r,l,j,z,B,k]),W=i.useCallback((function(){var e=U.current;if(e){var t=q(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[q]),K=i.useCallback((function(e){U.current=a.findDOMNode(e)}),[]);i.useEffect((function(){T&&W()})),i.useImperativeHandle(n,(function(){return T?{updatePosition:function(){W()}}:null}),[T,W]),i.useEffect((function(){if(T){var e=kp((function(){W()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[T,W]);var G=L;"auto"!==L||D.muiSupportAuto||(G=void 0);var H=v||(r?Yp(Rv(r)).body:void 0);return i.createElement(hv,f({container:H,open:T,ref:t,BackdropProps:{invisible:!0},className:oe(d.root,p)},V),i.createElement(D,f({appear:!0,in:T,onEnter:w,onEntered:x,onExit:S,onExited:I,onExiting:_,timeout:G},F,{onEntering:Xp((function(e,t){E&&E(e,t),W()}),F.onEntering)}),i.createElement(Pi,f({elevation:y,ref:K},N,{className:oe(d.paper,N.className)}),h)))})),Pv=Ni({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(Av);var Dv=i.createContext({}),Ov=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,o=e.component,u=void 0===o?"ul":o,s=e.dense,c=void 0!==s&&s,l=e.disablePadding,h=void 0!==l&&l,d=e.subheader,p=ie(e,["children","classes","className","component","dense","disablePadding","subheader"]),v=i.useMemo((function(){return{dense:c}}),[c]);return i.createElement(Dv.Provider,{value:v},i.createElement(u,f({className:oe(r.root,a,c&&r.dense,!h&&r.padding,d&&r.subheader),ref:t},p),d,n))})),Lv=Ni({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(Ov);function Mv(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Fv(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Vv(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Uv(e,t,n,r,i,a){for(var o=!1,u=i(e,t,!!t&&n);u;){if(u===e.firstChild){if(o)return;o=!0}var s=!r&&(u.disabled||"true"===u.getAttribute("aria-disabled"));if(u.hasAttribute("tabindex")&&Vv(u,a)&&!s)return void u.focus();u=i(e,u,n)}}var jv="undefined"===typeof window?i.useEffect:i.useLayoutEffect,zv=i.forwardRef((function(e,t){var n=e.actions,r=e.autoFocus,o=void 0!==r&&r,u=e.autoFocusItem,s=void 0!==u&&u,c=e.children,l=e.className,h=e.disabledItemsFocusable,d=void 0!==h&&h,p=e.disableListWrap,v=void 0!==p&&p,m=e.onKeyDown,y=e.variant,g=void 0===y?"selectedMenu":y,b=ie(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),k=i.useRef(null),w=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});jv((function(){o&&k.current.focus()}),[o]),i.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!k.current.style.width;if(e.clientHeight<k.current.clientHeight&&n){var r="".concat(tv(),"px");k.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,k.current.style.width="calc(100% + ".concat(r,")")}return k.current}}}),[]);var x=Wi(i.useCallback((function(e){k.current=a.findDOMNode(e)}),[]),t),E=-1;i.Children.forEach(c,(function(e,t){i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===g&&e.props.selected||-1===E)&&(E=t))}));var S=i.Children.map(c,(function(e,t){if(t===E){var n={};return s&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===g&&(n.tabIndex=0),i.cloneElement(e,n)}return e}));return i.createElement(Lv,f({role:"menu",ref:x,className:l,onKeyDown:function(e){var t=k.current,n=e.key,r=Yp(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Uv(t,r,v,d,Mv);else if("ArrowUp"===n)e.preventDefault(),Uv(t,r,v,d,Fv);else if("Home"===n)e.preventDefault(),Uv(t,null,v,d,Mv);else if("End"===n)e.preventDefault(),Uv(t,null,v,d,Fv);else if(1===n.length){var i=w.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var u=r&&!i.repeating&&Vv(r,i);i.previousKeyMatched&&(u||Uv(t,r,!1,d,Mv,i))?e.preventDefault():i.previousKeyMatched=!1}m&&m(e)},tabIndex:o?0:-1},b),S)})),Bv=zv,qv={vertical:"top",horizontal:"right"},Wv={vertical:"top",horizontal:"left"},Kv=i.forwardRef((function(e,t){var n=e.autoFocus,r=void 0===n||n,o=e.children,u=e.classes,s=e.disableAutoFocusItem,c=void 0!==s&&s,l=e.MenuListProps,h=void 0===l?{}:l,d=e.onClose,p=e.onEntering,v=e.open,m=e.PaperProps,y=void 0===m?{}:m,g=e.PopoverClasses,b=e.transitionDuration,k=void 0===b?"auto":b,w=e.TransitionProps,x=(w=void 0===w?{}:w).onEntering,E=ie(w,["onEntering"]),S=e.variant,I=void 0===S?"selectedMenu":S,_=ie(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),T=Lp(),C=r&&!c&&v,N=i.useRef(null),R=i.useRef(null),A=-1;i.Children.map(o,(function(e,t){i.isValidElement(e)&&(e.props.disabled||("menu"!==I&&e.props.selected||-1===A)&&(A=t))}));var P=i.Children.map(o,(function(e,t){return t===A?i.cloneElement(e,{ref:function(t){R.current=a.findDOMNode(t),qi(e.ref,t)}}):e}));return i.createElement(Pv,f({getContentAnchorEl:function(){return R.current},classes:g,onClose:d,TransitionProps:f({onEntering:function(e,t){N.current&&N.current.adjustStyleForScrollbar(e,T),p&&p(e,t),x&&x(e,t)}},E),anchorOrigin:"rtl"===T.direction?qv:Wv,transformOrigin:"rtl"===T.direction?qv:Wv,PaperProps:f({},y,{classes:f({},y.classes,{root:u.paper})}),open:v,ref:t,transitionDuration:k},_),i.createElement(Bv,f({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),d&&d(e,"tabKeyDown"))},actions:N,autoFocus:r&&(-1===A||c),autoFocusItem:C,variant:I},h,{className:oe(u.list,h.className)}),P))})),Gv=Ni({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(Kv);function Hv(e,t){return"object"===yr(t)&&null!==t?e===t:String(e)===String(t)}var $v=i.forwardRef((function(e,t){var n=e["aria-label"],r=e.autoFocus,a=e.autoWidth,o=e.children,u=e.classes,s=e.className,c=e.defaultValue,h=e.disabled,d=e.displayEmpty,p=e.IconComponent,v=e.inputRef,m=e.labelId,y=e.MenuProps,g=void 0===y?{}:y,b=e.multiple,k=e.name,w=e.onBlur,x=e.onChange,E=e.onClose,S=e.onFocus,I=e.onOpen,_=e.open,T=e.readOnly,C=e.renderValue,N=e.SelectDisplayProps,R=void 0===N?{}:N,A=e.tabIndex,P=(e.type,e.value),D=e.variant,O=void 0===D?"standard":D,L=ie(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),M=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,i.useRef(void 0!==t).current),a=i.useState(n),o=a[0],u=a[1];return[r?t:o,i.useCallback((function(e){r||u(e)}),[])]}({controlled:P,default:c,name:"Select"}),F=l(M,2),V=F[0],U=F[1],j=i.useRef(null),z=i.useState(null),B=z[0],q=z[1],W=i.useRef(null!=_).current,K=i.useState(),G=K[0],H=K[1],$=i.useState(!1),Q=$[0],Y=$[1],J=Wi(t,v);i.useImperativeHandle(J,(function(){return{focus:function(){B.focus()},node:j.current,value:V}}),[B,V]),i.useEffect((function(){r&&B&&B.focus()}),[r,B]),i.useEffect((function(){if(B){var e=Yp(B).getElementById(m);if(e){var t=function(){getSelection().isCollapsed&&B.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[m,B]);var X,Z,ee=function(e,t){e?I&&I(t):E&&E(t),W||(H(a?null:B.clientWidth),Y(e))},te=i.Children.toArray(o),ne=function(e){return function(t){var n;if(b||ee(!1,t),b){n=Array.isArray(V)?V.slice():[];var r=V.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),V!==n&&(U(n),x&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:k}}),x(t,e)))}},re=null!==B&&(W?_:Q);delete L["aria-invalid"];var ae=[],ue=!1;(Tp({value:V})||d)&&(C?X=C(V):ue=!0);var se=te.map((function(e){if(!i.isValidElement(e))return null;var t;if(b){if(!Array.isArray(V))throw new Error(Or(2));t=V.some((function(t){return Hv(t,e.props.value)})),t&&ue&&ae.push(e.props.children)}else(t=Hv(V,e.props.value))&&ue&&(Z=e.props.children);return t&&!0,i.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:ne(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));ue&&(X=b?ae.join(", "):Z);var ce,le=G;!a&&W&&B&&(le=B.clientWidth),ce="undefined"!==typeof A?A:h?null:0;var fe=R.id||(k?"mui-component-select-".concat(k):void 0);return i.createElement(i.Fragment,null,i.createElement("div",f({className:oe(u.root,u.select,u.selectMenu,u[O],s,h&&u.disabled),ref:q,tabIndex:ce,role:"button","aria-disabled":h?"true":void 0,"aria-expanded":re?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[m,fe].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!T){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ee(!0,e))}},onMouseDown:h||T?null:function(e){0===e.button&&(e.preventDefault(),B.focus(),ee(!0,e))},onBlur:function(e){!re&&w&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:V,name:k}}),w(e))},onFocus:S},R,{id:fe}),function(e){return null==e||"string"===typeof e&&!e.trim()}(X)?i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):X),i.createElement("input",f({value:Array.isArray(V)?V.join(","):V,name:k,ref:j,"aria-hidden":!0,onChange:function(e){var t=te.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=te[t];U(n.props.value),x&&x(e,n)}},tabIndex:-1,className:u.nativeInput,autoFocus:r},L)),i.createElement(p,{className:oe(u.icon,u["icon".concat(Ri(O))],re&&u.iconOpen,h&&u.disabled)}),i.createElement(Gv,f({id:"menu-".concat(k||""),anchorEl:B,open:re,onClose:function(e){ee(!1,e)}},g,{MenuListProps:f({"aria-labelledby":m,role:"listbox",disableListWrap:!0},g.MenuListProps),PaperProps:f({},g.PaperProps,{style:f({minWidth:le},null!=g.PaperProps?g.PaperProps.style:null)})}),se))})),Qv=$v,Yv=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,o=e.color,u=void 0===o?"inherit":o,s=e.component,c=void 0===s?"svg":s,l=e.fontSize,h=void 0===l?"medium":l,d=e.htmlColor,p=e.titleAccess,v=e.viewBox,m=void 0===v?"0 0 24 24":v,y=ie(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return i.createElement(c,f({className:oe(r.root,a,"inherit"!==u&&r["color".concat(Ri(u))],"default"!==h&&"medium"!==h&&r["fontSize".concat(Ri(h))]),focusable:"false",viewBox:m,color:d,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:t},y),n,p?i.createElement("title",null,p):null)}));Yv.muiName="SvgIcon";var Jv=Ni((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(Yv);function Xv(e,t){var n=function(t,n){return i.createElement(Jv,f({ref:n},t),e)};return n.muiName=Jv.muiName,i.memo(i.forwardRef(n))}var Zv=Xv(i.createElement("path",{d:"M7 10l5 5 5-5z"})),em=i.forwardRef((function(e,t){var n=e.classes,r=e.className,a=e.disabled,o=e.IconComponent,u=e.inputRef,s=e.variant,c=void 0===s?"standard":s,l=ie(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return i.createElement(i.Fragment,null,i.createElement("select",f({className:oe(n.root,n.select,n[c],r,a&&n.disabled),disabled:a,ref:u||t},l)),e.multiple?null:i.createElement(o,{className:oe(n.icon,n["icon".concat(Ri(c))],a&&n.disabled)}))})),tm=em,nm=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},rm=i.createElement(Pp,null),im=i.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.IconComponent,o=void 0===a?Zv:a,u=e.input,s=void 0===u?rm:u,c=e.inputProps,l=(e.variant,ie(e,["children","classes","IconComponent","input","inputProps","variant"])),h=yp({props:e,muiFormControl:jp(),states:["variant"]});return i.cloneElement(s,f({inputComponent:tm,inputProps:f({children:n,classes:r,IconComponent:o,variant:h.variant,type:void 0},c,s?s.props.inputProps:{}),ref:t},l))}));im.muiName="Select";Ni(nm,{name:"MuiNativeSelect"})(im);var am=nm,om=i.createElement(Pp,null),um=i.createElement(Op,null),sm=i.forwardRef((function e(t,n){var r=t.autoWidth,a=void 0!==r&&r,o=t.children,u=t.classes,s=t.displayEmpty,c=void 0!==s&&s,l=t.IconComponent,h=void 0===l?Zv:l,d=t.id,p=t.input,v=t.inputProps,m=t.label,y=t.labelId,g=t.labelWidth,b=void 0===g?0:g,k=t.MenuProps,w=t.multiple,x=void 0!==w&&w,E=t.native,S=void 0!==E&&E,I=t.onClose,_=t.onOpen,T=t.open,C=t.renderValue,N=t.SelectDisplayProps,R=t.variant,A=void 0===R?"standard":R,P=ie(t,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),D=S?tm:Qv,O=yp({props:t,muiFormControl:jp(),states:["variant"]}).variant||A,L=p||{standard:om,outlined:i.createElement(Up,{label:m,labelWidth:b}),filled:um}[O];return i.cloneElement(L,f({inputComponent:D,inputProps:f({children:o,IconComponent:h,variant:O,type:void 0,multiple:x},S?{id:d}:{autoWidth:a,displayEmpty:c,labelId:y,MenuProps:k,onClose:I,onOpen:_,open:T,renderValue:C,SelectDisplayProps:f({id:d},N)},v,{classes:v?Tt({baseClasses:u,newClasses:v.classes,Component:e}):u},p?p.props.inputProps:{}),ref:n},P))}));sm.muiName="Select";var cm=Ni(am,{name:"MuiSelect"})(sm),lm={standard:Pp,filled:Op,outlined:Up},fm=i.forwardRef((function(e,t){var n=e.autoComplete,r=e.autoFocus,a=void 0!==r&&r,o=e.children,u=e.classes,s=e.className,c=e.color,l=void 0===c?"primary":c,h=e.defaultValue,d=e.disabled,p=void 0!==d&&d,v=e.error,m=void 0!==v&&v,y=e.FormHelperTextProps,g=e.fullWidth,b=void 0!==g&&g,k=e.helperText,w=e.hiddenLabel,x=e.id,E=e.InputLabelProps,S=e.inputProps,I=e.InputProps,_=e.inputRef,T=e.label,C=e.multiline,N=void 0!==C&&C,R=e.name,A=e.onBlur,P=e.onChange,D=e.onFocus,O=e.placeholder,L=e.required,M=void 0!==L&&L,F=e.rows,V=e.rowsMax,U=e.maxRows,j=e.minRows,z=e.select,B=void 0!==z&&z,q=e.SelectProps,W=e.type,K=e.value,G=e.variant,H=void 0===G?"standard":G,$=ie(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]);var Q={};if("outlined"===H&&(E&&"undefined"!==typeof E.shrink&&(Q.notched=E.shrink),T)){var Y,J=null!==(Y=null===E||void 0===E?void 0:E.required)&&void 0!==Y?Y:M;Q.label=i.createElement(i.Fragment,null,T,J&&"\xa0*")}B&&(q&&q.native||(Q.id=void 0),Q["aria-describedby"]=void 0);var X=k&&x?"".concat(x,"-helper-text"):void 0,Z=T&&x?"".concat(x,"-label"):void 0,ee=lm[H],te=i.createElement(ee,f({"aria-describedby":X,autoComplete:n,autoFocus:a,defaultValue:h,fullWidth:b,multiline:N,name:R,rows:F,rowsMax:V,maxRows:U,minRows:j,type:W,value:K,id:x,inputRef:_,onBlur:A,onChange:P,onFocus:D,placeholder:O,inputProps:S},Q,I));return i.createElement(Hp,f({className:oe(u.root,s),disabled:p,error:m,fullWidth:b,hiddenLabel:w,ref:t,required:M,color:l,variant:H},$),T&&i.createElement(Wp,f({htmlFor:x,id:Z},E),T),B?i.createElement(cm,f({"aria-describedby":X,id:x,labelId:Z,value:K,input:te},q),o):te,k&&i.createElement(Qp,f({id:X},y),k))})),hm=Ni({root:{}},{name:"MuiTextField"})(fm),dm=Xv(i.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));var pm,vm=i.forwardRef((function(e,t){var n=e.alt,r=e.children,a=e.classes,o=e.className,u=e.component,s=void 0===u?"div":u,c=e.imgProps,l=e.sizes,h=e.src,d=e.srcSet,p=e.variant,v=void 0===p?"circular":p,m=ie(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),y=null,g=function(e){var t=e.src,n=e.srcSet,r=i.useState(!1),a=r[0],o=r[1];return i.useEffect((function(){if(t||n){o(!1);var e=!0,r=new Image;return r.src=t,r.srcSet=n,r.onload=function(){e&&o("loaded")},r.onerror=function(){e&&o("error")},function(){e=!1}}}),[t,n]),a}({src:h,srcSet:d}),b=h||d,k=b&&"error"!==g;return y=k?i.createElement("img",f({alt:n,src:h,srcSet:d,sizes:l,className:a.img},c)):null!=r?r:b&&n?n[0]:i.createElement(dm,{className:a.fallback}),i.createElement(s,f({className:oe(a.root,a.system,a[v],o,!k&&a.colorDefault),ref:t},m),y)})),mm=Ni((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(vm),ym="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},gm={},bm=bm||{},km=ym||self;function wm(){}function xm(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Em(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Sm="closure_uid_"+(1e9*Math.random()>>>0),Im=0;function _m(e,t,n){return e.call.apply(e.bind,arguments)}function Tm(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Cm(e,t,n){return(Cm=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_m:Tm).apply(null,arguments)}function Nm(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Rm(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Am(){this.s=this.s,this.o=this.o}var Pm={};Am.prototype.s=!1,Am.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Sm)&&e[Sm]||(e[Sm]=++Im)}(this);delete Pm[e]}},Am.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Dm=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Om=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Lm(e){return Array.prototype.concat.apply([],arguments)}function Mm(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Fm(e){return/^[\s\xa0]*$/.test(e)}var Vm,Um=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function jm(e,t){return-1!=e.indexOf(t)}function zm(e,t){return e<t?-1:e>t?1:0}e:{var Bm=km.navigator;if(Bm){var qm=Bm.userAgent;if(qm){Vm=qm;break e}}Vm=""}function Wm(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Km(e){var t={};for(var n in e)t[n]=e[n];return t}var Gm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hm(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Gm.length;a++)n=Gm[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function $m(e){return $m[" "](e),e}$m[" "]=wm;var Qm,Ym=jm(Vm,"Opera"),Jm=jm(Vm,"Trident")||jm(Vm,"MSIE"),Xm=jm(Vm,"Edge"),Zm=Xm||Jm,ey=jm(Vm,"Gecko")&&!(jm(Vm.toLowerCase(),"webkit")&&!jm(Vm,"Edge"))&&!(jm(Vm,"Trident")||jm(Vm,"MSIE"))&&!jm(Vm,"Edge"),ty=jm(Vm.toLowerCase(),"webkit")&&!jm(Vm,"Edge");function ny(){var e=km.document;return e?e.documentMode:void 0}e:{var ry="",iy=function(){var e=Vm;return ey?/rv:([^\);]+)(\)|;)/.exec(e):Xm?/Edge\/([\d\.]+)/.exec(e):Jm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ty?/WebKit\/(\S+)/.exec(e):Ym?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(iy&&(ry=iy?iy[1]:""),Jm){var ay=ny();if(null!=ay&&ay>parseFloat(ry)){Qm=String(ay);break e}}Qm=ry}var oy,uy={};function sy(){return function(e){var t=uy;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Um(String(Qm)).split("."),n=Um("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=zm(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||zm(0==a[2].length,0==o[2].length)||zm(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(km.document&&Jm){var cy=ny();oy=cy||(parseInt(Qm,10)||void 0)}else oy=void 0;var ly=oy,fy=function(){if(!km.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{km.addEventListener("test",wm,t),km.removeEventListener("test",wm,t)}catch(n){}return e}();function hy(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function dy(e,t){if(hy.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ey){e:{try{$m(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:py[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&dy.Z.h.call(this)}}hy.prototype.h=function(){this.defaultPrevented=!0},Rm(dy,hy);var py={2:"touch",3:"pen",4:"mouse"};dy.prototype.h=function(){dy.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var vy="closure_listenable_"+(1e6*Math.random()|0),my=0;function yy(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++my,this.ca=this.fa=!1}function gy(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function by(e){this.src=e,this.g={},this.h=0}function ky(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Dm(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(gy(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function wy(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}by.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=wy(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new yy(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var xy="closure_lm_"+(1e6*Math.random()|0),Ey={};function Sy(e,t,n,r,i){if(r&&r.once)return _y(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Sy(e,t[a],n,r,i);return null}return n=Dy(n),e&&e[vy]?e.N(t,n,Em(r)?!!r.capture:!!r,i):Iy(e,t,n,!1,r,i)}function Iy(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Em(i)?!!i.capture:!!i,u=Ay(e);if(u||(e[xy]=u=new by(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ry;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)fy||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ny(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function _y(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)_y(e,t[a],n,r,i);return null}return n=Dy(n),e&&e[vy]?e.O(t,n,Em(r)?!!r.capture:!!r,i):Iy(e,t,n,!0,r,i)}function Ty(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ty(e,t[a],n,r,i);else r=Em(r)?!!r.capture:!!r,n=Dy(n),e&&e[vy]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=wy(a=e.g[t],n,r,i))&&(gy(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ay(e))&&(t=e.g[t.toString()],e=-1,t&&(e=wy(t,n,r,i)),(n=-1<e?t[e]:null)&&Cy(n))}function Cy(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[vy])ky(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ny(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ay(t))?(ky(n,e),0==n.h&&(n.src=null,t[xy]=null)):gy(e)}}}function Ny(e){return e in Ey?Ey[e]:Ey[e]="on"+e}function Ry(e,t){if(e.ca)e=!0;else{t=new dy(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Cy(e),e=n.call(r,t)}return e}function Ay(e){return(e=e[xy])instanceof by?e:null}var Py="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dy(e){return"function"===typeof e?e:(e[Py]||(e[Py]=function(t){return e.handleEvent(t)}),e[Py])}function Oy(){Am.call(this),this.i=new by(this),this.P=this,this.I=null}function Ly(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new hy(t,e);else if(t instanceof hy)t.target=t.target||e;else{var i=t;Hm(t=new hy(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=My(o,r,!0,t)&&i}if(i=My(o=t.g=e,r,!0,t)&&i,i=My(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=My(o=t.g=n[a],r,!1,t)&&i}function My(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&ky(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Rm(Oy,Am),Oy.prototype[vy]=!0,Oy.prototype.removeEventListener=function(e,t,n,r){Ty(this,e,t,n,r)},Oy.prototype.M=function(){if(Oy.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)gy(n[r]);delete t.g[e],t.h--}}this.I=null},Oy.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Oy.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Fy=km.JSON.stringify;function Vy(){var e=Gy,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Uy,jy=function(){function e(){Ra(this,e),this.h=this.g=null}return he(e,[{key:"add",value:function(e,t){var n=zy.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),zy=new(function(){function e(t,n){Ra(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return he(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new By}),(function(e){return e.reset()})),By=function(){function e(){Ra(this,e),this.next=this.g=this.h=null}return he(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function qy(e){km.setTimeout((function(){throw e}),0)}function Wy(e,t){Uy||function(){var e=km.Promise.resolve(void 0);Uy=function(){e.then(Hy)}}(),Ky||(Uy(),Ky=!0),Gy.add(e,t)}var Ky=!1,Gy=new jy;function Hy(){for(var e;e=Vy();){try{e.h.call(e.g)}catch(n){qy(n)}var t=zy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ky=!1}function $y(e,t){Oy.call(this),this.h=e||1,this.g=t||km,this.j=Cm(this.kb,this),this.l=Date.now()}function Qy(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Yy(e,t,n){if("function"===typeof e)n&&(e=Cm(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Cm(e.handleEvent,e)}return 2147483647<Number(t)?-1:km.setTimeout(e,t||0)}function Jy(e){e.g=Yy((function(){e.g=null,e.i&&(e.i=!1,Jy(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Rm($y,Oy),(pm=$y.prototype).da=!1,pm.S=null,pm.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ly(this,"tick"),this.da&&(Qy(this),this.start()))}},pm.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pm.M=function(){$y.Z.M.call(this),Qy(this),delete this.g};var Xy=function(e){Ea(n,e);var t=_a(n);function n(e,r){var i;return Ra(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return he(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Jy(this)}},{key:"M",value:function(){xa(ka(n.prototype),"M",this).call(this),this.g&&(km.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Am);function Zy(e){Am.call(this),this.h=e,this.g={}}Rm(Zy,Am);var eg=[];function tg(e,t,n,r){Array.isArray(n)||(n&&(eg[0]=n.toString()),n=eg);for(var i=0;i<n.length;i++){var a=Sy(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ng(e){Wm(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Cy(e)}),e),e.g={}}function rg(){this.g=!0}function ig(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Fy(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Zy.prototype.M=function(){Zy.Z.M.call(this),ng(this)},Zy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rg.prototype.Aa=function(){this.g=!1},rg.prototype.info=function(){};var ag={},og=null;function ug(){return og=og||new Oy}function sg(e){hy.call(this,ag.Ma,e)}function cg(e){var t=ug();Ly(t,new sg(t,e))}function lg(e,t){hy.call(this,ag.STAT_EVENT,e),this.stat=t}function fg(e){var t=ug();Ly(t,new lg(t,e))}function hg(e,t){hy.call(this,ag.Na,e),this.size=t}function dg(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return km.setTimeout((function(){e()}),t)}ag.Ma="serverreachability",Rm(sg,hy),ag.STAT_EVENT="statevent",Rm(lg,hy),ag.Na="timingevent",Rm(hg,hy);var pg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},vg={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function mg(){}function yg(e){return e.h||(e.h=e.i())}function gg(){}mg.prototype.h=null;var bg,kg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function wg(){hy.call(this,"d")}function xg(){hy.call(this,"c")}function Eg(){}function Sg(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Zy(this),this.P=_g,e=Zm?125:void 0,this.W=new $y(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ig}function Ig(){this.i=null,this.g="",this.h=!1}Rm(wg,hy),Rm(xg,hy),Rm(Eg,mg),Eg.prototype.g=function(){return new XMLHttpRequest},Eg.prototype.i=function(){return{}},bg=new Eg;var _g=45e3,Tg={},Cg={};function Ng(e,t,n){e.K=1,e.v=Xg(Gg(t)),e.s=n,e.U=!0,Rg(e,null)}function Rg(e,t){e.F=Date.now(),Og(e),e.A=Gg(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),fb(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Ig,e.g=dk(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Xy(Cm(e.Ia,e,e.g),e.O)),tg(e.V,e.g,"readystatechange",e.gb),t=e.H?Km(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),cg(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ag(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Pg(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Dg(e,n))==Cg){4==t&&(e.o=4,fg(14),i=!1),ig(e.j,e.m,null,"[Incomplete Response]");break}if(r==Tg){e.o=4,fg(15),ig(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ig(e.j,e.m,r,null),Ug(e,r)}Ag(e)&&r!=Cg&&r!=Tg&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,fg(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ak(t),t.L=!0,fg(11))):(ig(e.j,e.m,n,"[Invalid Chunked Response]"),Vg(e),Fg(e))}function Dg(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Cg:(n=Number(t.substring(n,r)),isNaN(n)?Tg:(r+=1)+n>t.length?Cg:(t=t.substr(r,n),e.C=r+n,t))}function Og(e){e.Y=Date.now()+e.P,Lg(e,e.P)}function Lg(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=dg(Cm(e.eb,e),t)}function Mg(e){e.B&&(km.clearTimeout(e.B),e.B=null)}function Fg(e){0==e.l.G||e.I||sk(e.l,e)}function Vg(e){Mg(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Qy(e.W),ng(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ug(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||bb(n.i,e)))if(n.I=e.N,!e.J&&bb(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;uk(n),Yb(n)}ik(n),fg(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=dg(Cm(n.ab,n),6e3));if(1>=gb(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else lk(n,11)}else if((e.J||n.g==e)&&uk(n),!Fm(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(jm(l,"spdy")||jm(l,"quic")||jm(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(kb(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Jg(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=hk(r,r.H?r.la:null,r.W),d.J){wb(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Mg(p),Og(p)),r.g=d}else rk(r);0<n.l.length&&Zb(n)}else"stop"!=a[0]&&"close"!=a[0]||lk(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?lk(n,7):Qb(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}cg(4)}catch(a){}}function jg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(xm(e)||"string"===typeof e)Om(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(xm(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(xm(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function zg(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof zg)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Bg(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];qg(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)qg(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function qg(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(pm=Sg.prototype).setTimeout=function(e){this.P=e},pm.gb=function(e){e=e.target;var t=this.L;t&&3==Wb(e)?t.l():this.Ia(e)},pm.Ia=function(e){try{if(e==this.g)e:{var t=Wb(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Zm||this.g&&(this.h.h||this.g.ga()||Kb(this.g)))){this.I||4!=t||7==n||cg(8==n||0>=r?3:2),Mg(this);var i=this.g.ba();this.N=i;t:if(Ag(this)){var a=Kb(this.g);e="";var o=a.length,u=4==Wb(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Vg(this),Fg(this);var s="";break t}this.h.i=new km.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fm(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,fg(12),Vg(this),Fg(this);break e}ig(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ug(this,i)}this.U?(Pg(this,t,s),Zm&&this.i&&3==t&&(tg(this.V,this.W,"tick",this.fb),this.W.start())):(ig(this.j,this.m,s,null),Ug(this,s)),4==t&&Vg(this),this.i&&!this.I&&(4==t?sk(this.l,this):(this.i=!1,Og(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,fg(12)):(this.o=0,fg(13)),Vg(this),Fg(this)}}}catch(t){}},pm.fb=function(){if(this.g){var e=Wb(this.g),t=this.g.ga();this.C<t.length&&(Mg(this),Pg(this,e,t),this.i&&4!=e&&Og(this))}},pm.cancel=function(){this.I=!0,Vg(this)},pm.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(cg(3),fg(17)),Vg(this),this.o=2,Fg(this)):Lg(this,this.Y-e)},(pm=zg.prototype).R=function(){Bg(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},pm.T=function(){return Bg(this),this.g.concat()},pm.get=function(e,t){return qg(this.h,e)?this.h[e]:t},pm.set=function(e,t){qg(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},pm.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Wg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Kg(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Kg){this.g=void 0!==t?t:e.g,Hg(this,e.j),this.s=e.s,$g(this,e.i),Qg(this,e.m),this.l=e.l,t=e.h;var n=new ub;n.i=t.i,t.g&&(n.g=new zg(t.g),n.h=t.h),Yg(this,n),this.o=e.o}else e&&(n=String(e).match(Wg))?(this.g=!!t,Hg(this,n[1]||"",!0),this.s=Zg(n[2]||""),$g(this,n[3]||"",!0),Qg(this,n[4]),this.l=Zg(n[5]||"",!0),Yg(this,n[6]||"",!0),this.o=Zg(n[7]||"")):(this.g=!!t,this.h=new ub(null,this.g))}function Gg(e){return new Kg(e)}function Hg(e,t,n){e.j=n?Zg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function $g(e,t,n){e.i=n?Zg(t,!0):t}function Qg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Yg(e,t,n){t instanceof ub?(e.h=t,function(e,t){t&&!e.j&&(sb(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(cb(this,t),fb(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=eb(t,ab)),e.h=new ub(t,e.g))}function Jg(e,t,n){e.h.set(t,n)}function Xg(e){return Jg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Zg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function eb(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,tb),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function tb(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Kg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(eb(t,nb,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(eb(t,nb,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(eb(n,"/"==n.charAt(0)?ib:rb,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",eb(n,ob)),e.join("")};var nb=/[#\/\?@]/g,rb=/[#\?:]/g,ib=/[#\?]/g,ab=/[#\?@]/g,ob=/#/g;function ub(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function sb(e){e.g||(e.g=new zg,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function cb(e,t){sb(e),t=hb(e,t),qg(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,qg((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Bg(e)))}function lb(e,t){return sb(e),t=hb(e,t),qg(e.g.h,t)}function fb(e,t,n){cb(e,t),0<n.length&&(e.i=null,e.g.set(hb(e,t),Mm(n)),e.h+=n.length)}function hb(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(pm=ub.prototype).add=function(e,t){sb(this),this.i=null,e=hb(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},pm.forEach=function(e,t){sb(this),this.g.forEach((function(n,r){Om(n,(function(n){e.call(t,n,r,this)}),this)}),this)},pm.T=function(){sb(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},pm.R=function(e){sb(this);var t=[];if("string"===typeof e)lb(this,e)&&(t=Lm(t,this.g.get(hb(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Lm(t,e[n])}return t},pm.set=function(e,t){return sb(this),this.i=null,lb(this,e=hb(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},pm.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},pm.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var db=he((function e(t,n){Ra(this,e),this.h=t,this.g=n}));function pb(e){this.l=e||mb,km.PerformanceNavigationTiming?e=0<(e=km.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(km.g&&km.g.Ea&&km.g.Ea()&&km.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var vb,mb=10;function yb(e){return!!e.h||!!e.g&&e.g.size>=e.j}function gb(e){return e.h?1:e.g?e.g.size:0}function bb(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function kb(e,t){e.g?e.g.add(t):e.h=t}function wb(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function xb(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Ta(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Mm(e.i)}function Eb(){}function Sb(){this.g=new Eb}function Ib(e,t,n){var r=n||"";try{jg(e,(function(e,n){var i=e;Em(e)&&(i=Fy(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function _b(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Tb(e){this.l=e.$b||null,this.j=e.ib||!1}function Cb(e,t){Oy.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Nb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pb.prototype.cancel=function(){if(this.i=xb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Ta(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Eb.prototype.stringify=function(e){return km.JSON.stringify(e,void 0)},Eb.prototype.parse=function(e){return km.JSON.parse(e,void 0)},Rm(Tb,mg),Tb.prototype.g=function(){return new Cb(this.l,this.j)},Tb.prototype.i=(vb={},function(){return vb}),Rm(Cb,Oy);var Nb=0;function Rb(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ab(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Pb(e)}function Pb(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(pm=Cb.prototype).open=function(e,t){if(this.readyState!=Nb)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Pb(this)},pm.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||km).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},pm.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ab(this)),this.readyState=Nb},pm.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pb(this)),this.g&&(this.readyState=3,Pb(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof km.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Rb(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},pm.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ab(this):Pb(this),3==this.readyState&&Rb(this)}},pm.Ua=function(e){this.g&&(this.response=this.responseText=e,Ab(this))},pm.Ta=function(e){this.g&&(this.response=e,Ab(this))},pm.ha=function(){this.g&&Ab(this)},pm.setRequestHeader=function(e,t){this.v.append(e,t)},pm.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},pm.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Cb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Db=km.JSON.parse;function Ob(e){Oy.call(this),this.headers=new zg,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Lb,this.K=this.L=!1}Rm(Ob,Oy);var Lb="",Mb=/^https?$/i,Fb=["POST","PUT"];function Vb(e){return"content-type"==e.toLowerCase()}function Ub(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,jb(e),Bb(e)}function jb(e){e.D||(e.D=!0,Ly(e,"complete"),Ly(e,"error"))}function zb(e){if(e.h&&"undefined"!=typeof bm&&(!e.C[1]||4!=Wb(e)||2!=e.ba()))if(e.v&&4==Wb(e))Yy(e.Fa,0,e);else if(Ly(e,"readystatechange"),4==Wb(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Wg)[1]||null;if(!a&&km.self&&km.self.location){var o=km.self.location.protocol;a=o.substr(0,o.length-1)}i=!Mb.test(a?a.toLowerCase():"")}t=i}if(t)Ly(e,"complete"),Ly(e,"success");else{e.m=6;try{var u=2<Wb(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",jb(e)}}finally{Bb(e)}}}function Bb(e,t){if(e.g){qb(e);var n=e.g,r=e.C[0]?wm:null;e.g=null,e.C=null,t||Ly(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function qb(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(km.clearTimeout(e.A),e.A=null)}function Wb(e){return e.g?e.g.readyState:0}function Kb(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Lb:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Gb(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Wm(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Jg(e,t,n))}function Hb(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $b(e){this.za=0,this.l=[],this.h=new rg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Hb("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Hb("baseRetryDelayMs",5e3,e),this.$a=Hb("retryDelaySeedMs",1e4,e),this.Ya=Hb("forwardChannelMaxRetries",2,e),this.ra=Hb("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new pb(e&&e.concurrentRequestLimit),this.Ca=new Sb,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Qb(e){if(Jb(e),3==e.G){var t=e.V++,n=Gg(e.F);Jg(n,"SID",e.J),Jg(n,"RID",t),Jg(n,"TYPE","terminate"),tk(e,n),(t=new Sg(e,e.h,t,void 0)).K=2,t.v=Xg(Gg(n)),n=!1,km.navigator&&km.navigator.sendBeacon&&(n=km.navigator.sendBeacon(t.v.toString(),"")),!n&&km.Image&&((new Image).src=t.v,n=!0),n||(t.g=dk(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Og(t)}fk(e)}function Yb(e){e.g&&(ak(e),e.g.cancel(),e.g=null)}function Jb(e){Yb(e),e.u&&(km.clearTimeout(e.u),e.u=null),uk(e),e.i.cancel(),e.m&&("number"===typeof e.m&&km.clearTimeout(e.m),e.m=null)}function Xb(e,t){e.l.push(new db(e.Za++,t)),3==e.G&&Zb(e)}function Zb(e){yb(e.i)||e.m||(e.m=!0,Wy(e.Ha,e),e.C=0)}function ek(e,t){var n;n=t?t.m:e.V++;var r=Gg(e.F);Jg(r,"SID",e.J),Jg(r,"RID",n),Jg(r,"AID",e.U),tk(e,r),e.o&&e.s&&Gb(r,e.o,e.s),n=new Sg(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=nk(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),kb(e.i,n),Ng(n,r,t)}function tk(e,t){e.j&&jg({},(function(e,n){Jg(t,n,e)}))}function nk(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Cm(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Ib(l,o,"req"+c+"_")}catch(jk){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function rk(e){e.g||e.u||(e.Y=1,Wy(e.Ga,e),e.A=0)}function ik(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=dg(Cm(e.Ga,e),ck(e,e.A)),e.A++,!0)}function ak(e){null!=e.B&&(km.clearTimeout(e.B),e.B=null)}function ok(e){e.g=new Sg(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Gg(e.oa);Jg(t,"RID","rpc"),Jg(t,"SID",e.J),Jg(t,"CI",e.N?"0":"1"),Jg(t,"AID",e.U),tk(e,t),Jg(t,"TYPE","xmlhttp"),e.o&&e.s&&Gb(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Xg(Gg(t)),n.s=null,n.U=!0,Rg(n,e)}function uk(e){null!=e.v&&(km.clearTimeout(e.v),e.v=null)}function sk(e,t){var n=null;if(e.g==t){uk(e),ak(e),e.g=null;var r=2}else{if(!bb(e.i,t))return;n=t.D,wb(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ly(r=ug(),new hg(r,n,t,i)),Zb(e)}else rk(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(gb(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=dg(Cm(e.Ha,e,t),ck(e,e.C)),e.C++,!0))}(e,t)||2==r&&ik(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:lk(e,5);break;case 4:lk(e,10);break;case 3:lk(e,6);break;default:lk(e,2)}}function ck(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function lk(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Cm(e.jb,e);n||(n=new Kg("//www.google.com/images/cleardot.gif"),km.location&&"http"==km.location.protocol||Hg(n,"https"),Xg(n)),function(e,t){var n=new rg;if(km.Image){var r=new Image;r.onload=Nm(_b,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Nm(_b,n,r,"TestLoadImage: error",!1,t),r.onabort=Nm(_b,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Nm(_b,n,r,"TestLoadImage: timeout",!1,t),km.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else fg(2);e.G=0,e.j&&e.j.va(t),fk(e),Jb(e)}function fk(e){e.G=0,e.I=-1,e.j&&(0==xb(e.i).length&&0==e.l.length||(e.i.i.length=0,Mm(e.l),e.l.length=0),e.j.ua())}function hk(e,t,n){var r=function(e){return e instanceof Kg?Gg(e):new Kg(e,void 0)}(n);if(""!=r.i)t&&$g(r,t+"."+r.i),Qg(r,r.m);else{var i=km.location;r=function(e,t,n,r){var i=new Kg(null,void 0);return e&&Hg(i,e),t&&$g(i,t),n&&Qg(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Wm(e.aa,(function(e,t){Jg(r,t,e)})),t=e.D,n=e.sa,t&&n&&Jg(r,t,n),Jg(r,"VER",e.ma),tk(e,r),r}function dk(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Ob(new Tb({ib:!0})):new Ob(e.qa)).L=e.H,t}function pk(){}function vk(){if(Jm&&!(10<=Number(ly)))throw Error("Environmental error: no available transport.")}function mk(e,t){Oy.call(this),this.g=new $b(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Fm(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Fm(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bk(this)}function yk(e){wg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function gk(){xg.call(this),this.status=1}function bk(e){this.g=e}(pm=Ob.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():bg.g(),this.C=this.u?yg(this.u):yg(bg),this.g.onreadystatechange=Cm(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Ub(this,a)}e=n||"";var i=new zg(this.headers);r&&jg(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Vb,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=km.FormData&&e instanceof km.FormData,!(0<=Dm(Fb,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{qb(this),0<this.B&&((this.K=function(e){return Jm&&sy()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Cm(this.pa,this)):this.A=Yy(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Ub(this,a)}},pm.pa=function(){"undefined"!=typeof bm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ly(this,"timeout"),this.abort(8))},pm.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ly(this,"complete"),Ly(this,"abort"),Bb(this))},pm.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bb(this,!0)),Ob.Z.M.call(this)},pm.Fa=function(){this.s||(this.F||this.v||this.l?zb(this):this.cb())},pm.cb=function(){zb(this)},pm.ba=function(){try{return 2<Wb(this)?this.g.status:-1}catch(vb){return-1}},pm.ga=function(){try{return this.g?this.g.responseText:""}catch(vb){return""}},pm.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Db(t)}},pm.Da=function(){return this.m},pm.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(pm=$b.prototype).ma=8,pm.G=1,pm.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},pm.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Sg(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Hm(n=Km(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=nk(this,t,r),Jg(i=Gg(this.F),"RID",e),Jg(i,"CVER",22),this.D&&Jg(i,"X-HTTP-Session-Id",this.D),tk(this,i),this.o&&n&&Gb(i,this.o,n),kb(this.i,t),this.Ra&&Jg(i,"TYPE","init"),this.ja?(Jg(i,"$req",r),Jg(i,"SID","null"),t.$=!0,Ng(t,i,null)):Ng(t,i,r),this.G=2}}else 3==this.G&&(e?ek(this,e):0==this.l.length||yb(this.i)||ek(this))},pm.Ga=function(){if(this.u=null,ok(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=dg(Cm(this.bb,this),e)}},pm.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,fg(10),Yb(this),ok(this))},pm.ab=function(){null!=this.v&&(this.v=null,Yb(this),ik(this),fg(19))},pm.jb=function(e){e?(this.h.info("Successfully pinged google.com"),fg(2)):(this.h.info("Failed to ping google.com"),fg(1))},(pm=pk.prototype).xa=function(){},pm.wa=function(){},pm.va=function(){},pm.ua=function(){},pm.Oa=function(){},vk.prototype.g=function(e,t){return new mk(e,t)},Rm(mk,Oy),mk.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Wy(Cm(e.hb,e,t))),fg(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=hk(e,null,e.W),Zb(e)},mk.prototype.close=function(){Qb(this.g)},mk.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Xb(this.g,t)}else this.v?((t={}).__data__=Fy(e),Xb(this.g,t)):Xb(this.g,e)},mk.prototype.M=function(){this.g.j=null,delete this.j,Qb(this.g),delete this.g,mk.Z.M.call(this)},Rm(yk,wg),Rm(gk,xg),Rm(bk,pk),bk.prototype.xa=function(){Ly(this.g,"a")},bk.prototype.wa=function(e){Ly(this.g,new yk(e))},bk.prototype.va=function(e){Ly(this.g,new gk(e))},bk.prototype.ua=function(){Ly(this.g,"b")},vk.prototype.createWebChannel=vk.prototype.g,mk.prototype.send=mk.prototype.u,mk.prototype.open=mk.prototype.m,mk.prototype.close=mk.prototype.close,pg.NO_ERROR=0,pg.TIMEOUT=8,pg.HTTP_ERROR=6,vg.COMPLETE="complete",gg.EventType=kg,kg.OPEN="a",kg.CLOSE="b",kg.ERROR="c",kg.MESSAGE="d",Oy.prototype.listen=Oy.prototype.N,Ob.prototype.listenOnce=Ob.prototype.O,Ob.prototype.getLastError=Ob.prototype.La,Ob.prototype.getLastErrorCode=Ob.prototype.Da,Ob.prototype.getStatus=Ob.prototype.ba,Ob.prototype.getResponseJson=Ob.prototype.Qa,Ob.prototype.getResponseText=Ob.prototype.ga,Ob.prototype.send=Ob.prototype.ea;var kk=gm.createWebChannelTransport=function(){return new vk},wk=gm.getStatEventTarget=function(){return ug()},xk=gm.ErrorCode=pg,Ek=gm.EventType=vg,Sk=gm.Event=ag,Ik=gm.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},_k=gm.FetchXmlHttpFactory=Tb,Tk=gm.WebChannel=gg,Ck=gm.XhrIo=Ob,Nk="@firebase/firestore",Rk=function(){function e(t){Ra(this,e),this.uid=t}return he(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Rk.UNAUTHENTICATED=new Rk(null),Rk.GOOGLE_CREDENTIALS=new Rk("google-credentials-uid"),Rk.FIRST_PARTY=new Rk("first-party-uid"),Rk.MOCK_USER=new Rk("mock-user");var Ak="9.6.10",Pk=new No("@firebase/firestore");function Dk(){return Pk.logLevel}function Ok(e){if(Pk.logLevel<=ko.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Fk);Pk.debug.apply(Pk,["Firestore (".concat(Ak,"): ").concat(e)].concat(fn(i)))}}function Lk(e){if(Pk.logLevel<=ko.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Fk);Pk.error.apply(Pk,["Firestore (".concat(Ak,"): ").concat(e)].concat(fn(i)))}}function Mk(e){if(Pk.logLevel<=ko.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Fk);Pk.warn.apply(Pk,["Firestore (".concat(Ak,"): ").concat(e)].concat(fn(i)))}}function Fk(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Vk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ak,") INTERNAL ASSERTION FAILED: ")+e;throw Lk(t),new Error(t)}function Uk(e,t){e||Vk()}function jk(e,t){return e}var zk={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Bk=function(e){Ea(n,e);var t=_a(n);function n(e,r){var i;return Ra(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return he(n)}(Ya),qk=he((function e(){var t=this;Ra(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Wk=he((function e(t,n){Ra(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Kk=function(){function e(){Ra(this,e)}return he(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Rk.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Gk=function(){function e(t){Ra(this,e),this.token=t,this.changeListener=null}return he(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Hk=function(){function e(t){Ra(this,e),this.t=t,this.currentUser=Rk.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return he(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new qk;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new qk,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Ok("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Ok("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qk)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ok("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Uk("string"==typeof n.accessToken),new Wk(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Uk(null===e||"string"==typeof e),new Rk(e)}}]),e}(),$k=he((function e(t,n,r){Ra(this,e),this.type="FirstParty",this.user=Rk.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Qk=function(){function e(t,n,r){Ra(this,e),this.h=t,this.l=n,this.m=r}return he(e,[{key:"getToken",value:function(){return Promise.resolve(new $k(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Rk.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Yk=he((function e(t){Ra(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Jk=function(){function e(t){Ra(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return he(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ok("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Ok("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ok("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Ok("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Uk("string"==typeof t.token),e.p=t.token,new Yk(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Xk=function(){function e(t,n){var r=this;Ra(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return he(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Zk(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Xk.A=-1;var ew=function(){function e(){Ra(this,e)}return he(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Zk(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function tw(e,t){return e<t?-1:e>t?1:0}function nw(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function rw(e){return e+"\0"}var iw=function(){function e(t,n){if(Ra(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Bk(zk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Bk(zk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Bk(zk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Bk(zk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return he(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?tw(this.nanoseconds,e.nanoseconds):tw(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),aw=function(){function e(t){Ra(this,e),this.timestamp=t}return he(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new iw(0,0))}},{key:"max",value:function(){return new e(new iw(253402300799,999999999))}}]),e}();function ow(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function uw(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function sw(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var cw=function(){function e(t,n,r){Ra(this,e),void 0===n?n=0:n>t.length&&Vk(),void 0===r?r=t.length-n:r>t.length-n&&Vk(),this.segments=t,this.offset=n,this.len=r}return he(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),lw=function(e){Ea(n,e);var t=_a(n);function n(){return Ra(this,n),t.apply(this,arguments)}return he(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Bk(zk.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,fn(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(cw),fw=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hw=function(e){Ea(n,e);var t=_a(n);function n(){return Ra(this,n),t.apply(this,arguments)}return he(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return fw.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Bk(zk.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Bk(zk.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Bk(zk.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Bk(zk.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(cw),dw=function(){function e(t){Ra(this,e),this.fields=t,t.sort(hw.comparator)}return he(e,[{key:"covers",value:function(e){var t,n=Ta(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return nw(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var pw=function(e){function t(e){Ra(this,t),this.binaryString=e}return he(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return tw(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();pw.EMPTY_BYTE_STRING=new pw("");var vw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mw(e){if(Uk(!!e),"string"==typeof e){var t=0,n=vw.exec(e);if(Uk(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:yw(e.seconds),nanos:yw(e.nanos)}}function yw(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function gw(e){return"string"==typeof e?pw.fromBase64String(e):pw.fromUint8Array(e)}function bw(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function kw(e){var t=e.mapValue.fields.__previous_value__;return bw(t)?kw(t):t}function ww(e){var t=mw(e.mapValue.fields.__local_write_time__.timestampValue);return new iw(t.seconds,t.nanos)}var xw=he((function e(t,n,r,i,a,o,u,s){Ra(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Ew=function(){function e(t,n){Ra(this,e),this.projectId=t,this.database=n||"(default)"}return he(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Sw(e){return null==e}function Iw(e){return 0===e&&1/e==-1/0}function _w(e){return"number"==typeof e&&Number.isInteger(e)&&!Iw(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Tw=function(){function e(t){Ra(this,e),this.path=t}return he(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===lw.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(lw.fromString(t))}},{key:"fromName",value:function(t){return new e(lw.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(lw.emptyPath())}},{key:"comparator",value:function(e,t){return lw.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new lw(t.slice()))}}]),e}(),Cw={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Nw={nullValue:"NULL_VALUE"};function Rw(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?bw(e)?4:Ww(e)?9:10:Vk()}function Aw(e,t){if(e===t)return!0;var n=Rw(e);if(n!==Rw(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ww(e).isEqual(ww(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=mw(e.timestampValue),r=mw(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return gw(e.bytesValue).isEqual(gw(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return yw(e.geoPointValue.latitude)===yw(t.geoPointValue.latitude)&&yw(e.geoPointValue.longitude)===yw(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return yw(e.integerValue)===yw(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=yw(e.doubleValue),r=yw(t.doubleValue);return n===r?Iw(n)===Iw(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return nw(e.arrayValue.values||[],t.arrayValue.values||[],Aw);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ow(n)!==ow(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Aw(n[i],r[i])))return!1;return!0}(e,t);default:return Vk()}}function Pw(e,t){return void 0!==(e.values||[]).find((function(e){return Aw(e,t)}))}function Dw(e,t){if(e===t)return 0;var n=Rw(e),r=Rw(t);if(n!==r)return tw(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tw(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=yw(e.integerValue||e.doubleValue),r=yw(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ow(e.timestampValue,t.timestampValue);case 4:return Ow(ww(e),ww(t));case 5:return tw(e.stringValue,t.stringValue);case 6:return function(e,t){var n=gw(e),r=gw(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=tw(n[i],r[i]);if(0!==a)return a}return tw(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=tw(yw(e.latitude),yw(t.latitude));return 0!==n?n:tw(yw(e.longitude),yw(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Dw(n[i],r[i]);if(a)return a}return tw(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=tw(r[o],a[o]);if(0!==u)return u;var s=Dw(n[r[o]],i[a[o]]);if(0!==s)return s}return tw(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Vk()}}function Ow(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return tw(e,t);var n=mw(e),r=mw(t),i=tw(n.seconds,r.seconds);return 0!==i?i:tw(n.nanos,r.nanos)}function Lw(e){return Mw(e)}function Mw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=mw(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?gw(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Tw.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Ta(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Mw(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Ta(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Mw(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Vk();var t,n}function Fw(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Vw(e){return!!e&&"integerValue"in e}function Uw(e){return!!e&&"arrayValue"in e}function jw(e){return!!e&&"nullValue"in e}function zw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Bw(e){return!!e&&"mapValue"in e}function qw(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return uw(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=qw(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=qw(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Ww(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Kw(e,t){return void 0===e?t:void 0===t||Dw(e,t)>0?e:t}function Gw(e,t){return void 0===e?t:void 0===t||Dw(e,t)<0?e:t}var Hw=function(){function e(t){Ra(this,e),this.value=t}return he(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Bw(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qw(t)}},{key:"setAll",value:function(e){var t=this,n=hw.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=qw(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Bw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Aw(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Bw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){uw(t,(function(t,n){return e[t]=n}));var r,i=Ta(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(qw(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function $w(e){var t=[];return uw(e.fields,(function(e,n){var r=new hw([e]);if(Bw(n)){var i=$w(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Ta(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new dw(t)}var Qw=function(){function e(t,n,r,i,a,o){Ra(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return he(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Hw.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Hw.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,aw.min(),aw.min(),Hw.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,aw.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,aw.min(),Hw.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,aw.min(),Hw.empty(),2)}}]),e}(),Yw=he((function e(t,n,r,i){Ra(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Jw(e){return e.fields.find((function(e){return 2===e.kind}))}function Xw(e){return e.fields.filter((function(e){return 2!==e.kind}))}Yw.UNKNOWN_ID=-1;var Zw=he((function e(t,n){Ra(this,e),this.fieldPath=t,this.kind=n})),ex=function(){function e(t,n){Ra(this,e),this.sequenceNumber=t,this.offset=n}return he(e,null,[{key:"empty",value:function(){return new e(0,rx.min())}}]),e}();function tx(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=aw.fromTimestamp(1e9===r?new iw(n+1,0):new iw(n,r));return new rx(i,Tw.empty(),t)}function nx(e){return new rx(e.readTime,e.key,-1)}var rx=function(){function e(t,n,r){Ra(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return he(e,null,[{key:"min",value:function(){return new e(aw.min(),Tw.empty(),-1)}},{key:"max",value:function(){return new e(aw.max(),Tw.empty(),-1)}}]),e}();function ix(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Tw.comparator(e.documentKey,t.documentKey))?n:tw(e.largestBatchId,t.largestBatchId)}var ax=he((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ra(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function ox(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new ax(e,t,n,r,i,a,o)}function ux(e){var t=jk(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Lw(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Sw(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Lw(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Lw(e)})).join(",")),t.P=n}return t.P}function sx(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!xx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Aw(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Sx(e.startAt,t.startAt)&&Sx(e.endAt,t.endAt)}function cx(e){return Tw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function lx(e,t){return e.filters.filter((function(e){return e instanceof fx&&e.field.isEqual(t)}))}var fx=function(e){Ea(n,e);var t=_a(n);function n(e,r,i){var a;return Ra(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return he(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Dw(t,this.value)):null!==t&&Rw(this.value)===Rw(t)&&this.v(Dw(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Vk()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new hx(e,t,r):"array-contains"===t?new mx(e,r):"in"===t?new yx(e,r):"not-in"===t?new gx(e,r):"array-contains-any"===t?new bx(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new dx(e,n):new px(e,n)}}]),n}(function(){return he((function e(){Ra(this,e)}))}()),hx=function(e){Ea(n,e);var t=_a(n);function n(e,r,i){var a;return Ra(this,n),(a=t.call(this,e,r,i)).key=Tw.fromName(i.referenceValue),a}return he(n,[{key:"matches",value:function(e){var t=Tw.comparator(e.key,this.key);return this.v(t)}}]),n}(fx),dx=function(e){Ea(n,e);var t=_a(n);function n(e,r){var i;return Ra(this,n),(i=t.call(this,e,"in",r)).keys=vx("in",r),i}return he(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(fx),px=function(e){Ea(n,e);var t=_a(n);function n(e,r){var i;return Ra(this,n),(i=t.call(this,e,"not-in",r)).keys=vx("not-in",r),i}return he(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(fx);function vx(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Tw.fromName(e.referenceValue)}))}var mx=function(e){Ea(n,e);var t=_a(n);function n(e,r){return Ra(this,n),t.call(this,e,"array-contains",r)}return he(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Uw(t)&&Pw(t.arrayValue,this.value)}}]),n}(fx),yx=function(e){Ea(n,e);var t=_a(n);function n(e,r){return Ra(this,n),t.call(this,e,"in",r)}return he(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Pw(this.value.arrayValue,t)}}]),n}(fx),gx=function(e){Ea(n,e);var t=_a(n);function n(e,r){return Ra(this,n),t.call(this,e,"not-in",r)}return he(n,[{key:"matches",value:function(e){if(Pw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Pw(this.value.arrayValue,t)}}]),n}(fx),bx=function(e){Ea(n,e);var t=_a(n);function n(e,r){return Ra(this,n),t.call(this,e,"array-contains-any",r)}return he(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Uw(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Pw(t.value.arrayValue,e)}))}}]),n}(fx),kx=he((function e(t,n){Ra(this,e),this.position=t,this.inclusive=n})),wx=he((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ra(this,e),this.field=t,this.dir=n}));function xx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ex(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Tw.comparator(Tw.fromName(o.referenceValue),n.key):Dw(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Sx(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Aw(e.position[n],t.position[n]))return!1;return!0}var Ix=he((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ra(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function _x(e,t,n,r,i,a,o,u){return new Ix(e,t,n,r,i,a,o,u)}function Tx(e){return new Ix(e)}function Cx(e){return!Sw(e.limit)&&"F"===e.limitType}function Nx(e){return!Sw(e.limit)&&"L"===e.limitType}function Rx(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ax(e){var t,n=Ta(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Px(e){return null!==e.collectionGroup}function Dx(e){var t=jk(e);if(null===t.D){t.D=[];var n=Ax(t),r=Rx(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new wx(n)),t.D.push(new wx(hw.keyField(),"asc"));else{var i,a=!1,o=Ta(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new wx(hw.keyField(),s))}}}return t.D}function Ox(e){var t=jk(e);if(!t.C)if("F"===t.limitType)t.C=ox(t.path,t.collectionGroup,Dx(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Ta(Dx(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new wx(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new kx(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new kx(t.startAt.position,!t.startAt.inclusive):null;t.C=ox(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Lx(e,t,n){return new Ix(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Mx(e,t){return sx(Ox(e),Ox(t))&&e.limitType===t.limitType}function Fx(e){return"".concat(ux(Ox(e)),"|lt:").concat(e.limitType)}function Vx(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Lw(t.value));var t})).join(", "),"]")),Sw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Lw(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Lw(e)})).join(",")),"Target(".concat(t,")")}(Ox(e)),"; limitType=").concat(e.limitType,")")}function Ux(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Tw.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Ta(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Ta(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Ex(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Dx(e),t))&&!(e.endAt&&!function(e,t,n){var r=Ex(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Dx(e),t))}(e,t)}function jx(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zx(e){return function(t,n){var r,i=!1,a=Ta(Dx(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Bx(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Bx(e,t,n){var r=e.field.isKeyField()?Tw.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Dw(r,i):Vk()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Vk()}}function qx(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Iw(t)?"-0":t}}function Wx(e){return{integerValue:""+e}}function Kx(e,t){return _w(t)?Wx(t):qx(e,t)}var Gx=he((function e(){Ra(this,e),this._=void 0}));function Hx(e,t,n){return e instanceof Yx?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Jx?Xx(e,t):e instanceof Zx?eE(e,t):function(e,t){var n=Qx(e,t),r=nE(n)+nE(e.k);return Vw(n)&&Vw(e.k)?Wx(r):qx(e.M,r)}(e,t)}function $x(e,t,n){return e instanceof Jx?Xx(e,t):e instanceof Zx?eE(e,t):n}function Qx(e,t){return e instanceof tE?Vw(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Yx=function(e){Ea(n,e);var t=_a(n);function n(){return Ra(this,n),t.apply(this,arguments)}return he(n)}(Gx),Jx=function(e){Ea(n,e);var t=_a(n);function n(e){var r;return Ra(this,n),(r=t.call(this)).elements=e,r}return he(n)}(Gx);function Xx(e,t){var n,r=rE(t),i=Ta(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Aw(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Zx=function(e){Ea(n,e);var t=_a(n);function n(e){var r;return Ra(this,n),(r=t.call(this)).elements=e,r}return he(n)}(Gx);function eE(e,t){var n,r=rE(t),i=Ta(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Aw(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var tE=function(e){Ea(n,e);var t=_a(n);function n(e,r){var i;return Ra(this,n),(i=t.call(this)).M=e,i.k=r,i}return he(n)}(Gx);function nE(e){return yw(e.integerValue||e.doubleValue)}function rE(e){return Uw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var iE=he((function e(t,n){Ra(this,e),this.field=t,this.transform=n}));var aE=he((function e(t,n){Ra(this,e),this.version=t,this.transformResults=n})),oE=function(){function e(t,n){Ra(this,e),this.updateTime=t,this.exists=n}return he(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function uE(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var sE=he((function e(){Ra(this,e)}));function cE(e,t,n){e instanceof pE?function(e,t,n){var r=e.value.clone(),i=yE(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof vE?function(e,t,n){if(uE(e.precondition,t)){var r=yE(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(mE(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function lE(e,t,n){e instanceof pE?function(e,t,n){if(uE(e.precondition,t)){var r=e.value.clone(),i=gE(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(dE(t),r).setHasLocalMutations()}}(e,t,n):e instanceof vE?function(e,t,n){if(uE(e.precondition,t)){var r=gE(e.fieldTransforms,n,t),i=t.data;i.setAll(mE(e)),i.setAll(r),t.convertToFoundDocument(dE(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){uE(e.precondition,t)&&t.convertToNoDocument(aw.min())}(e,t)}function fE(e,t){var n,r=null,i=Ta(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Qx(a.transform,o||null);null!=u&&(null==r&&(r=Hw.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function hE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&nw(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Jx&&t instanceof Jx||e instanceof Zx&&t instanceof Zx?nw(e.elements,t.elements,Aw):e instanceof tE&&t instanceof tE?Aw(e.k,t.k):e instanceof Yx&&t instanceof Yx}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function dE(e){return e.isFoundDocument()?e.version:aw.min()}var pE=function(e){Ea(n,e);var t=_a(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ra(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return he(n)}(sE),vE=function(e){Ea(n,e);var t=_a(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ra(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return he(n)}(sE);function mE(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function yE(e,t,n){var r=new Map;Uk(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,$x(o,u,n[i]))}return r}function gE(e,t,n){var r,i=new Map,a=Ta(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Hx(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var bE,kE,wE=function(e){Ea(n,e);var t=_a(n);function n(e,r){var i;return Ra(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return he(n)}(sE),xE=function(e){Ea(n,e);var t=_a(n);function n(e,r){var i;return Ra(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return he(n)}(sE),EE=he((function e(t){Ra(this,e),this.count=t}));function SE(e){switch(e){default:return Vk();case zk.CANCELLED:case zk.UNKNOWN:case zk.DEADLINE_EXCEEDED:case zk.RESOURCE_EXHAUSTED:case zk.INTERNAL:case zk.UNAVAILABLE:case zk.UNAUTHENTICATED:return!1;case zk.INVALID_ARGUMENT:case zk.NOT_FOUND:case zk.ALREADY_EXISTS:case zk.PERMISSION_DENIED:case zk.FAILED_PRECONDITION:case zk.ABORTED:case zk.OUT_OF_RANGE:case zk.UNIMPLEMENTED:case zk.DATA_LOSS:return!0}}function IE(e){if(void 0===e)return Lk("GRPC error has no .code"),zk.UNKNOWN;switch(e){case bE.OK:return zk.OK;case bE.CANCELLED:return zk.CANCELLED;case bE.UNKNOWN:return zk.UNKNOWN;case bE.DEADLINE_EXCEEDED:return zk.DEADLINE_EXCEEDED;case bE.RESOURCE_EXHAUSTED:return zk.RESOURCE_EXHAUSTED;case bE.INTERNAL:return zk.INTERNAL;case bE.UNAVAILABLE:return zk.UNAVAILABLE;case bE.UNAUTHENTICATED:return zk.UNAUTHENTICATED;case bE.INVALID_ARGUMENT:return zk.INVALID_ARGUMENT;case bE.NOT_FOUND:return zk.NOT_FOUND;case bE.ALREADY_EXISTS:return zk.ALREADY_EXISTS;case bE.PERMISSION_DENIED:return zk.PERMISSION_DENIED;case bE.FAILED_PRECONDITION:return zk.FAILED_PRECONDITION;case bE.ABORTED:return zk.ABORTED;case bE.OUT_OF_RANGE:return zk.OUT_OF_RANGE;case bE.UNIMPLEMENTED:return zk.UNIMPLEMENTED;case bE.DATA_LOSS:return zk.DATA_LOSS;default:return Vk()}}(kE=bE||(bE={}))[kE.OK=0]="OK",kE[kE.CANCELLED=1]="CANCELLED",kE[kE.UNKNOWN=2]="UNKNOWN",kE[kE.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kE[kE.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kE[kE.NOT_FOUND=5]="NOT_FOUND",kE[kE.ALREADY_EXISTS=6]="ALREADY_EXISTS",kE[kE.PERMISSION_DENIED=7]="PERMISSION_DENIED",kE[kE.UNAUTHENTICATED=16]="UNAUTHENTICATED",kE[kE.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kE[kE.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kE[kE.ABORTED=10]="ABORTED",kE[kE.OUT_OF_RANGE=11]="OUT_OF_RANGE",kE[kE.UNIMPLEMENTED=12]="UNIMPLEMENTED",kE[kE.INTERNAL=13]="INTERNAL",kE[kE.UNAVAILABLE=14]="UNAVAILABLE",kE[kE.DATA_LOSS=15]="DATA_LOSS";var _E=function(){function e(t,n){Ra(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return he(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Ta(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){uw(this.inner,(function(t,n){var r,i=Ta(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return sw(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),TE=function(){function e(t,n){Ra(this,e),this.comparator=t,this.root=n||NE.EMPTY}return he(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,NE.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,NE.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new CE(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new CE(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new CE(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new CE(this.root,e,this.comparator,!0)}}]),e}(),CE=function(){function e(t,n,r,i){Ra(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return he(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),NE=function(){function e(t,n,r,i,a){Ra(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return he(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Vk();if(this.right.isRed())throw Vk();var e=this.left.check();if(e!==this.right.check())throw Vk();return e+(this.isRed()?0:1)}}]),e}();NE.EMPTY=null,NE.RED=!0,NE.BLACK=!1,NE.EMPTY=new(function(){function e(){Ra(this,e),this.size=0}return he(e,[{key:"key",get:function(){throw Vk()}},{key:"value",get:function(){throw Vk()}},{key:"color",get:function(){throw Vk()}},{key:"left",get:function(){throw Vk()}},{key:"right",get:function(){throw Vk()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new NE(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var RE=function(){function e(t){Ra(this,e),this.comparator=t,this.data=new TE(this.comparator)}return he(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new AE(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new AE(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),AE=function(){function e(t){Ra(this,e),this.iter=t}return he(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function PE(e){return e.hasNext()?e.getNext():void 0}var DE=new TE(Tw.comparator);function OE(){return DE}var LE=new TE(Tw.comparator);function ME(){return LE}function FE(){return new _E((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var VE=new TE(Tw.comparator),UE=new RE(Tw.comparator);function jE(){for(var e=UE,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var zE=new RE(tw);function BE(){return zE}var qE=function(){function e(t,n,r,i,a){Ra(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return he(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,WE.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(aw.min(),r,BE(),OE(),jE())}}]),e}(),WE=function(){function e(t,n,r,i,a){Ra(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return he(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(pw.EMPTY_BYTE_STRING,n,jE(),jE(),jE())}}]),e}(),KE=he((function e(t,n,r,i){Ra(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),GE=he((function e(t,n){Ra(this,e),this.targetId=t,this.$=n})),HE=he((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pw.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ra(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),$E=function(){function e(){Ra(this,e),this.B=0,this.L=JE(),this.U=pw.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}return he(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"K",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.G}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}},{key:"H",value:function(){var e=jE(),t=jE(),n=jE();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Vk()}})),new WE(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.G=!1,this.L=JE()}},{key:"Y",value:function(e,t){this.G=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.G=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.G=!0,this.q=!0}}]),e}(),QE=function(){function e(t){Ra(this,e),this.nt=t,this.st=new Map,this.it=OE(),this.rt=YE(),this.ot=new RE(tw)}return he(e,[{key:"ut",value:function(e){var t,n=Ta(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=Ta(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Vk()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(cx(i))if(0===n){var a=new Tw(i.path);this.ct(t,a,Qw.newNoDocument(a,aw.min()))}else Uk(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&cx(a.target)){var o=new Tw(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Qw.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=jE();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new qE(e,n,this.ot,this.it,r);return this.it=OE(),this.rt=YE(),this.ot=new RE(tw),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new $E,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new RE(tw),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Ok("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new $E),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function YE(){return new TE(Tw.comparator)}function JE(){return new TE(Tw.comparator)}var XE={asc:"ASCENDING",desc:"DESCENDING"},ZE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eS=he((function e(t,n){Ra(this,e),this.databaseId=t,this.N=n}));function tS(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function nS(e,t){return e.N?t.toBase64():t.toUint8Array()}function rS(e,t){return tS(e,t.toTimestamp())}function iS(e){return Uk(!!e),aw.fromTimestamp(function(e){var t=mw(e);return new iw(t.seconds,t.nanos)}(e))}function aS(e,t){return function(e){return new lw(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function oS(e){var t=lw.fromString(e);return Uk(NS(t)),t}function uS(e,t){return aS(e.databaseId,t.path)}function sS(e,t){var n=oS(t);if(n.get(1)!==e.databaseId.projectId)throw new Bk(zk.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Bk(zk.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Tw(hS(n))}function cS(e,t){return aS(e.databaseId,t)}function lS(e){var t=oS(e);return 4===t.length?lw.emptyPath():hS(t)}function fS(e){return new lw(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hS(e){return Uk(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function dS(e,t,n){return{name:uS(e,t),fields:n.value.mapValue.fields}}function pS(e,t,n){var r=sS(e,t.name),i=iS(t.updateTime),a=new Hw({mapValue:{fields:t.fields}}),o=Qw.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function vS(e,t){return"found"in t?function(e,t){Uk(!!t.found),t.found.name,t.found.updateTime;var n=sS(e,t.found.name),r=iS(t.found.updateTime),i=new Hw({mapValue:{fields:t.found.fields}});return Qw.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Uk(!!t.missing),Uk(!!t.readTime);var n=sS(e,t.missing),r=iS(t.readTime);return Qw.newNoDocument(n,r)}(e,t):Vk()}function mS(e,t){var n;if(t instanceof pE)n={update:dS(e,t.key,t.value)};else if(t instanceof wE)n={delete:uS(e,t.key)};else if(t instanceof vE)n={update:dS(e,t.key,t.data),updateMask:CS(t.fieldMask)};else{if(!(t instanceof xE))return Vk();n={verify:uS(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Yx)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Jx)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Zx)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof tE)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Vk()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:rS(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Vk()}(e,t.precondition)),n}function yS(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?oE.updateTime(iS(e.updateTime)):void 0!==e.exists?oE.exists(e.exists):oE.none()}(t.currentDocument):oE.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Uk("REQUEST_TIME"===t.setToServerValue),n=new Yx;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Jx(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Zx(i)}else"increment"in t?n=new tE(e,t.increment):Vk();var a=hw.fromServerFormat(t.fieldPath);return new iE(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=sS(e,t.update.name),a=new Hw({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new dw(t.map((function(e){return hw.fromServerFormat(e)})))}(t.updateMask);return new vE(i,a,o,n,r)}return new pE(i,a,n,r)}if(t.delete){var u=sS(e,t.delete);return new wE(u,n)}if(t.verify){var s=sS(e,t.verify);return new xE(s,n)}return Vk()}function gS(e,t){return{documents:[cS(e,t.path)]}}function bS(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=cS(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=cS(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(zw(e.value))return{unaryFilter:{field:SS(e.field),op:"IS_NAN"}};if(jw(e.value))return{unaryFilter:{field:SS(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zw(e.value))return{unaryFilter:{field:SS(e.field),op:"IS_NOT_NAN"}};if(jw(e.value))return{unaryFilter:{field:SS(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:SS(e.field),op:ES(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:SS(e.field),direction:xS(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||Sw(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function kS(e){var t=lS(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Uk(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=wS(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new wx(IS(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Sw(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new kx(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new kx(n,t)}(n.endAt)),_x(t,i,u,o,s,"F",c,l)}function wS(e){return e?void 0!==e.unaryFilter?[TS(e)]:void 0!==e.fieldFilter?[_S(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return wS(e)})).reduce((function(e,t){return e.concat(t)})):Vk():[]}function xS(e){return XE[e]}function ES(e){return ZE[e]}function SS(e){return{fieldPath:e.canonicalString()}}function IS(e){return hw.fromServerFormat(e.fieldPath)}function _S(e){return fx.create(IS(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Vk()}}(e.fieldFilter.op),e.fieldFilter.value)}function TS(e){switch(e.unaryFilter.op){case"IS_NAN":var t=IS(e.unaryFilter.field);return fx.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=IS(e.unaryFilter.field);return fx.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=IS(e.unaryFilter.field);return fx.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=IS(e.unaryFilter.field);return fx.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Vk()}}function CS(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function NS(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function RS(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=PS(t)),t=AS(e.get(n),t);return PS(t)}function AS(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function PS(e){return e+"\x01\x01"}function DS(e){var t=e.length;if(Uk(t>=2),2===t)return Uk("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),lw.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Vk(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Vk()}a=o+2}return new lw(r)}var OS=["userId","batchId"];function LS(e,t){return[e,RS(t)]}function MS(e,t,n){return[e,RS(t),n]}var FS={},VS=["prefixPath","collectionGroup","readTime","documentId"],US=["prefixPath","collectionGroup","documentId"],jS=["collectionGroup","readTime","prefixPath","documentId"],zS=["canonicalId","targetId"],BS=["targetId","path"],qS=["path","targetId"],WS=["collectionId","parent"],KS=["indexId","uid"],GS=["uid","sequenceNumber"],HS=["indexId","uid","arrayValue","directionalValue","documentKey"],$S=["indexId","uid","documentKey"],QS=["userId","collectionPath","documentId"],YS=["userId","collectionPath","largestBatchId"],JS=["userId","collectionGroup","largestBatchId"],XS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),ZS=[].concat(fn(XS),["documentOverlays"]),eI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],tI=[].concat(eI,["indexConfiguration","indexState","indexEntries"]),nI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rI=function(){function e(){Ra(this,e),this.onCommittedListeners=[]}return he(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),iI=function(){function e(t){var n=this;Ra(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return he(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Vk(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Ta(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),aI=function(){function e(t,n){var r=this;Ra(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new qk,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new sI(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=dI(e.target.error);r.At.reject(new sI(t,n))}}return he(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Ok("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new lI(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new sI(n,t)}}}]),e}(),oI=function(){function e(t,n,r){Ra(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(qa())&&Lk("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return he(e,[{key:"Nt",value:function(){var e=Na(Pa().mark((function e(t){var n=this;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Ok("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new sI(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Bk(zk.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Bk(zk.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new sI(t,n))},i.onupgradeneeded=function(e){Ok("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Ok("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Na(Pa().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Pa().mark((function e(){var n,o;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=aI.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),iI.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Ok("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Ok("SimpleDb","Removing database:",e),fI(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!Qa())return!1;if(e.St())return!0;var t=qa(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/react_task_3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),uI=function(){function e(t){Ra(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return he(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return fI(this.Ft.delete())}}]),e}(),sI=function(e){Ea(n,e);var t=_a(n);function n(e,r){var i;return Ra(this,n),(i=t.call(this,zk.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return he(n)}(Bk);function cI(e){return"IndexedDbTransactionError"===e.name}var lI=function(){function e(t){Ra(this,e),this.store=t}return he(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Ok("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ok("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),fI(n)}},{key:"add",value:function(e){return Ok("SimpleDb","ADD",this.store.name,e,e),fI(this.store.add(e))}},{key:"get",value:function(e){var t=this;return fI(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ok("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Ok("SimpleDb","DELETE",this.store.name,e),fI(this.store.delete(e))}},{key:"count",value:function(){return Ok("SimpleDb","COUNT",this.store.name),fI(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Gt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new iI((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Kt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new iI((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Ok("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Gt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Gt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new iI((function(n,r){t.onerror=function(e){var t=dI(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Gt",value:function(e,t){var n=[];return new iI((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new uI(i),o=t(i.primaryKey,i.value,a);if(o instanceof iI){var u=o.catch((function(e){return a.done(),iI.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return iI.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function fI(e){return new iI((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=dI(e.target.error);n(t)}}))}var hI=!1;function dI(e){var t=oI.Vt(qa());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Bk("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return hI||(hI=!0,setTimeout((function(){throw r}),0)),r}}return e}var pI=function(e){Ea(n,e);var t=_a(n);function n(e,r){var i;return Ra(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return he(n)}(rI);function vI(e,t){var n=jk(e);return oI.xt(n.Ht,t)}var mI=function(){function e(t,n,r,i){Ra(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return he(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&cE(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Ta(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&lE(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=Ta(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&lE(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(aw.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),jE())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&nw(this.mutations,e.mutations,(function(e,t){return hE(e,t)}))&&nw(this.baseMutations,e.baseMutations,(function(e,t){return hE(e,t)}))}}]),e}(),yI=function(){function e(t,n,r,i){Ra(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return he(e,null,[{key:"from",value:function(t,n,r){Uk(t.mutations.length===r.length);for(var i=VE,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),gI=function(){function e(t,n){Ra(this,e),this.largestBatchId=t,this.mutation=n}return he(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),bI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:aw.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:aw.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:pw.EMPTY_BYTE_STRING;Ra(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return he(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),kI=he((function e(t){Ra(this,e),this.Jt=t}));function wI(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:xI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:uS(e,t.key),fields:t.data.value.mapValue.fields,updateTime:tS(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:EI(t.version)};else{if(!t.isUnknownDocument())return Vk();r.unknownDocument={path:n.path.toArray(),version:EI(t.version)}}return r}function xI(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function EI(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function SI(e){var t=new iw(e.seconds,e.nanoseconds);return aw.fromTimestamp(t)}function II(e,t){for(var n=(t.baseMutations||[]).map((function(t){return yS(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return yS(e.Jt,t)})),u=iw.fromMillis(t.localWriteTimeMs);return new mI(t.batchId,u,n,o)}function _I(e){var t,n,r=SI(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?SI(e.lastLimboFreeSnapshotVersion):aw.min();return void 0!==e.query.documents?(Uk(1===(n=e.query).documents.length),t=Ox(Tx(lS(n.documents[0])))):t=function(e){return Ox(kS(e))}(e.query),new bI(t,e.targetId,0,e.lastListenSequenceNumber,r,i,pw.fromBase64String(e.resumeToken))}function TI(e,t){var n,r=EI(t.snapshotVersion),i=EI(t.lastLimboFreeSnapshotVersion);n=cx(t.target)?gS(e.Jt,t.target):bS(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ux(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function CI(e){var t=kS({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Lx(t,t.limit,"L"):t}function NI(e,t){return new gI(t.largestBatchId,yS(e.Jt,t.overlayMutation))}function RI(e,t){var n=t.path.lastSegment();return[e,RS(t.path.popLast()),n]}var AI=function(){function e(){Ra(this,e)}return he(e,[{key:"getBundleMetadata",value:function(e,t){return PI(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:SI(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return PI(e).put({bundleId:(n=t).id,createTime:EI(iS(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return DI(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:CI(t.bundledQuery),readTime:SI(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return DI(e).put(function(e){return{name:e.name,readTime:EI(iS(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function PI(e){return vI(e,"bundles")}function DI(e){return vI(e,"namedQueries")}var OI=function(){function e(t,n){Ra(this,e),this.M=t,this.userId=n}return he(e,[{key:"getOverlay",value:function(e,t){var n=this;return LI(e).get(RI(this.userId,t)).next((function(e){return e?NI(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new gI(t,a);i.push(r.Xt(e,o))})),iI.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(RS(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(LI(e).Qt("collectionPathOverlayIndex",i))})),iI.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=FE(),a=RS(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return LI(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=Ta(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=NI(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=FE(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return LI(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=NI(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return LI(e).put(function(e,t,n){var r=l(RI(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:mS(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function LI(e){return vI(e,"documentOverlays")}var MI=function(){function e(){Ra(this,e)}return he(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(yw(e.integerValue));else if("doubleValue"in e){var n=yw(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Iw(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(gw(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Ww(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Vk()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=Ta(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),Tw.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function FI(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function VI(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=FI(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}MI.fe=new MI;var UI=function(){function e(){Ra(this,e),this.buffer=new Uint8Array(1024),this.position=0}return he(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=Ta(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=Ta(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=VI(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=VI(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),jI=function(){function e(t){Ra(this,e),this.De=t}return he(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),zI=function(){function e(t){Ra(this,e),this.De=t}return he(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),BI=function(){function e(){Ra(this,e),this.De=new UI,this.Ce=new jI(this.De),this.xe=new zI(this.De)}return he(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),qI=function(){function e(t,n,r,i){Ra(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return he(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function WI(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=KI(e.arrayValue,t.arrayValue))?n:0!==(n=KI(e.directionalValue,t.directionalValue))?n:Tw.comparator(e.documentKey,t.documentKey)}function KI(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var GI=function(){function e(t){Ra(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=Ta(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return he(e,[{key:"$e",value:function(e){var t=Jw(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Xw(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=Ta(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),HI=function(){function e(){Ra(this,e),this.qe=new $I}return he(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),iI.resolve()}},{key:"getCollectionParents",value:function(e,t){return iI.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return iI.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return iI.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return iI.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return iI.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return iI.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return iI.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return iI.resolve()}},{key:"updateIndexEntries",value:function(e,t){return iI.resolve()}}]),e}(),$I=function(){function e(){Ra(this,e),this.index={}}return he(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new RE(lw.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new RE(lw.comparator)).toArray()}}]),e}(),QI=new Uint8Array(0),YI=function(){function e(t){Ra(this,e),this.user=t,this.Ge=new $I,this.Ke=new _E((function(e){return ux(e)}),(function(e,t){return sx(e,t)})),this.uid=t.uid||""}return he(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ge.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ge.add(t)}));var a={collectionId:r,parent:RS(i)};return JI(e).put(a)}return iI.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[rw(t),""],!1,!0);return JI(e).qt(r).next((function(e){var r,i=Ta(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(DS(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=ZI(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=ZI(e),r=e_(e),i=XI(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=XI(e),i=!0,a=new Map;return iI.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=jE();return iI.forEach(a,(function(i,a){var o;Ok("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(ux(t)));var u=function(e,t){var n=Jw(t);if(void 0===n)return null;var r,i=Ta(lx(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=Ta(Xw(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Ta(lx(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=Ta(Xw(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=Ta(lx(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case"<":case"<=":d="nullValue"in(r=h.value)?Nw:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Fw(Ew.empty(),Tw.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Vk();break;case"==":case"in":case">=":d=h.value;break;case">":d=h.value,p=!1;break;case"!=":case"not-in":d=Nw}Kw(c,d)===d&&(c=d,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.startAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.startAt.position[v];Kw(c,m)===m&&(c=m,l=e.startAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new kx(i,a)}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=Ta(Xw(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=Ta(lx(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case">=":case">":d="nullValue"in(r=h.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Fw(Ew.empty(),Tw.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Cw:Vk(),p=!1;break;case"==":case"in":case"<=":d=h.value;break;case"<":d=h.value,p=!1;break;case"!=":case"not-in":d=Cw}Gw(c,d)===d&&(c=d,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.endAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.endAt.position[v];Gw(c,m)===m&&(c=m,l=e.endAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new kx(i,a)}(a,i),f=n.je(i,a,c),h=n.je(i,a,l),d=n.We(i,a,s),p=n.ze(i.indexId,u,f,!!c&&c.inclusive,h,!!l&&l.inclusive,d);return iI.forEach(p,(function(n){return r.Kt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new Tw(DS(t.documentKey)))}))}))}))})).next((function(){return e}))}return iI.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):QI,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,fn(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new qI(e,Tw.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new qI(e,Tw.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new qI(e,Tw.empty(),QI,QI)}},{key:"getFieldIndex",value:function(e,t){var n=new GI(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new BI,i=Ta(Xw(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);MI.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new BI;return MI.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new BI);var i,a=0,o=Ta(Xw(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Ta(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.tn(t,s.fieldPath)&&Uw(c))r=this.en(r,s,c);else{var h=f.Ne(s.kind);MI.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=fn(e),a=[],o=Ta(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Ta(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new BI;f.seed(l.Se()),MI.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof fx&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=ZI(e),i=e_(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return iI.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ex(t.sequenceNumber,new rx(SI(t.readTime),new Tw(DS(t.documentKey)),t.largestBatchId)):ex.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new Zw(hw.fromServerFormat(n),r)}));return new Yw(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:tw(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=ZI(e),a=e_(e);return this.sn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return iI.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:EI(r.readTime),documentKey:RS(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return iI.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?iI.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),iI.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?iI.resolve():n.un(e,i,t,a)}))}))}))}))}},{key:"an",value:function(e,t,n){return XI(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:RS(t.key.path)})}},{key:"cn",value:function(e,t,n){return XI(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,RS(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=XI(e),i=new RE(WI);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,RS(t.path)])},(function(e,r){i=i.add(new qI(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new RE(WI),r=this.Ze(t,e);if(null==r)return n;var i=Jw(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Uw(a)){var o,u=Ta(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new qI(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new qI(t.indexId,e.key,QI,r));return n}},{key:"un",value:function(e,t,n,r){var i=this;Ok("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=PE(a),s=PE(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=PE(o)):l?(i(u),u=PE(a)):(u=PE(a),s=PE(o))}}(n,r,WI,(function(n){a.push(i.an(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),iI.waitFor(a)}},{key:"sn",value:function(e){var t=1;return e_(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return WI(e,t)})).filter((function(e,t,n){return!t||0!==WI(e,n[t-1])}));var r=[];r.push(e);var i,a=Ta(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=WI(o,e),s=WI(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,""],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,""]));return c}}]),e}();function JI(e){return vI(e,"collectionParents")}function XI(e){return vI(e,"indexEntries")}function ZI(e){return vI(e,"indexConfiguration")}function e_(e){return vI(e,"indexState")}var t_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},n_=function(){function e(t,n,r){Ra(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return he(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function r_(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Uk(1===u)})));var c,l=[],f=Ta(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=MS(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return iI.waitFor(a).next((function(){return l}))}function i_(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Vk();t=e.noDocument}return JSON.stringify(t).length}n_.DEFAULT_COLLECTION_PERCENTILE=10,n_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,n_.DEFAULT=new n_(41943040,n_.DEFAULT_COLLECTION_PERCENTILE,n_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),n_.DISABLED=new n_(-1,0,0);var a_=function(){function e(t,n,r,i){Ra(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return he(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return u_(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=s_(e),o=u_(e);return o.add({}).next((function(u){Uk("number"==typeof u);var s,c=new mI(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return mS(e.Jt,t)})),i=n.mutations.map((function(t){return mS(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new RE((function(e,t){return tw(e.canonicalString(),t.canonicalString())})),d=Ta(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=MS(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,FS))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[u]=c.keys()})),iI.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return u_(e).get(t).next((function(e){return e?(Uk(e.userId===n.userId),II(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?iI.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return u_(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Uk(t.batchId>=r),a=II(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return u_(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return u_(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return II(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=LS(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return s_(e).Wt({range:i},(function(r,i,o){var u=l(r,3),s=u[0],c=u[1],f=u[2],h=DS(c);if(s===n.userId&&t.path.isEqual(h))return u_(e).get(f).next((function(e){if(!e)throw Vk();Uk(e.userId===n.userId),a.push(II(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new RE(tw),i=[];return t.forEach((function(t){var a=LS(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=s_(e).Wt({range:o},(function(e,i,a){var o=l(e,3),u=o[0],s=o[1],c=o[2],f=DS(s);u===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(u)})),iI.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=LS(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new RE(tw);return s_(e).Wt({range:o},(function(e,t,a){var o=l(e,3),s=o[0],c=o[1],f=o[2],h=DS(c);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.fn(e,u)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(u_(e).get(t).next((function(e){if(null===e)throw Vk();Uk(e.userId===n.userId),r.push(II(n.M,e))})))})),iI.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return r_(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),iI.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return iI.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return s_(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=DS(e[1]);i.push(a)}else r.done()})).next((function(){Uk(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return o_(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return c_(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Uk(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function o_(e,t,n){var r=LS(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return s_(e).Wt({range:a,jt:!0},(function(e,n,r){var a=l(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function u_(e){return vI(e,"mutations")}function s_(e){return vI(e,"documentMutations")}function c_(e){return vI(e,"mutationQueues")}var l_=function(){function e(t){Ra(this,e),this.wn=t}return he(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),f_=function(){function e(t,n){Ra(this,e),this.referenceDelegate=t,this.M=n}return he(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new l_(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return aw.fromTimestamp(new iw(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return h_(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return Uk(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return h_(e).Wt((function(o,u){var s=_I(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return iI.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return h_(e).Wt((function(e,n){var r=_I(n);t(r)}))}},{key:"yn",value:function(e){return d_(e).get("targetGlobalKey").next((function(e){return Uk(null!==e),e}))}},{key:"pn",value:function(e,t){return d_(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return h_(e).put(TI(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=ux(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return h_(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=_I(n);sx(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=p_(e);return t.forEach((function(t){var o=RS(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),iI.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=p_(e);return iI.forEach(t,(function(t){var a=RS(t.path);return iI.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=p_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=p_(e),i=jE();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=DS(e[1]),a=new Tw(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=RS(t.path),r=IDBKeyRange.bound([n],[rw(n)],!1,!0),i=0;return p_(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return h_(e).get(t).next((function(e){return e?_I(e):null}))}}]),e}();function h_(e){return vI(e,"targets")}function d_(e){return vI(e,"targetGlobal")}function p_(e){return vI(e,"targetDocuments")}function v_(e){return m_.apply(this,arguments)}function m_(){return m_=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===zk.FAILED_PRECONDITION&&t.message===nI){e.next=2;break}throw t;case 2:Ok("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),m_.apply(this,arguments)}function y_(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],u=a[1],s=tw(r,o);return 0===s?tw(i,u):s}var g_=function(){function e(t){Ra(this,e),this.En=t,this.buffer=new RE(y_),this.An=0}return he(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();y_(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),b_=function(){function e(t,n){Ra(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return he(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;Ok("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Na(Pa().mark((function n(){return Pa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!cI(n.t0)){n.next=12;break}Ok("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,v_(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),k_=function(){function e(t,n){Ra(this,e),this.Sn=t,this.params=n}return he(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return iI.resolve(Xk.A);var r=new g_(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ok("LruGarbageCollector","Garbage collection skipped; disabled"),iI.resolve(t_)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ok("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),t_):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ok("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Dk()<=ko.DEBUG&&Ok("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),iI.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),w_=function(){function e(t,n){Ra(this,e),this.db=t,this.garbageCollector=function(e,t){return new k_(e,t)}(this,n)}return he(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return x_(e,n)}},{key:"removeReference",value:function(e,t,n){return x_(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return x_(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return c_(e).zt((function(r){return o_(e,r,t).next((function(e){return e&&(n=!0),iI.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,u){if(u<=t){var s=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,aw.min()),p_(e).delete([0,RS(o.path)])}))}));i.push(s)}})).next((function(){return iI.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return x_(e,t)}},{key:"kn",value:function(e,t){var n,r=p_(e),i=Xk.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Xk.A&&t(new Tw(DS(n)),i),i=s,n=u):i=Xk.A})).next((function(){i!==Xk.A&&t(new Tw(DS(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function x_(e,t){return p_(e).put(function(e,t){return{targetId:0,path:RS(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var E_=function(){function e(){Ra(this,e),this.changes=new _E((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return he(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Qw.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?iI.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),S_=function(){function e(t){Ra(this,e),this.M=t}return he(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return T_(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return T_(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],xI(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Qw.newInvalidDocument(t);return T_(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(C_(t))},(function(e,i){r=n.Fn(t,i)})).next((function(){return r}))}},{key:"$n",value:function(e,t){var n=this,r={size:0,document:Qw.newInvalidDocument(t)};return T_(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(C_(t))},(function(e,i){r={document:n.Fn(t,i),size:i_(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=OE();return this.Bn(e,t,(function(e,t){var i=n.Fn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=OE(),i=new TE(Tw.comparator);return this.Bn(e,t,(function(e,t){var a=n.Fn(e,t);r=r.insert(e,a),i=i.insert(e,i_(t))})).next((function(){return{documents:r,Un:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return iI.resolve();var r=new RE(R_);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(C_(r.first()),C_(r.last())),a=r.getIterator(),o=a.getNext();return T_(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Tw.fromSegments([].concat(fn(t.prefixPath),[t.collectionGroup,t.documentId]));o&&R_(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(C_(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),xI(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return T_(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=OE(),i=Ta(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Fn(Tw.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=OE(),o=N_(t,n),u=N_(t,rx.max());return T_(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Fn(Tw.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new I_(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return __(e).get("remoteDocumentGlobalKey").next((function(e){return Uk(!!e),e}))}},{key:"On",value:function(e,t){return __(e).put("remoteDocumentGlobalKey",t)}},{key:"Fn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=pS(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Tw.fromSegments(t.noDocument.path),i=SI(t.noDocument.readTime);n=Qw.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Vk();var a=Tw.fromSegments(t.unknownDocument.path),o=SI(t.unknownDocument.version);n=Qw.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new iw(e[0],e[1]);return aw.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(aw.min()))return n}return Qw.newInvalidDocument(e)}}]),e}(),I_=function(e){Ea(n,e);var t=_a(n);function n(e,r){var i;return Ra(this,n),(i=t.call(this)).qn=e,i.trackRemovals=r,i.Gn=new _E((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return he(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new RE((function(e,t){return tw(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.qn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=wI(t.qn.M,o);i=i.add(a.path.popLast());var c=i_(s);r+=c-u.size,n.push(t.qn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=wI(t.qn.M,o.convertToNoDocument(aw.min()));n.push(t.qn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.qn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.qn.updateMetadata(e,r)),iI.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.qn.$n(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.qn.Ln(e,t).next((function(e){var t=e.documents;return e.Un.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(E_);function __(e){return vI(e,"remoteDocumentGlobal")}function T_(e){return vI(e,"remoteDocumentsV14")}function C_(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function N_(e,t){var n=t.documentKey.path.toArray();return[e,xI(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function R_(e,t){var n=e.path.length-t.path.length;return 0!==n?n:Tw.comparator(e,t)}var A_=function(){function e(t){Ra(this,e),this.M=t}return he(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new aI("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",OS,{unique:!0}),e.createObjectStore("documentMutations")}(e),P_(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=iI.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),P_(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:aw.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",OS,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return iI.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Kn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:QS});t.createIndex("collectionPathOverlayIndex",YS,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",JS,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:VS});t.createIndex("documentKeyIndex",US),t.createIndex("collectionGroupIndex",jS)}(e)})).next((function(){return i.Hn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:KS}).createIndex("sequenceNumberIndex",GS,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:HS}).createIndex("documentKeyIndex",$S,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=i_(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Kn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return iI.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return iI.forEach(r,(function(r){Uk(r.userId===n.userId);var i=II(t.M,r);return r_(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new lw(n),o=function(e){return[0,RS(e)]}(a);r.push(t.get(o).next((function(n){return n?iI.resolve():function(n){return t.put({targetId:0,path:RS(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return iI.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:WS});var n=t.store("collectionParents"),r=new $I,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:RS(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new lw(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],DS(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=_I(r),a=TI(t.M,i);return n.put(a)}))}},{key:"Hn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Tw(lw.fromString(i.document.name).popFirst(5)):i.noDocument?Tw.fromSegments(i.noDocument.path):i.unknownDocument?Tw.fromSegments(i.unknownDocument.path):Vk()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return iI.waitFor(r)}))}}]),e}();function P_(e){e.createObjectStore("targetDocuments",{keyPath:BS}).createIndex("documentTargetsIndex",qS,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",zS,{unique:!0}),e.createObjectStore("targetGlobal")}var D_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",O_=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(Ra(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Jn=a,this.window=o,this.document=u,this.Yn=c,this.Xn=l,this.Zn=f,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=function(e){return Promise.resolve()},!e.vt())throw new Bk(zk.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new w_(this,i),this.cs=n+"main",this.M=new kI(s),this.hs=new oI(this.cs,this.Zn,new A_(this.M)),this.ls=new f_(this.referenceDelegate,this.M),this.fs=function(e){return new S_(e)}(this.M),this.ds=new AI,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===l&&Lk("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return he(e,[{key:"start",value:function(){var e=this;return this.ws().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Bk(zk.FAILED_PRECONDITION,D_);return e.gs(),e.ys(),e.ps(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ls.getHighestSequenceNumber(t)}))})).then((function(t){e.ts=new Xk(t,e.Yn)})).then((function(){e.es=!0})).catch((function(t){return e.hs&&e.hs.close(),Promise.reject(t)}))}},{key:"Is",value:function(e){var t=this;return this.us=function(){var n=Na(Pa().mark((function n(r){return Pa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.hs.Ot(function(){var t=Na(Pa().mark((function t(n){return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget(Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ws();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ws",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return M_(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ts(t).next((function(t){t||(e.isPrimary=!1,e.Jn.enqueueRetryable((function(){return e.us(!1)})))}))})).next((function(){return e.Es(t)})).next((function(n){return e.isPrimary&&!n?e.As(t).next((function(){return!1})):!!n&&e.Rs(t).next((function(){return!0}))}))})).catch((function(t){if(cI(t))return Ok("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ok("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Jn.enqueueRetryable((function(){return e.us(t)})),e.isPrimary=t}))}},{key:"Ts",value:function(e){var t=this;return L_(e).get("owner").next((function(e){return iI.resolve(t.bs(e))}))}},{key:"Ps",value:function(e){return M_(e).delete(this.clientId)}},{key:"Vs",value:function(){var e=Na(Pa().mark((function e(){var t,n,r,i,a=this;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vs(this.os,18e5)){e.next=6;break}return this.os=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=vI(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ss(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return iI.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._s){n=Ta(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._s.removeItem(this.Ds(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ps",value:function(){var e=this;this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ws().then((function(){return e.Vs()})).then((function(){return e.ps()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Es",value:function(e){var t=this;return this.Xn?iI.resolve(!0):L_(e).get("owner").next((function(n){if(null!==n&&t.vs(n.leaseTimestampMs,5e3)&&!t.Cs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new Bk(zk.FAILED_PRECONDITION,D_);return!1}}return!(!t.networkEnabled||!t.inForeground)||M_(e).qt().next((function(e){return void 0===t.Ss(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ok("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Na(Pa().mark((function e(){var t=this;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.es=!1,this.xs(),this.rs&&(this.rs.cancel(),this.rs=null),this.Ns(),this.ks(),e.next=7,this.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new pI(e,Xk.A);return t.As(n).next((function(){return t.Ps(n)}))}));case 7:this.hs.close(),this.Ms();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ss",value:function(e,t){var n=this;return e.filter((function(e){return n.vs(e.updateTimeMs,t)&&!n.Cs(e.clientId)}))}},{key:"Os",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return M_(t).qt().next((function(t){return e.Ss(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.es}},{key:"getMutationQueue",value:function(e,t){return a_.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getIndexManager",value:function(e){return new YI(e)}},{key:"getDocumentOverlayCache",value:function(e){return OI.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Ok("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.Zn)?tI:13===i?eI:12===i?ZS:11===i?XS:void Vk();return this.hs.runTransaction(e,o,u,(function(i){return a=new pI(i,r.ts?r.ts.next():Xk.A),"readwrite-primary"===t?r.Ts(a).next((function(e){return!!e||r.Es(a)})).next((function(t){if(!t)throw Lk("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Jn.enqueueRetryable((function(){return r.us(!1)})),new Bk(zk.FAILED_PRECONDITION,nI);return n(a)})).next((function(e){return r.Rs(a).next((function(){return e}))})):r.Fs(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e){var t=this;return L_(e).get("owner").next((function(e){if(null!==e&&t.vs(e.leaseTimestampMs,5e3)&&!t.Cs(e.ownerId)&&!t.bs(e)&&!(t.Xn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Bk(zk.FAILED_PRECONDITION,D_)}))}},{key:"Rs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return L_(e).put("owner",t)}},{key:"As",value:function(e){var t=this,n=L_(e);return n.get("owner").next((function(e){return t.bs(e)?(Ok("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):iI.resolve()}))}},{key:"vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Lk("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gs",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=function(){e.Jn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ws()}))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ns",value:function(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}},{key:"ys",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=function(){t.xs(),!Ka()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Jn.enterRestrictedMode(!0),t.Jn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ns))}},{key:"ks",value:function(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}},{key:"Cs",value:function(e){var t;try{var n=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Ok("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Lk("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xs",value:function(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(Rm){Lk("Failed to set zombie client id.",Rm)}}},{key:"Ms",value:function(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(Rm){}}},{key:"Ds",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return oI.vt()}}]),e}();function L_(e){return vI(e,"owner")}function M_(e){return vI(e,"clientMetadata")}function F_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var V_=function(){function e(t,n,r){Ra(this,e),this.fs=t,this.$s=n,this.indexManager=r}return he(e,[{key:"Bs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.fs.getEntry(e,t).next((function(e){var t,r=Ta(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Us",value:function(e,t){e.forEach((function(e,n){var r,i=Ta(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"qs",value:function(e,t){var n=this;return this.fs.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Us(t,e)}))}},{key:"Ks",value:function(e,t,n){return function(e){return Tw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):Px(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new Tw(t)).next((function(e){var t=ME();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=ME();return this.indexManager.getCollectionParents(e,i).next((function(o){return iI.forEach(o,(function(o){var u=function(e,t){return new Ix(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.fs.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.$s.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=Ta(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=Ta(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Qw.newInvalidDocument(s),r=r.insert(s,c)),lE(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Ux(t,n)||(r=r.remove(e))})),r}))}}]),e}(),U_=function(){function e(t,n,r,i){Ra(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return he(e,null,[{key:"Js",value:function(t,n){var r,i=jE(),a=jE(),o=Ta(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),j_=function(){function e(){Ra(this,e)}return he(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Ks",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(aw.min())?this.Zs(e,t):this.Xs.qs(e,r).next((function(a){var o=i.ti(t,a);return(Cx(t)||Nx(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(Dk()<=ko.DEBUG&&Ok("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Vx(t)),i.Xs.Ks(e,t,tx(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new RE(zx(e));return t.forEach((function(t,r){Ux(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return Dk()<=ko.DEBUG&&Ok("QueryEngine","Using full collection scan to execute query:",Vx(t)),this.Xs.Ks(e,t,rx.min())}}]),e}(),z_=function(){function e(t,n,r,i){Ra(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new TE(tw),this.ii=new _E((function(e){return ux(e)}),sx),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(r)}return he(e,[{key:"ui",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new V_(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function B_(e,t,n,r){return new z_(e,t,n,r)}function q_(e,t){return W_.apply(this,arguments)}function W_(){return W_=Na(Pa().mark((function e(t,n){var r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jk(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.$s.getAllMutationBatches(e).next((function(i){return t=i,r.ui(n),r.$s.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=jE(),s=Ta(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Ta(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,p=Ta(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Ta(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.ai.qs(e,u).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),W_.apply(this,arguments)}function K_(e,t){var n=jk(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=iI.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Uk(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.$s.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}function G_(e){var t=jk(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ls.getLastRemoteSnapshotVersion(e)}))}function H_(e,t){var n=jk(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.ls.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.ls.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(pw.EMPTY_BYTE_STRING,aw.min()).withLastLimboFreeSnapshotVersion(aw.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.ls.updateTargetData(e,c))}}));var u=OE();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push($_(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(aw.min())){var s=n.ls.getLastRemoteSnapshotVersion(e).next((function(t){return n.ls.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return iI.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ai.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.si=i,e}))}function $_(e,t,n){var r=jE();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=OE();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(aw.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Ok("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Q_(e,t){var n=jk(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.$s.getNextMutationBatchAfterBatchId(e,t)}))}function Y_(e,t){var n=jk(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ls.getTargetData(e,t).next((function(i){return i?(r=i,iI.resolve(r)):n.ls.allocateTargetId(e).next((function(i){return r=new bI(t,i,0,e.currentSequenceNumber),n.ls.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function J_(e,t,n){return X_.apply(this,arguments)}function X_(){return X_=Na(Pa().mark((function e(t,n,r){var i,a,o;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=jk(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),cI(e.t1)){e.next=12;break}throw e.t1;case 12:Ok("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),X_.apply(this,arguments)}function Z_(e,t,n){var r=jk(e),i=aw.min(),a=jE();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=jk(e),i=r.ii.get(n);return void 0!==i?iI.resolve(r.si.get(i)):r.ls.getTargetData(t,n)}(r,e,Ox(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Ks(e,t,n?i:aw.min(),n?a:jE())})).next((function(e){return nT(r,jx(t),e),{documents:e,hi:a}}))}))}function eT(e,t){var n=jk(e),r=jk(n.ls),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function tT(e,t){var n=jk(e),r=n.ri.get(t)||aw.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.oi.getAllFromCollectionGroup(e,t,tx(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return nT(n,t,e),e}))}function nT(e,t,n){var r=aw.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ri.set(t,r)}function rT(e,t,n,r){return iT.apply(this,arguments)}function iT(){return iT=Na(Pa().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=jk(t),o=jE(),u=OE(),s=Ta(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.li(l.metadata.name),l.document&&(o=o.add(f)),(h=n.fi(l)).setReadTime(n.di(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,Y_(a,function(e){return Ox(Tx(lw.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return $_(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.ls.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.ls.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ai.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),iT.apply(this,arguments)}function aT(e,t){return oT.apply(this,arguments)}function oT(){return oT=Na(Pa().mark((function e(t,n){var r,i,a,o=arguments;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:jE(),e.next=3,Y_(t,Ox(CI(n.bundledQuery)));case 3:return i=e.sent,a=jk(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=iS(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.ds.saveNamedQuery(e,n);var o=i.withResumeToken(pw.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.ls.updateTargetData(e,o).next((function(){return a.ls.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.ls.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),oT.apply(this,arguments)}var uT=function(){function e(t){Ra(this,e),this.M=t,this._i=new Map,this.wi=new Map}return he(e,[{key:"getBundleMetadata",value:function(e,t){return iI.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:iS(n.createTime)}),iI.resolve()}},{key:"getNamedQuery",value:function(e,t){return iI.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:CI(e.bundledQuery),readTime:iS(e.readTime)}}(t)),iI.resolve()}}]),e}(),sT=function(){function e(){Ra(this,e),this.overlays=new TE(Tw.comparator),this.mi=new Map}return he(e,[{key:"getOverlay",value:function(e,t){return iI.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),iI.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),iI.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=FE(),i=t.length+1,a=new Tw(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return iI.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new TE((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=FE(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=FE(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return iI.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new gI(t,n));var a=this.mi.get(t);void 0===a&&(a=jE(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),cT=function(){function e(){Ra(this,e),this.gi=new RE(lT.yi),this.pi=new RE(lT.Ii)}return he(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new lT(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new lT(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new Tw(new lw([])),r=new lT(n,e),i=new lT(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new Tw(new lw([])),n=new lT(t,e),r=new lT(t,e+1),i=jE();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new lT(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),lT=function(){function e(t,n){Ra(this,e),this.key=t,this.Vi=n}return he(e,null,[{key:"yi",value:function(e,t){return Tw.comparator(e.key,t.key)||tw(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return tw(e.Vi,t.Vi)||Tw.comparator(e.key,t.key)}}]),e}(),fT=function(){function e(t,n){Ra(this,e),this.indexManager=t,this.referenceDelegate=n,this.$s=[],this.vi=1,this.Si=new RE(lT.yi)}return he(e,[{key:"checkEmpty",value:function(e){return iI.resolve(0===this.$s.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.$s.length>0&&this.$s[this.$s.length-1];var a=new mI(i,t,n,r);this.$s.push(a);var o,u=Ta(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Si=this.Si.add(new lT(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return iI.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return iI.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return iI.resolve(this.$s.length>i?this.$s[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return iI.resolve(0===this.$s.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return iI.resolve(this.$s.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new lT(t,0),i=new lT(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),iI.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new RE(tw);return t.forEach((function(e){var t=new lT(e,0),i=new lT(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),iI.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Tw.isDocumentKey(i)||(i=i.child(""));var a=new lT(new Tw(i),0),o=new RE(tw);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),iI.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Uk(0===this.Ni(t.batchId,"removed")),this.$s.shift();var r=this.Si;return iI.forEach(t.mutations,(function(i){var a=new lT(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new lT(t,0),r=this.Si.firstAfterOrEqual(n);return iI.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.$s.length,iI.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.$s.length?0:e-this.$s[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}]),e}(),hT=function(){function e(t){Ra(this,e),this.ki=t,this.docs=new TE(Tw.comparator),this.size=0}return he(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return iI.resolve(n?n.document.mutableCopy():Qw.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=OE();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Qw.newInvalidDocument(e))})),iI.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=OE(),i=new Tw(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||ix(nx(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return iI.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Vk()}},{key:"Mi",value:function(e,t){return iI.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new dT(this)}},{key:"getSize",value:function(e){return iI.resolve(this.size)}}]),e}(),dT=function(e){Ea(n,e);var t=_a(n);function n(e){var r;return Ra(this,n),(r=t.call(this)).qn=e,r}return he(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.qn.addEntry(e,i)):t.qn.removeEntry(r)})),iI.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.qn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.qn.getEntries(e,t)}}]),n}(E_),pT=function(){function e(t){Ra(this,e),this.persistence=t,this.Oi=new _E((function(e){return ux(e)}),sx),this.lastRemoteSnapshotVersion=aw.min(),this.highestTargetId=0,this.Fi=0,this.$i=new cT,this.targetCount=0,this.Bi=l_.mn()}return he(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),iI.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return iI.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return iI.resolve(this.Fi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),iI.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fi&&(this.Fi=t),iI.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new l_(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,iI.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),iI.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,iI.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),iI.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return iI.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return iI.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.$i.Ti(t,n),iI.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.$i.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),iI.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.$i.Ri(t),iI.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.$i.Pi(t);return iI.resolve(n)}},{key:"containsKey",value:function(e,t){return iI.resolve(this.$i.containsKey(t))}}]),e}(),vT=function(){function e(t,n){var r=this;Ra(this,e),this.Li={},this.overlays={},this.ts=new Xk(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new pT(this),this.indexManager=new HI,this.fs=new hT((function(e){return r.referenceDelegate.Ui(e)})),this.M=new kI(n),this.ds=new uT(this.M)}return he(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.es=!1,Promise.resolve()}},{key:"started",get:function(){return this.es}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new sT,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new fT(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Ok("MemoryPersistence","Starting transaction:",e);var i=new mT(this.ts.next());return this.referenceDelegate.qi(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ki",value:function(e,t){return iI.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),mT=function(e){Ea(n,e);var t=_a(n);function n(e){var r;return Ra(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return he(n)}(rI),yT=function(){function e(t){Ra(this,e),this.persistence=t,this.Qi=new cT,this.ji=null}return he(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw Vk()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),iI.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),iI.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),iI.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qi",value:function(){this.ji=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return iI.forEach(this.zi,(function(r){var i=Tw.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,aw.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"Ui",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return iI.or([function(){return iI.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ki(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function gT(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function bT(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function kT(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var wT=function(){function e(t,n,r,i){Ra(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return he(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Bk(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Lk("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),xT=function(){function e(t,n,r){Ra(this,e),this.targetId=t,this.state=n,this.error=r}return he(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Bk(i.error.code,i.error.message))),a?new e(t,i.state,r):(Lk("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),ET=function(){function e(t,n){Ra(this,e),this.clientId=t,this.activeTargetIds=n}return he(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=BE(),o=0;i&&o<r.activeTargetIds.length;++o)i=_w(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Lk("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),ST=function(){function e(t,n){Ra(this,e),this.clientId=t,this.onlineState=n}return he(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Lk("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),IT=function(){function e(){Ra(this,e),this.activeTargetIds=BE()}return he(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),_T=function(){function e(t,n,r,i,a){Ra(this,e),this.window=t,this.Jn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new TE(tw),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=gT(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new IT),this.ar=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return he(e,[{key:"start",value:function(){var e=Na(Pa().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Os();case 2:t=e.sent,n=Ta(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(gT(this.persistenceKey,i)))&&(o=ET.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=Ta(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(kT(this.persistenceKey,e));if(n){var r=xT.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(kT(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Ok("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Ok("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Ok("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ok("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void Lk("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable(Na(Pa().mark((function e(){var r,i,a,o,u,s,c;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.ar.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=Xk.A;if(null!=e)try{var n=JSON.parse(e);Uk("number"==typeof n),t=n}catch(e){Lk("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Xk.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new wT(this.currentUser,e,t,n),i=bT(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=bT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=kT(this.persistenceKey,e),i=new xT(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.ar.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return ET.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return wT.Ji(new Rk(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return xT.Ji(r,t)}},{key:"wr",value:function(e){return ST.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"vr",value:function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:Ok("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Or(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=BE();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),TT=function(){function e(){Ra(this,e),this.Fr=new IT,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return he(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new IT,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),CT=function(){function e(){Ra(this,e)}return he(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),NT=function(){function e(){var t=this;Ra(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Gr()},this.Kr=[],this.Qr()}return he(e,[{key:"Br",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){Ok("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Ta(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){Ok("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Ta(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),RT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},AT=function(){function e(t){Ra(this,e),this.jr=t.jr,this.Wr=t.Wr}return he(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),PT=function(e){Ea(n,e);var t=_a(n);function n(e){var r;return Ra(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return he(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Ck;o.listenOnce(Ek.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case xk.NO_ERROR:var t=o.getResponseJson();Ok("Connection","XHR received:",JSON.stringify(t)),i(t);break;case xk.TIMEOUT:Ok("Connection",'RPC "'+e+'" timed out'),a(new Bk(zk.DEADLINE_EXCEEDED,"Request time out"));break;case xk.HTTP_ERROR:var n=o.getStatus();if(Ok("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(zk).indexOf(t)>=0?t:zk.UNKNOWN}(r.status);a(new Bk(u,r.message))}else a(new Bk(zk.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Bk(zk.UNAVAILABLE,"Connection failed."));break;default:Vk()}}finally{Ok("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=kk(),a=wk(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new _k({})),this.uo(o.initMessageHeaders,t,n),Wa()||Ha()||qa().indexOf("Electron/")>=0||$a()||qa().indexOf("MSAppHost/")>=0||Ga()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Ok("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new AT({jr:function(e){l?Ok("Connection","Not sending because WebChannel is closed:",e):(c||(Ok("Connection","Opening WebChannel transport."),s.open(),c=!0),Ok("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Tk.EventType.OPEN,(function(){l||Ok("Connection","WebChannel transport opened.")})),h(s,Tk.EventType.CLOSE,(function(){l||(l=!0,Ok("Connection","WebChannel transport closed"),f.eo())})),h(s,Tk.EventType.ERROR,(function(e){l||(l=!0,Mk("Connection","WebChannel transport errored:",e),f.eo(new Bk(zk.UNAVAILABLE,"The operation could not be completed")))})),h(s,Tk.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Uk(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ok("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=bE[e];if(void 0!==t)return IE(t)}(a),u=i.message;void 0===o&&(o=zk.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new Bk(o,u)),s.close()}else Ok("Connection","WebChannel received:",n),f.no(n)}})),h(a,Sk.STAT_EVENT,(function(e){e.stat===Ik.PROXY?Ok("Connection","Detected buffering proxy"):e.stat===Ik.NOPROXY&&Ok("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){Ra(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return he(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);Ok("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.ao(e,a,o,n).then((function(e){return Ok("RestConnection","Received: ",e),e}),(function(t){throw Mk("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"co",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ak,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=RT[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function DT(){return"undefined"!=typeof window?window:null}function OT(){return"undefined"!=typeof document?document:null}function LT(e){return new eS(e,!0)}var MT=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ra(this,e),this.Jn=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return he(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&Ok("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),FT=function(){function e(t,n,r,i,a,o,u,s){Ra(this,e),this.Jn=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new MT(t,n)}return he(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"close",value:function(){var e=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===zk.RESOURCE_EXHAUSTED?(Lk(n.toString()),Lk("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===zk.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new Bk(zk.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.vo=n.Jn.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Na(Pa().mark((function t(){return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return Ok("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.Jn.enqueueAndForget((function(){return t.Po===e?n():(Ok("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),VT=function(e){Ea(n,e);var t=_a(n);function n(e,r,i,a,o,u){var s;return Ra(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return he(n,[{key:"Go",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Vk()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Uk(void 0===t||"string"==typeof t),pw.fromBase64String(t||"")):(Uk(void 0===t||t instanceof Uint8Array),pw.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?zk.UNKNOWN:IE(e.code);return new Bk(t,e.message||"")}(o);n=new HE(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=sS(e,s.document.name),l=iS(s.document.updateTime),f=new Hw({mapValue:{fields:s.document.fields}}),h=Qw.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new KE(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=sS(e,v.document),y=v.readTime?iS(v.readTime):aw.min(),g=Qw.newNoDocument(m,y),b=v.removedTargetIds||[];n=new KE([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=sS(e,k.document),x=k.removedTargetIds||[];n=new KE([],x,w,null)}else{if(!("filter"in t))return Vk();t.filter;var E=t.filter;E.targetId;var S=E.count||0,I=new EE(S),_=E.targetId;n=new GE(_,I)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return aw.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?aw.min():t.readTime?iS(t.readTime):aw.min()}(e);return this.listener.Ko(t,n)}},{key:"Qo",value:function(e){var t={};t.database=fS(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=cx(r)?{documents:gS(e,r)}:{query:bS(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=nS(e,t.resumeToken):t.snapshotVersion.compareTo(aw.min())>0&&(n.readTime=tS(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Vk()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=fS(this.M),t.removeTarget=e,this.Oo(t)}}]),n}(FT),UT=function(e){Ea(n,e);var t=_a(n);function n(e,r,i,a,o,u){var s;return Ra(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Wo=!1,s}return he(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,xa(ka(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Go",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(Uk(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(Uk(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?iS(e.updateTime):iS(t);return n.isEqual(aw.min())&&(n=iS(t)),new aE(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=iS(e.commitTime);return this.listener.Jo(n,t)}return Uk(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=fS(this.M),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return mS(t.M,e)}))};this.Oo(n)}}]),n}(FT),jT=function(e){Ea(n,e);var t=_a(n);function n(e,r,i,a){var o;return Ra(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.Zo=!1,o}return he(n,[{key:"tu",value:function(){if(this.Zo)throw new Bk(zk.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===zk.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Bk(zk.UNKNOWN,e.toString())}))}},{key:"co",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],u=a[1];return r.bo.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===zk.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Bk(zk.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return he((function e(){Ra(this,e)}))}()),zT=function(){function e(t,n){Ra(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return he(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(Lk(t),this.su=!1):Ok("OnlineStateTracker",t)}},{key:"au",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),BT=he((function e(t,n,r,i,a){var o=this;Ra(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ZT(o),!e.t0){e.next=5;break}return Ok("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Na(Pa().mark((function e(t){var n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=jk(t)).lu.add(4),e.next=4,KT(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,qT(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new zT(r,i)}));function qT(e){return WT.apply(this,arguments)}function WT(){return WT=Na(Pa().mark((function e(t){var n,r,i;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ZT(t)){e.next=18;break}n=Ta(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),WT.apply(this,arguments)}function KT(e){return GT.apply(this,arguments)}function GT(){return GT=Na(Pa().mark((function e(t){var n,r,i;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ta(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),GT.apply(this,arguments)}function HT(e,t){var n=jk(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),XT(n)?JT(n):CC(n).Co()&&QT(n,t))}function $T(e,t){var n=jk(e),r=CC(n);n.hu.delete(t),r.Co()&&YT(n,t),0===n.hu.size&&(r.Co()?r.ko():ZT(n)&&n._u.set("Unknown"))}function QT(e,t){e.wu.Z(t.targetId),CC(e).Qo(t)}function YT(e,t){e.wu.Z(t),CC(e).jo(t)}function JT(e){e.wu=new QE({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.hu.get(t)||null}}),CC(e).start(),e._u.iu()}function XT(e){return ZT(e)&&!CC(e).Do()&&e.hu.size>0}function ZT(e){return 0===jk(e).lu.size}function eC(e){e.wu=void 0}function tC(e){return nC.apply(this,arguments)}function nC(){return nC=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){QT(t,e)}));case 1:case"end":return e.stop()}}),e)}))),nC.apply(this,arguments)}function rC(e,t){return iC.apply(this,arguments)}function iC(){return iC=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:eC(t),XT(t)?(t._u.uu(n),JT(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),iC.apply(this,arguments)}function aC(e,t,n){return oC.apply(this,arguments)}function oC(){return oC=Na(Pa().mark((function e(t,n,r){var i;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof HE&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Na(Pa().mark((function e(t,n){var r,i,a,o;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Ta(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ok("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,uC(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof KE?t.wu.ut(n):n instanceof GE?t.wu._t(n):t.wu.ht(n),r.isEqual(aw.min())){e.next=29;break}return e.prev=14,e.next=17,G_(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(pw.EMPTY_BYTE_STRING,n.snapshotVersion)),YT(e,t);var r=new bI(n.target,t,1,n.sequenceNumber);QT(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ok("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,uC(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),oC.apply(this,arguments)}function uC(e,t,n){return sC.apply(this,arguments)}function sC(){return sC=Na(Pa().mark((function e(t,n,r){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cI(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,KT(t);case 5:t._u.set("Offline"),r||(r=function(){return G_(t.localStore)}),t.asyncQueue.enqueueRetryable(Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ok("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,qT(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),sC.apply(this,arguments)}function cC(e,t){return t().catch((function(n){return uC(e,n,t)}))}function lC(e){return fC.apply(this,arguments)}function fC(){return fC=Na(Pa().mark((function e(t){var n,r,i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=jk(t),r=NC(n),i=n.cu.length>0?n.cu[n.cu.length-1].batchId:-1;case 2:if(!hC(n)){e.next=19;break}return e.prev=3,e.next=6,Q_(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.cu.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,dC(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,uC(n,e.t0);case 17:e.next=2;break;case 19:pC(n)&&vC(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),fC.apply(this,arguments)}function hC(e){return ZT(e)&&e.cu.length<10}function dC(e,t){e.cu.push(t);var n=NC(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function pC(e){return ZT(e)&&!NC(e).Do()&&e.cu.length>0}function vC(e){NC(e).start()}function mC(e){return yC.apply(this,arguments)}function yC(){return yC=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:NC(t).Xo();case 1:case"end":return e.stop()}}),e)}))),yC.apply(this,arguments)}function gC(e){return bC.apply(this,arguments)}function bC(){return bC=Na(Pa().mark((function e(t){var n,r,i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=NC(t),r=Ta(t.cu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),bC.apply(this,arguments)}function kC(e,t,n){return wC.apply(this,arguments)}function wC(){return wC=Na(Pa().mark((function e(t,n,r){var i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.cu.shift(),a=yI.from(i,n,r),e.next=3,cC(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,lC(t);case 5:case"end":return e.stop()}}),e)}))),wC.apply(this,arguments)}function xC(e,t){return EC.apply(this,arguments)}function EC(){return EC=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&NC(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Na(Pa().mark((function e(t,n){var r,i;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!SE(i=n.code)||i===zk.ABORTED){e.next=7;break}return r=t.cu.shift(),NC(t).No(),e.next=5,cC(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,lC(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:pC(t)&&vC(t);case 5:case"end":return e.stop()}}),e)}))),EC.apply(this,arguments)}function SC(e,t){return IC.apply(this,arguments)}function IC(){return IC=Na(Pa().mark((function e(t,n){var r,i;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=jk(t)).asyncQueue.verifyOperationInProgress(),Ok("RemoteStore","RemoteStore received new credentials"),i=ZT(r),r.lu.add(3),e.next=6,KT(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,qT(r);case 12:case"end":return e.stop()}}),e)}))),IC.apply(this,arguments)}function _C(e,t){return TC.apply(this,arguments)}function TC(){return TC=Na(Pa().mark((function e(t,n){var r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jk(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,qT(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,KT(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),TC.apply(this,arguments)}function CC(e){return e.mu||(e.mu=function(e,t,n){var r=jk(e);return r.tu(),new VT(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:tC.bind(null,e),Jr:rC.bind(null,e),Ko:aC.bind(null,e)}),e.fu.push(function(){var t=Na(Pa().mark((function t(n){return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),XT(e)?JT(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:eC(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function NC(e){return e.gu||(e.gu=function(e,t,n){var r=jk(e);return r.tu(),new UT(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:mC.bind(null,e),Jr:xC.bind(null,e),Yo:gC.bind(null,e),Jo:kC.bind(null,e)}),e.fu.push(function(){var t=Na(Pa().mark((function t(n){return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,lC(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.cu.length>0&&(Ok("RemoteStore","Stopping write stream with ".concat(e.cu.length," pending writes")),e.cu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var RC=function(){function e(t,n,r,i,a){Ra(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new qk,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return he(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Bk(zk.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function AC(e,t){if(Lk("AsyncQueue","".concat(t,": ").concat(e)),cI(e))return new Bk(zk.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var PC=function(){function e(t){Ra(this,e),this.comparator=t?function(e,n){return t(e,n)||Tw.comparator(e.key,n.key)}:function(e,t){return Tw.comparator(e.key,t.key)},this.keyedMap=ME(),this.sortedSet=new TE(this.comparator)}return he(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),DC=function(){function e(){Ra(this,e),this.yu=new TE(Tw.comparator)}return he(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Vk():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),OC=function(){function e(t,n,r,i,a,o,u,s){Ra(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return he(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,PC.emptySet(n),a,r,i,!0,!1)}}]),e}(),LC=he((function e(){Ra(this,e),this.Iu=void 0,this.listeners=[]})),MC=he((function e(){Ra(this,e),this.queries=new _E((function(e){return Fx(e)}),Mx),this.onlineState="Unknown",this.Tu=new Set}));function FC(e,t){return VC.apply(this,arguments)}function VC(){return VC=Na(Pa().mark((function e(t,n){var r,i,a,o,u;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jk(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new LC),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=AC(e.t0,"Initialization of query '".concat(Vx(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&qC(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),VC.apply(this,arguments)}function UC(e,t){return jC.apply(this,arguments)}function jC(){return jC=Na(Pa().mark((function e(t,n){var r,i,a,o,u;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jk(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),jC.apply(this,arguments)}function zC(e,t){var n,r=jk(e),i=!1,a=Ta(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Ta(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&qC(r)}function BC(e,t,n){var r=jk(e),i=r.queries.get(t);if(i){var a,o=Ta(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function qC(e){e.Tu.forEach((function(e){e.next()}))}var WC=function(){function e(t,n,r){Ra(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return he(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Ta(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new OC(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),a=!0):this.vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=OC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),KC=function(){function e(t,n){Ra(this,e),this.payload=t,this.byteLength=n}return he(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),GC=function(){function e(t){Ra(this,e),this.M=t}return he(e,[{key:"li",value:function(e){return sS(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?pS(this.M,e.document,!1):Qw.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return iS(e)}}]),e}(),HC=function(){function e(t,n,r){Ra(this,e),this.xu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$C(t)}return he(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=lw.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new GC(this.M),i=Ta(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.li(a.metadata.name),s=Ta(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||jE()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Na(Pa().mark((function e(){var t,n,r,i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rT(this.localStore,new GC(this.M),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=Ta(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,aT(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function $C(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var QC=he((function e(t){Ra(this,e),this.key=t})),YC=he((function e(t){Ra(this,e),this.key=t})),JC=function(){function e(t,n){Ra(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=jE(),this.mutatedKeys=jE(),this.Lu=zx(t),this.Uu=new PC(this.Lu)}return he(e,[{key:"qu",get:function(){return this.Fu}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Ku:new DC,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Cx(this.query)&&i.size===this.query.limit?i.last():null,c=Nx(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Ux(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Cx(this.query)||Nx(this.query))for(;o.size>this.query.limit;){var l=Cx(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Ku:r,ei:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Ku.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vk()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new OC(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new DC,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=jE(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new YC(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new QC(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.hi,this.Bu=jE();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return OC.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),XC=he((function e(t,n,r){Ra(this,e),this.query=t,this.targetId=n,this.view=r})),ZC=he((function e(t){Ra(this,e),this.key=t,this.Xu=!1})),eN=function(){function e(t,n,r,i,a,o){Ra(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.ta=new _E((function(e){return Fx(e)}),Mx),this.ea=new Map,this.na=new Set,this.sa=new TE(Tw.comparator),this.ia=new Map,this.ra=new cT,this.oa={},this.ua=new Map,this.aa=l_.gn(),this.onlineState="Unknown",this.ca=void 0}return he(e,[{key:"isPrimaryClient",get:function(){return!0===this.ca}}]),e}();function tN(e,t){return nN.apply(this,arguments)}function nN(){return nN=Na(Pa().mark((function e(t,n){var r,i,a,o,u,s;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$N(t),!(o=r.ta.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,Y_(r.localStore,Ox(n));case 8:return u=e.sent,r.isPrimaryClient&&HT(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,rN(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),nN.apply(this,arguments)}function rN(e,t,n,r){return iN.apply(this,arguments)}function iN(){return iN=Na(Pa().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ha=function(e,n,r){return function(){var e=Na(Pa().mark((function e(t,n,r,i){var a,o,u;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,Z_(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(SN(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Z_(t.localStore,n,!0);case 3:return a=e.sent,o=new JC(n,a.hi),u=o.Gu(a.documents),s=WE.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),SN(t,r,c.zu),l=new XC(n,r,o),e.abrupt("return",(t.ta.set(n,l),t.ea.has(r)?t.ea.get(r).push(n):t.ea.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),iN.apply(this,arguments)}function aN(e,t){return oN.apply(this,arguments)}function oN(){return oN=Na(Pa().mark((function e(t,n){var r,i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jk(t),i=r.ta.get(n),!((a=r.ea.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ea.set(i.targetId,a.filter((function(e){return!Mx(e,n)}))),void r.ta.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,J_(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),$T(r.remoteStore,i.targetId),xN(r,i.targetId)})).catch(v_);case 9:e.next=14;break;case 11:return xN(r,i.targetId),e.next=14,J_(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),oN.apply(this,arguments)}function uN(e,t,n){return sN.apply(this,arguments)}function sN(){return sN=Na(Pa().mark((function e(t,n,r){var i,a,o;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=QN(t),e.prev=1,e.next=4,function(e,t){var n,r=jk(e),i=iw.now(),a=t.reduce((function(e,t){return e.add(t.key)}),jE());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ai.qs(e,a).next((function(a){n=a;var o,u=[],s=Ta(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=fE(c,n.get(c.key));null!=l&&u.push(new vE(c.key,l,$w(l.value.mapValue),oE.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.$s.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oa[e.currentUser.toKey()];r||(r=new TE(tw)),r=r.insert(t,n),e.oa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,TN(i,a.changes);case 9:return e.next=11,lC(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=AC(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),sN.apply(this,arguments)}function cN(e,t){return lN.apply(this,arguments)}function lN(){return lN=Na(Pa().mark((function e(t,n){var r,i;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jk(t),e.prev=1,e.next=4,H_(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ia.get(t);n&&(Uk(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?Uk(n.Xu):e.removedDocuments.size>0&&(Uk(n.Xu),n.Xu=!1))})),e.next=8,TN(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,v_(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),lN.apply(this,arguments)}function fN(e,t,n){var r=jk(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ta.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=jk(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Ta(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&qC(n)}(r.eventManager,t),i.length&&r.Zu.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function hN(e,t,n){return dN.apply(this,arguments)}function dN(){return dN=Na(Pa().mark((function e(t,n,r){var i,a,o,u,s,c;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=jk(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ia.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new TE(Tw.comparator)).insert(o,Qw.newNoDocument(o,aw.min())),s=jE().add(o),c=new qE(aw.min(),new Map,new RE(tw),u,s),e.next=9,cN(i,c);case 9:i.sa=i.sa.remove(o),i.ia.delete(n),_N(i),e.next=16;break;case 14:return e.next=16,J_(i.localStore,n,!1).then((function(){return xN(i,n,r)})).catch(v_);case 16:case"end":return e.stop()}}),e)}))),dN.apply(this,arguments)}function pN(e,t){return vN.apply(this,arguments)}function vN(){return vN=Na(Pa().mark((function e(t,n){var r,i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jk(t),i=n.batch.batchId,e.prev=1,e.next=4,K_(r.localStore,n);case 4:return a=e.sent,wN(r,i,null),kN(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,TN(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,v_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),vN.apply(this,arguments)}function mN(e,t,n){return yN.apply(this,arguments)}function yN(){return yN=Na(Pa().mark((function e(t,n,r){var i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jk(t),e.prev=1,e.next=4,function(e,t){var n=jk(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.$s.lookupMutationBatch(e,t).next((function(t){return Uk(null!==t),r=t.keys(),n.$s.removeMutationBatch(e,t)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,wN(i,n,r),kN(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,TN(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,v_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),yN.apply(this,arguments)}function gN(e,t){return bN.apply(this,arguments)}function bN(){return bN=Na(Pa().mark((function e(t,n){var r,i,a,o;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ZT((r=jk(t)).remoteStore)||Ok("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=jk(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.$s.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ua.get(i)||[]).push(n),r.ua.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=AC(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),bN.apply(this,arguments)}function kN(e,t){(e.ua.get(t)||[]).forEach((function(e){e.resolve()})),e.ua.delete(t)}function wN(e,t,n){var r=jk(e),i=r.oa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oa[r.currentUser.toKey()]=i}}function xN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Ta(e.ea.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ta.delete(a),n&&e.Zu.la(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ea.delete(t),e.isPrimaryClient&&e.ra.Ri(t).forEach((function(t){e.ra.containsKey(t)||EN(e,t)}))}function EN(e,t){e.na.delete(t.path.canonicalString());var n=e.sa.get(t);null!==n&&($T(e.remoteStore,n),e.sa=e.sa.remove(t),e.ia.delete(n),_N(e))}function SN(e,t,n){var r,i=Ta(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof QC?(e.ra.addReference(a.key,t),IN(e,a)):a instanceof YC?(Ok("SyncEngine","Document no longer in limbo: "+a.key),e.ra.removeReference(a.key,t),e.ra.containsKey(a.key)||EN(e,a.key)):Vk()}}catch(o){i.e(o)}finally{i.f()}}function IN(e,t){var n=t.key,r=n.path.canonicalString();e.sa.get(n)||e.na.has(r)||(Ok("SyncEngine","New document in limbo: "+n),e.na.add(r),_N(e))}function _N(e){for(;e.na.size>0&&e.sa.size<e.maxConcurrentLimboResolutions;){var t=e.na.values().next().value;e.na.delete(t);var n=new Tw(lw.fromString(t)),r=e.aa.next();e.ia.set(r,new ZC(n)),e.sa=e.sa.insert(n,r),HT(e.remoteStore,new bI(Ox(Tx(n.path)),r,2,Xk.A))}}function TN(e,t,n){return CN.apply(this,arguments)}function CN(){return CN=Na(Pa().mark((function e(t,n,r){var i,a,o,u;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=jk(t),a=[],o=[],u=[],e.t0=i.ta.isEmpty(),e.t0){e.next=9;break}return i.ta.forEach((function(e,t){u.push(i.ha(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=U_.Js(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Ko(a),e.next=9,function(){var e=Na(Pa().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jk(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return iI.forEach(n,(function(t){return iI.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return iI.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),cI(e.t0)){e.next=10;break}throw e.t0;case 10:Ok("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Ta(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.si.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.si=r.si.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),CN.apply(this,arguments)}function NN(e,t){return RN.apply(this,arguments)}function RN(){return RN=Na(Pa().mark((function e(t,n){var r,i;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=jk(t)).currentUser.isEqual(n)){e.next=11;break}return Ok("SyncEngine","User change. New user:",n.toKey()),e.next=5,q_(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ua.forEach((function(e){e.forEach((function(e){e.reject(new Bk(zk.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ua.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,TN(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),RN.apply(this,arguments)}function AN(e,t){var n=jk(e),r=n.ia.get(t);if(r&&r.Xu)return jE().add(r.key);var i=jE(),a=n.ea.get(t);if(!a)return i;var o,u=Ta(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ta.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function PN(e,t){return DN.apply(this,arguments)}function DN(){return DN=Na(Pa().mark((function e(t,n){var r,i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jk(t),e.next=3,Z_(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&SN(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),DN.apply(this,arguments)}function ON(e,t){return LN.apply(this,arguments)}function LN(){return LN=Na(Pa().mark((function e(t,n){var r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jk(t),e.abrupt("return",tT(r.localStore,n).then((function(e){return TN(r,e)})));case 2:case"end":return e.stop()}}),e)}))),LN.apply(this,arguments)}function MN(e,t,n,r){return FN.apply(this,arguments)}function FN(){return FN=Na(Pa().mark((function e(t,n,r,i){var a,o;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=jk(t),e.next=3,function(e,t){var n=jk(e),r=jk(n.$s);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ai.qs(e,t):iI.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,lC(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(wN(a,n,i||null),kN(a,n),function(e,t){jk(jk(e).$s).dn(t)}(a.localStore,n)):Vk();case 11:return e.next=13,TN(a,o);case 13:e.next=16;break;case 15:Ok("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),FN.apply(this,arguments)}function VN(e,t){return UN.apply(this,arguments)}function UN(){return UN=Na(Pa().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($N(r=jk(t)),QN(r),!0!==n||!0===r.ca){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,jN(r,i.toArray());case 5:return a=e.sent,r.ca=!0,e.next=9,_C(r.remoteStore,!0);case 9:o=Ta(a);try{for(o.s();!(u=o.n()).done;)s=u.value,HT(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ca){e.next=25;break}return c=[],l=Promise.resolve(),r.ea.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return xN(r,t),J_(r.localStore,t,!0)})),$T(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,jN(r,c);case 21:return function(e){var t=jk(e);t.ia.forEach((function(e,n){$T(t.remoteStore,n)})),t.ra.bi(),t.ia=new Map,t.sa=new TE(Tw.comparator)}(r),r.ca=!1,e.next=25,_C(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),UN.apply(this,arguments)}function jN(e,t,n){return zN.apply(this,arguments)}function zN(){return zN=Na(Pa().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=jk(t),a=[],o=[],u=Ta(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ea.get(c))||0===f.length){e.next=34;break}return e.next=11,Y_(i.localStore,Ox(f[0]));case 11:l=e.sent,h=Ta(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ta.get(p),e.next=20,PN(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,eT(i.localStore,c);case 36:return y=e.sent,e.next=39,Y_(i.localStore,y);case 39:return l=e.sent,e.next=42,rN(i,BN(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),zN.apply(this,arguments)}function BN(e){return _x(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function qN(e){var t=jk(e);return jk(jk(t.localStore).persistence).Os()}function WN(e,t,n,r){return KN.apply(this,arguments)}function KN(){return KN=Na(Pa().mark((function e(t,n,r,i){var a,o,u,s;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=jk(t)).ca){e.next=3;break}return e.abrupt("return",void Ok("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ea.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,tT(a.localStore,jx(o[0]));case 10:return u=e.sent,s=qE.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,TN(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,J_(a.localStore,n,!0);case 17:return xN(a,n,i),e.abrupt("break",20);case 19:Vk();case 20:case"end":return e.stop()}}),e)}))),KN.apply(this,arguments)}function GN(e,t,n){return HN.apply(this,arguments)}function HN(){return HN=Na(Pa().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=$N(t)).ca){e.next=45;break}a=Ta(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ea.has(u)){e.next=10;break}return Ok("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,eT(i.localStore,u);case 12:return s=e.sent,e.next=15,Y_(i.localStore,s);case 15:return c=e.sent,e.next=18,rN(i,BN(s),c.targetId,!1);case 18:HT(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Ta(r),e.prev=30,h=Pa().mark((function e(){var t;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ea.has(t),!e.t0){e.next=5;break}return e.next=5,J_(i.localStore,t,!1).then((function(){$T(i.remoteStore,t),xN(i,t)})).catch(v_);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),HN.apply(this,arguments)}function $N(e){var t=jk(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=cN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=AN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hN.bind(null,t),t.Zu.Ko=zC.bind(null,t.eventManager),t.Zu.la=BC.bind(null,t.eventManager),t}function QN(e){var t=jk(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mN.bind(null,t),t}function YN(e,t,n){var r=jk(e);(function(){var e=Na(Pa().mark((function e(t,n,r){var i,a,o,u,s;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=jk(e),r=iS(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress($C(i)),a=new HC(i,t.localStore,n.M),e.next=15,n.fa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,TN(t,s.Ou,void 0);case 31:return e.next=33,function(e,t){var n=jk(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Mk("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var JN=function(){function e(){Ra(this,e),this.synchronizeTabs=!1}return he(e,[{key:"initialize",value:function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=LT(t.databaseInfo.databaseId),this.sharedClientState=this.da(t),this.persistence=this._a(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.wa(t),this.localStore=this.ma(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wa",value:function(e){return null}},{key:"ma",value:function(e){return B_(this.persistence,new j_,e.initialUser,this.M)}},{key:"_a",value:function(e){return new vT(yT.Wi,this.M)}},{key:"da",value:function(e){return new TT}},{key:"terminate",value:function(){var e=Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),XN=function(e){Ea(n,e);var t=_a(n);function n(e,r,i){var a;return Ra(this,n),(a=t.call(this)).ga=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return he(n,[{key:"initialize",value:function(){var e=Na(Pa().mark((function e(t){var r=this;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(ka(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ga.initialize(this,t);case 4:return e.next=6,QN(this.ga.syncEngine);case 6:return e.next=8,lC(this.ga.remoteStore);case 8:return e.next=10,this.persistence.Is((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return B_(this.persistence,new j_,e.initialUser,this.M)}},{key:"wa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new b_(t,e.asyncQueue)}},{key:"_a",value:function(e){var t=F_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?n_.withCacheSize(this.cacheSizeBytes):n_.DEFAULT;return new O_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,DT(),OT(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"da",value:function(e){return new TT}}]),n}(JN),ZN=function(e){Ea(n,e);var t=_a(n);function n(e,r){var i;return Ra(this,n),(i=t.call(this,e,r,!1)).ga=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return he(n,[{key:"initialize",value:function(){var e=Na(Pa().mark((function e(t){var r,i=this;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(ka(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ga.syncEngine,e.t0=this.sharedClientState instanceof _T,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:MN.bind(null,r),Mr:WN.bind(null,r),Or:GN.bind(null,r),Os:qN.bind(null,r),Nr:ON.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Is(function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VN(i.ga.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"da",value:function(e){var t=DT();if(!_T.vt(t))throw new Bk(zk.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=F_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _T(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(XN),eR=function(){function e(){Ra(this,e)}return he(e,[{key:"initialize",value:function(){var e=Na(Pa().mark((function e(t,n){var r=this;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return fN(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=NN.bind(null,this.syncEngine),e.next=12,_C(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new MC}},{key:"createDatastore",value:function(e){var t,n=LT(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new PT(t));return function(e,t,n,r){return new jT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return fN(o.syncEngine,e,0)},a=NT.vt()?new NT:new CT,new BT(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new eN(e,t,n,r,i,a);return o&&(u.ca=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Na(Pa().mark((function e(t){var n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jk(t),Ok("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,KT(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function tR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Na(Pa().mark((function r(){var i;return Pa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var nR=function(){function e(t){Ra(this,e),this.observer=t,this.muted=!1}return he(e,[{key:"next",value:function(e){this.observer.next&&this.ya(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"pa",value:function(){this.muted=!0}},{key:"ya",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),rR=function(){function e(t,n){var r=this;Ra(this,e),this.Ia=t,this.M=n,this.metadata=new qk,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return he(e,[{key:"close",value:function(){return this.Ia.cancel()}},{key:"getMetadata",value:function(){var e=Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fa",value:function(){var e=Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ea());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ea",value:function(){var e=Na(Pa().mark((function e(){var t,n,r,i;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Aa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ta.decode(t),r=Number(n),isNaN(r)&&this.Ra("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new KC(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Aa",value:function(){var e=Na(Pa().mark((function e(){var t,n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Pa()<0)){e.next=7;break}return e.next=3,this.Va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Pa())<0&&this.Ra("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=Na(Pa().mark((function e(t){var n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ra("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ta.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ra",value:function(e){throw this.Ia.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Va",value:function(){var e=Na(Pa().mark((function e(){var t,n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ia.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),iR=function(){function e(t){Ra(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return he(e,[{key:"lookup",value:function(){var e=Na(Pa().mark((function e(t){var n,r=this;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Bk(zk.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Na(Pa().mark((function e(t,n){var r,i,a,o,u,s;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jk(t),i=fS(r.M)+"/documents",a={documents:n.map((function(e){return uS(r.M,e)}))},e.next=5,r.co("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=vS(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Uk(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new wE(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Na(Pa().mark((function e(){var t,n=this;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Tw.fromPath(t);n.mutations.push(new xE(r,n.precondition(r)))})),e.next=7,function(){var e=Na(Pa().mark((function e(t,n){var r,i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jk(t),i=fS(r.M)+"/documents",a={writes:n.map((function(e){return mS(r.M,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Vk();t=aw.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Bk(zk.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?oE.updateTime(t):oE.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(aw.min()))throw new Bk(zk.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return oE.updateTime(t)}return oE.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),aR=function(){function e(t,n,r,i){Ra(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new MT(this.asyncQueue,"transaction_retry")}return he(e,[{key:"run",value:function(){this.va-=1,this.Sa()}},{key:"Sa",value:function(){var e=this;this.So.Io(Na(Pa().mark((function t(){var n,r;return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new iR(e.datastore),(r=e.Da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ca(t)}))}))})).catch((function(t){e.Ca(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Da",value:function(e){try{var t=this.updateFunction(e);return!Sw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ca",value:function(e){var t=this;this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget((function(){return t.Sa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"xa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!SE(t)}return!1}}]),e}(),oR=function(){function e(t,n,r,i){var a=this;Ra(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rk.UNAUTHENTICATED,this.clientId=ew.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ok("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ok("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return he(e,[{key:"getConfiguration",value:function(){var e=Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Bk(zk.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new qk;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Na(Pa().mark((function n(){var r;return Pa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=AC(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function uR(e,t){return sR.apply(this,arguments)}function sR(){return sR=Na(Pa().mark((function e(t,n){var r,i;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ok("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,q_(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),sR.apply(this,arguments)}function cR(e,t){return lR.apply(this,arguments)}function lR(){return lR=Na(Pa().mark((function e(t,n){var r,i;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,fR(t);case 3:return r=e.sent,Ok("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return SC(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return SC(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),lR.apply(this,arguments)}function fR(e){return hR.apply(this,arguments)}function hR(){return hR=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Ok("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,uR(t,new JN);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),hR.apply(this,arguments)}function dR(e){return pR.apply(this,arguments)}function pR(){return pR=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Ok("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,cR(t,new eR);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),pR.apply(this,arguments)}function vR(e){return fR(e).then((function(e){return e.persistence}))}function mR(e){return fR(e).then((function(e){return e.localStore}))}function yR(e){return dR(e).then((function(e){return e.remoteStore}))}function gR(e){return dR(e).then((function(e){return e.syncEngine}))}function bR(e){return kR.apply(this,arguments)}function kR(){return kR=Na(Pa().mark((function e(t){var n,r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dR(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=tN.bind(null,n.syncEngine),r.onUnlisten=aN.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),kR.apply(this,arguments)}function wR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new qk;return e.asyncQueue.enqueueAndForget(Na(Pa().mark((function i(){return Pa().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new nR({next:function(a){t.enqueueAndForget((function(){return UC(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Bk(zk.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Bk(zk.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new WC(Tx(n.path),a,{includeMetadataChanges:!0,Du:!0});return FC(e,o)},i.next=3,bR(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function xR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new qk;return e.asyncQueue.enqueueAndForget(Na(Pa().mark((function i(){return Pa().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new nR({next:function(n){t.enqueueAndForget((function(){return UC(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Bk(zk.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new WC(n,a,{includeMetadataChanges:!0,Du:!0});return FC(e,o)},i.next=3,bR(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var ER=new Map;function SR(e,t,n){if(!n)throw new Bk(zk.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function IR(e,t,n,r){if(!0===t&&!0===r)throw new Bk(zk.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function _R(e){if(!Tw.isDocumentKey(e))throw new Bk(zk.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function TR(e){if(Tw.isDocumentKey(e))throw new Bk(zk.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function CR(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Vk()}function NR(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Bk(zk.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=CR(e);throw new Bk(zk.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function RR(e,t){if(t<=0)throw new Bk(zk.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var AR=function(){function e(t){var n;if(Ra(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Bk(zk.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Bk(zk.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,IR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return he(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),PR=function(){function e(t,n,r){Ra(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AR({}),this._settingsFrozen=!1,t instanceof Ew?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Bk(zk.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ew(e.options.projectId)}(t))}return he(e,[{key:"app",get:function(){if(!this._app)throw new Bk(zk.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Bk(zk.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AR(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Kk;switch(e.type){case"gapi":var t=e.client;return Uk(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Qk(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Bk(zk.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=ER.get(e);t&&(Ok("ComponentProvider","Removing Datastore"),ER.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function DR(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=NR(e,PR))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Mk("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Rk.MOCK_USER;else{o=Ba(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Bk(zk.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Rk(s)}e._authCredentials=new Gk(new Wk(o,u))}}var OR=function(){function e(t,n,r){Ra(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return he(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new MR(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),LR=function(){function e(t,n,r){Ra(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return he(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),MR=function(e){Ea(n,e);var t=_a(n);function n(e,r,i){var a;return Ra(this,n),(a=t.call(this,e,r,Tx(i)))._path=i,a.type="collection",a}return he(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new OR(this.firestore,null,new Tw(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(LR);function FR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=co(e),SR("collection","path",t),e instanceof PR){var a=lw.fromString.apply(lw,[t].concat(r));return TR(a),new MR(e,null,a)}if(!(e instanceof OR||e instanceof MR))throw new Bk(zk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(lw.fromString.apply(lw,[t].concat(r)));return TR(o),new MR(e.firestore,null,o)}function VR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=co(e),1===arguments.length&&(t=ew.R()),SR("doc","path",t),e instanceof PR){var a=lw.fromString.apply(lw,[t].concat(r));return _R(a),new OR(e,null,new Tw(a))}if(!(e instanceof OR||e instanceof MR))throw new Bk(zk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(lw.fromString.apply(lw,[t].concat(r)));return _R(o),new OR(e.firestore,e instanceof MR?e.converter:null,new Tw(o))}function UR(e,t){return e=co(e),t=co(t),(e instanceof OR||e instanceof MR)&&(t instanceof OR||t instanceof MR)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function jR(e,t){return e=co(e),t=co(t),e instanceof LR&&t instanceof LR&&e.firestore===t.firestore&&Mx(e._query,t._query)&&e.converter===t.converter}var zR=function(){function e(){var t=this;Ra(this,e),this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new MT(this,"async_queue_retry"),this.Ua=function(){var e=OT();e&&Ok("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=OT();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ua)}return he(e,[{key:"isShuttingDown",get:function(){return this.Ma}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.qa(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;var t=OT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}},{key:"enqueue",value:function(e){var t=this;if(this.qa(),this.Ma)return new Promise((function(){}));var n=new qk;return this.Ga((function(){return t.Ma&&t.Ba?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ka.push(e),t.Ka()}))}},{key:"Ka",value:function(){var e=Na(Pa().mark((function e(){var t=this;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ka.length){e.next=14;break}return e.prev=1,e.next=4,this.ka[0]();case 4:this.ka.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),cI(e.t0)){e.next=12;break}throw e.t0;case 12:Ok("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ka.length>0&&this.So.Io((function(){return t.Ka()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.Na.then((function(){return t.$a=!0,e().catch((function(e){t.Fa=e,t.$a=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Lk("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.$a=!1,e}))}));return this.Na=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.qa(),this.La.indexOf(e)>-1&&(t=0);var i=RC.createAndSchedule(this,e,t,n,(function(e){return r.Qa(e)}));return this.Oa.push(i),i}},{key:"qa",value:function(){this.Fa&&Vk()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ja",value:function(){var e=Na(Pa().mark((function e(){var t;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Na,e.next=3,t;case 3:if(t!==this.Na){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t,n=Ta(this.Oa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"za",value:function(e){var t=this;return this.ja().then((function(){t.Oa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Ta(t.Oa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ja()}))}},{key:"Ha",value:function(e){this.La.push(e)}},{key:"Qa",value:function(e){var t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}]),e}();function BR(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Ta(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var qR=function(){function e(){Ra(this,e),this._progressObserver={},this._taskCompletionResolver=new qk,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return he(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),WR=function(e){Ea(n,e);var t=_a(n);function n(e,r,i){var a;return Ra(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new zR,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return he(n,[{key:"_terminate",value:function(){return this._firestoreClient||GR(this),this._firestoreClient.terminate()}}]),n}(PR);function KR(e){return e._firestoreClient||GR(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function GR(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new xw(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new oR(e._authCredentials,e._appCheckCredentials,e._queue,r)}function HR(e,t,n){var r=new qk;return e.asyncQueue.enqueue(Na(Pa().mark((function i(){return Pa().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,uR(e,n);case 3:return i.next=5,cR(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===zk.FAILED_PRECONDITION||e.code===zk.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function $R(e){return function(e){return e.asyncQueue.enqueue(Na(Pa().mark((function t(){var n,r;return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vR(e);case 2:return n=t.sent,t.next=5,yR(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=jk(e);return t.lu.delete(0),qT(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(KR(e=NR(e,WR)))}function QR(e){return function(e){return e.asyncQueue.enqueue(Na(Pa().mark((function t(){var n,r;return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vR(e);case 2:return n=t.sent,t.next=5,yR(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Na(Pa().mark((function e(t){var n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=jk(t)).lu.add(0),e.next=4,KT(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(KR(e=NR(e,WR)))}function YR(e,t){var n=KR(e=NR(e,WR)),r=new qR;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new rR(e,t)}(function(e,t){if(e instanceof Uint8Array)return tR(e,t);if(e instanceof ArrayBuffer)return tR(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,LT(t));e.asyncQueue.enqueueAndForget(Na(Pa().mark((function t(){return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=YN,t.next=3,gR(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function JR(e,t){return function(e,t){return e.asyncQueue.enqueue(Na(Pa().mark((function n(){return Pa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=jk(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.ds.getNamedQuery(e,t)}))},n.next=3,mR(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(KR(e=NR(e,WR)),t).then((function(t){return t?new LR(e,null,t.query):null}))}function XR(e){if(e._initialized||e._terminated)throw new Bk(zk.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ZR=function(){function e(){Ra(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Bk(zk.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hw(n)}return he(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var eA=function(){function e(t){Ra(this,e),this._byteString=t}return he(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(pw.fromBase64String(t))}catch(t){throw new Bk(zk.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(pw.fromUint8Array(t))}}]),e}(),tA=he((function e(t){Ra(this,e),this._methodName=t})),nA=function(){function e(t,n){if(Ra(this,e),!isFinite(t)||t<-90||t>90)throw new Bk(zk.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Bk(zk.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return he(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return tw(this._lat,e._lat)||tw(this._long,e._long)}}]),e}(),rA=/^__.*__$/,iA=function(){function e(t,n,r){Ra(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return he(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new vE(e,this.data,this.fieldMask,t,this.fieldTransforms):new pE(e,this.data,t,this.fieldTransforms)}}]),e}(),aA=function(){function e(t,n,r){Ra(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return he(e,[{key:"toMutation",value:function(e,t){return new vE(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function oA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vk()}}var uA=function(){function e(t,n,r,i,a,o){Ra(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return he(e,[{key:"path",get:function(){return this.settings.path}},{key:"Ya",get:function(){return this.settings.Ya}},{key:"Xa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Za",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.ec(e),r}},{key:"nc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.Ja(),r}},{key:"sc",value:function(e){return this.Xa({path:void 0,tc:!0})}},{key:"ic",value:function(e){return TA(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ja",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ec(this.path.get(e))}},{key:"ec",value:function(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(oA(this.Ya)&&rA.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}]),e}(),sA=function(){function e(t,n,r){Ra(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||LT(t)}return he(e,[{key:"uc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new uA({Ya:e,methodName:t,oc:n,path:hw.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function cA(e){var t=e._freezeSettings(),n=LT(e._databaseId);return new sA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function lA(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.uc(a.merge||a.mergeFields?2:0,t,n,i);EA("Data must be an object, but it was:",o,r);var u,s,c=wA(r,o);if(a.merge)u=new dw(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Ta(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=SA(t,d,n);if(!o.contains(p))throw new Bk(zk.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));CA(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new dw(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new iA(new Hw(c),u,s)}var fA=function(e){Ea(n,e);var t=_a(n);function n(){return Ra(this,n),t.apply(this,arguments)}return he(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Ya)throw 1===e.Ya?e.ic("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ic("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(tA);function hA(e,t,n){return new uA({Ya:3,oc:t.settings.oc,methodName:e._methodName,tc:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var dA=function(e){Ea(n,e);var t=_a(n);function n(){return Ra(this,n),t.apply(this,arguments)}return he(n,[{key:"_toFieldTransform",value:function(e){return new iE(e.path,new Yx)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(tA),pA=function(e){Ea(n,e);var t=_a(n);function n(e,r){var i;return Ra(this,n),(i=t.call(this,e)).ac=r,i}return he(n,[{key:"_toFieldTransform",value:function(e){var t=hA(this,e,!0),n=this.ac.map((function(e){return kA(e,t)})),r=new Jx(n);return new iE(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tA),vA=function(e){Ea(n,e);var t=_a(n);function n(e,r){var i;return Ra(this,n),(i=t.call(this,e)).ac=r,i}return he(n,[{key:"_toFieldTransform",value:function(e){var t=hA(this,e,!0),n=this.ac.map((function(e){return kA(e,t)})),r=new Zx(n);return new iE(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tA),mA=function(e){Ea(n,e);var t=_a(n);function n(e,r){var i;return Ra(this,n),(i=t.call(this,e)).cc=r,i}return he(n,[{key:"_toFieldTransform",value:function(e){var t=new tE(e.M,Kx(e.M,this.cc));return new iE(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tA);function yA(e,t,n,r){var i=e.uc(1,t,n);EA("Data must be an object, but it was:",i,r);var a=[],o=Hw.empty();uw(r,(function(e,r){var u=_A(t,e,n);r=co(r);var s=i.nc(u);if(r instanceof fA)a.push(u);else{var c=kA(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new dw(a);return new aA(o,u,i.fieldTransforms)}function gA(e,t,n,r,i,a){var o=e.uc(1,t,n),u=[SA(t,r,n)],s=[i];if(a.length%2!=0)throw new Bk(zk.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(SA(t,a[c])),s.push(a[c+1]);for(var l=[],f=Hw.empty(),h=u.length-1;h>=0;--h)if(!CA(l,u[h])){var d=u[h],p=s[h];p=co(p);var v=o.nc(d);if(p instanceof fA)l.push(d);else{var m=kA(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new dw(l);return new aA(f,y,o.fieldTransforms)}function bA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return kA(n,e.uc(r?4:3,t))}function kA(e,t){if(xA(e=co(e)))return EA("Unsupported field value:",t,e),wA(e,t);if(e instanceof tA)return function(e,t){if(!oA(t.Ya))throw t.ic("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ic("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.tc&&4!==t.Ya)throw t.ic("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Ta(e);try{for(a.s();!(n=a.n()).done;){var o=kA(n.value,t.sc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=co(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Kx(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=iw.fromDate(e);return{timestampValue:tS(t.M,n)}}if(e instanceof iw){var r=new iw(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:tS(t.M,r)}}if(e instanceof nA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof eA)return{bytesValue:nS(t.M,e._byteString)};if(e instanceof OR){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ic("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:aS(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ic("Unsupported field value: ".concat(CR(e)))}(e,t)}function wA(e,t){var n={};return sw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):uw(e,(function(e,r){var i=kA(r,t.Za(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function xA(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof iw||e instanceof nA||e instanceof eA||e instanceof OR||e instanceof tA)}function EA(e,t,n){if(!xA(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=CR(n);throw"an object"===r?t.ic(e+" a custom object"):t.ic(e+" "+r)}}function SA(e,t,n){if((t=co(t))instanceof ZR)return t._internalPath;if("string"==typeof t)return _A(e,t);throw TA("Field path arguments must be of type string or ",e,!1,void 0,n)}var IA=new RegExp("[~\\*/\\[\\]]");function _A(e,t,n){if(t.search(IA)>=0)throw TA("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Da(ZR,fn(t.split(".")))._internalPath}catch(r){throw TA("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function TA(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Bk(zk.INVALID_ARGUMENT,u+e+s)}function CA(e,t){return e.some((function(e){return e.isEqual(t)}))}var NA=function(){function e(t,n,r,i,a){Ra(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return he(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new OR(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new RA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(AA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),RA=function(e){Ea(n,e);var t=_a(n);function n(){return Ra(this,n),t.apply(this,arguments)}return he(n,[{key:"data",value:function(){return xa(ka(n.prototype),"data",this).call(this)}}]),n}(NA);function AA(e,t){return"string"==typeof t?_A(e,t):t instanceof ZR?t._internalPath:t._delegate._internalPath}var PA=function(){function e(t,n){Ra(this,e),this.hasPendingWrites=t,this.fromCache=n}return he(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),DA=function(e){Ea(n,e);var t=_a(n);function n(e,r,i,a,o,u){var s;return Ra(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return he(n,[{key:"exists",value:function(){return xa(ka(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new OA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(AA("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(NA),OA=function(e){Ea(n,e);var t=_a(n);function n(){return Ra(this,n),t.apply(this,arguments)}return he(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xa(ka(n.prototype),"data",this).call(this,e)}}]),n}(DA),LA=function(){function e(t,n,r,i){Ra(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new PA(i.hasPendingWrites,i.fromCache),this.query=r}return he(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new OA(n._firestore,n._userDataWriter,r.key,r,new PA(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Bk(zk.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new OA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new PA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new OA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new PA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:MA(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function MA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vk()}}function FA(e,t){return e instanceof DA&&t instanceof DA?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof LA&&t instanceof LA&&e._firestore===t._firestore&&jR(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function VA(e){if(Nx(e)&&0===e.explicitOrderBy.length)throw new Bk(zk.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var UA=he((function e(){Ra(this,e)}));function jA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var zA=function(e){Ea(n,e);var t=_a(n);function n(e,r,i){var a;return Ra(this,n),(a=t.call(this)).hc=e,a.lc=r,a.fc=i,a.type="where",a}return he(n,[{key:"_apply",value:function(e){var t=cA(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Bk(zk.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){XA(o,a);var s,c=[],l=Ta(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(JA(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=JA(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||XA(o,a),u=bA(n,"where",o,"in"===a||"not-in"===a);var h=fx.create(i,a,u);return function(e,t){if(t.S()){var n=Ax(e);if(null!==n&&!n.isEqual(t.field))throw new Bk(zk.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Rx(e);null!==r&&ZA(e,t.field,r)}var i=function(e,t){var n,r=Ta(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Bk(zk.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Bk(zk.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new LR(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Ix(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(UA);var BA=function(e){Ea(n,e);var t=_a(n);function n(e,r){var i;return Ra(this,n),(i=t.call(this)).hc=e,i.dc=r,i.type="orderBy",i}return he(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Bk(zk.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Bk(zk.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new wx(t,n);return function(e,t){if(null===Rx(e)){var n=Ax(e);null!==n&&ZA(e,n,t.field)}}(e,r),r}(e._query,this.hc,this.dc);return new LR(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ix(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(UA);var qA=function(e){Ea(n,e);var t=_a(n);function n(e,r,i){var a;return Ra(this,n),(a=t.call(this)).type=e,a._c=r,a.wc=i,a}return he(n,[{key:"_apply",value:function(e){return new LR(e.firestore,e.converter,Lx(e._query,this._c,this.wc))}}]),n}(UA);var WA=function(e){Ea(n,e);var t=_a(n);function n(e,r,i){var a;return Ra(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return he(n,[{key:"_apply",value:function(e){var t=YA(e,this.type,this.mc,this.gc);return new LR(e.firestore,e.converter,function(e,t){return new Ix(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(UA);function KA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new WA("startAt",t,!0)}function GA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new WA("startAfter",t,!1)}var HA=function(e){Ea(n,e);var t=_a(n);function n(e,r,i){var a;return Ra(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return he(n,[{key:"_apply",value:function(e){var t=YA(e,this.type,this.mc,this.gc);return new LR(e.firestore,e.converter,function(e,t){return new Ix(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(UA);function $A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new HA("endBefore",t,!1)}function QA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new HA("endAt",t,!0)}function YA(e,t,n,r){if(n[0]=co(n[0]),n[0]instanceof NA)return function(e,t,n,r,i){if(!r)throw new Bk(zk.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Ta(Dx(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Fw(t,r.key));else{var c=r.data.field(s.field);if(bw(c))throw new Bk(zk.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Bk(zk.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new kx(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=cA(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Bk(zk.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Bk(zk.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Px(e)&&-1!==c.indexOf("/"))throw new Bk(zk.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(lw.fromString(c));if(!Tw.isDocumentKey(l))throw new Bk(zk.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Tw(l);u.push(Fw(t,f))}else{var h=bA(n,r,c);u.push(h)}}return new kx(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function JA(e,t,n){if("string"==typeof(n=co(n))){if(""===n)throw new Bk(zk.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Px(t)&&-1!==n.indexOf("/"))throw new Bk(zk.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(lw.fromString(n));if(!Tw.isDocumentKey(r))throw new Bk(zk.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Fw(e,new Tw(r))}if(n instanceof OR)return Fw(e,n._key);throw new Bk(zk.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(CR(n),"."))}function XA(e,t){if(!Array.isArray(e)||0===e.length)throw new Bk(zk.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Bk(zk.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function ZA(e,t,n){if(!n.isEqual(t))throw new Bk(zk.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var eP=function(){function e(){Ra(this,e)}return he(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Rw(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yw(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gw(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Vk()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return uw(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new nA(yw(e.latitude),yw(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=kw(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ww(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=mw(e);return new iw(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=lw.fromString(e);Uk(NS(n));var r=new Ew(n.get(1),n.get(3)),i=new Tw(n.popFirst(5));return r.isEqual(t)||Lk("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function tP(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var nP=function(e){Ea(n,e);var t=_a(n);function n(e){var r;return Ra(this,n),(r=t.call(this)).firestore=e,r}return he(n,[{key:"convertBytes",value:function(e){return new eA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new OR(this.firestore,null,t)}}]),n}(eP),rP=function(){function e(t,n){Ra(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=cA(t)}return he(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=iP(e,this._firestore),i=tP(r.converter,t,n),a=lA(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,oE.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=iP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=co(t))||t instanceof ZR?gA(this._dataReader,"WriteBatch.update",i._key,t,n,o):yA(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,oE.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=iP(e,this._firestore);return this._mutations=this._mutations.concat(new wE(t._key,oE.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Bk(zk.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function iP(e,t){if((e=co(e)).firestore!==t)throw new Bk(zk.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var aP=function(e){Ea(n,e);var t=_a(n);function n(e){var r;return Ra(this,n),(r=t.call(this)).firestore=e,r}return he(n,[{key:"convertBytes",value:function(e){return new eA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new OR(this.firestore,null,t)}}]),n}(eP);function oP(e){e=NR(e,OR);var t=NR(e.firestore,WR),n=KR(t),r=new aP(t);return function(e,t){var n=new qk;return e.asyncQueue.enqueueAndForget(Na(Pa().mark((function r(){return Pa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Na(Pa().mark((function e(t,n,r){var i,a;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=jk(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ai.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Bk(zk.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=AC(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,mR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new DA(t,r,e._key,n,new PA(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function uP(e){e=NR(e,LR);var t=NR(e.firestore,WR),n=KR(t),r=new aP(t);return function(e,t){var n=new qk;return e.asyncQueue.enqueueAndForget(Na(Pa().mark((function r(){return Pa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Na(Pa().mark((function e(t,n,r){var i,a,o,u,s;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z_(t,n,!0);case 3:i=e.sent,a=new JC(n,i.hi),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=AC(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,mR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new LA(t,r,e,n)}))}function sP(e,t,n){e=NR(e,OR);var r=NR(e.firestore,WR),i=tP(e.converter,t,n);return hP(r,[lA(cA(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,oE.none())])}function cP(e,t,n){e=NR(e,OR);for(var r=NR(e.firestore,WR),i=cA(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return hP(r,[("string"==typeof(t=co(t))||t instanceof ZR?gA(i,"updateDoc",e._key,t,n,o):yA(i,"updateDoc",e._key,t)).toMutation(e._key,oE.exists(!0))])}function lP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=co(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||BR(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(BR(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof OR)l=NR(e.firestore,WR),f=Tx(e._key.path),c={next:function(t){n[s]&&n[s](dP(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=NR(e,LR);l=NR(p.firestore,WR),f=p._query;var v=new aP(l);c={next:function(e){n[s]&&n[s](new LA(l,v,p,e))},error:n[s+1],complete:n[s+2]},VA(e._query)}return function(e,t,n,r){var i=new nR(r),a=new WC(t,i,n);return e.asyncQueue.enqueueAndForget(Na(Pa().mark((function t(){return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=FC,t.next=3,bR(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.pa(),e.asyncQueue.enqueueAndForget(Na(Pa().mark((function t(){return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=UC,t.next=3,bR(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(KR(l),f,h,c)}function fP(e,t){return function(e,t){var n=new nR(t);return e.asyncQueue.enqueueAndForget(Na(Pa().mark((function t(){return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){jk(e).Tu.add(t),t.next()},t.next=3,bR(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.pa(),e.asyncQueue.enqueueAndForget(Na(Pa().mark((function t(){return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){jk(e).Tu.delete(t)},t.next=3,bR(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(KR(e=NR(e,WR)),BR(t)?t:{next:t})}function hP(e,t){return function(e,t){var n=new qk;return e.asyncQueue.enqueueAndForget(Na(Pa().mark((function r(){return Pa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=uN,r.next=3,gR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(KR(e),t)}function dP(e,t,n){var r=n.docs.get(t._key),i=new aP(e);return new DA(e,i,t._key,r,new PA(n.hasPendingWrites,n.fromCache),t.converter)}var pP=function(e){Ea(n,e);var t=_a(n);function n(e,r){var i;return Ra(this,n),(i=t.call(this,e,r))._firestore=e,i}return he(n,[{key:"get",value:function(e){var t=this,r=iP(e,this._firestore),i=new aP(this._firestore);return xa(ka(n.prototype),"get",this).call(this,e).then((function(e){return new DA(t._firestore,i,r._key,e._document,new PA(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Ra(this,e),this._firestore=t,this._transaction=n,this._dataReader=cA(t)}return he(e,[{key:"get",value:function(e){var t=this,n=iP(e,this._firestore),r=new nP(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Vk();var i=e[0];if(i.isFoundDocument())return new NA(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new NA(t._firestore,r,n._key,null,n.converter);throw Vk()}))}},{key:"set",value:function(e,t,n){var r=iP(e,this._firestore),i=tP(r.converter,t,n),a=lA(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=iP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=co(t))||t instanceof ZR?gA(this._dataReader,"Transaction.update",i._key,t,n,o):yA(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=iP(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function vP(e,t){return function(e,t){var n=new qk;return e.asyncQueue.enqueueAndForget(Na(Pa().mark((function r(){var i;return Pa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return dR(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new aR(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(KR(e=NR(e,WR)),(function(n){return t(new pP(e,n))}))}function mP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pA("arrayUnion",t)}function yP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new vA("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ak=e}(Ho),jo(new mo("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new WR(i,new Hk(e.getProvider("auth-internal")),new Jk(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Zo(Nk,"3.4.7",e),Zo(Nk,"3.4.7","esm2017")}();var gP=function(){return gP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},gP.apply(this,arguments)},bP=function(e){return{loading:void 0===e||null===e,value:e}},kP=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return gP(gP({},e),{error:t.error,loading:!1,value:void 0});case"reset":return bP(t.defaultValue);case"value":return gP(gP({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),bP(t)),r=n[0],a=n[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:s,value:r.value}}),[r.error,r.loading,o,u,s,r.value])},wP=function(e,t,n){var r=(0,i.useRef)(e);return(0,i.useEffect)((function(){t(e,r.current)||(r.current=e,n&&n())})),r},xP=function(e,t){var n=!e&&!t,r=!!e&&!!t&&jR(e,t);return n||r},EP=function(e,t){return wP(e,xP,t)},SP=function(e,t){var n=null===t||void 0===t?void 0:t.snapshotOptions,r=function(e,t){var n=kP(),r=n.error,a=n.loading,o=n.reset,u=n.setError,s=n.setValue,c=n.value,l=EP(e,o);(0,i.useEffect)((function(){if(l.current){var e=(null===t||void 0===t?void 0:t.snapshotListenOptions)?lP(l.current,t.snapshotListenOptions,s,u):lP(l.current,s,u);return function(){e()}}s(void 0)}),[l.current]);var f=[c,a,r];return(0,i.useMemo)((function(){return f}),f)}(e,t),a=r[0],o=r[1],u=r[2],s=[IP(a,n),o,u,a];return(0,i.useMemo)((function(){return s}),s)},IP=function(e,t){return(0,i.useMemo)((function(){return null===e||void 0===e?void 0:e.docs.map((function(e){return e.data(t)}))}),[e,t])},_P=function(){var e=(0,i.useContext)(cO),t=e.auth,n=e.firestore,r=l(Nd(t),1)[0],a=l((0,i.useState)(""),2),o=a[0],u=a[1],s=l(SP(n.collection("messages").orderBy("createdAt")),2),c=s[0],f=s[1],h=function(){var e=Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.collection("messages").add({uid:r.uid,displayName:r.displayName,photoURL:r.photoURL,text:o,createdAt:vp.firestore.FieldValue.serverTimestamp()}),u("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return f?(0,Rd.jsx)(Od,{}):(0,Rd.jsx)(Dd,{children:(0,Rd.jsxs)(Bi,{container:!0,style:{height:window.innerHeight-50,marginTop:5},justify:"center",children:[(0,Rd.jsx)("div",{style:{width:"80%",height:"68vh",border:"1px solid gray",overflowY:"auto"},children:c.map((function(e){return(0,Rd.jsxs)("div",{style:{margin:10,border:r.uid===e.uid?"2px solid green":"2px dashed red",marginLeft:r.uid===e.uid?"auto":"10px",width:"fit-content"},children:[(0,Rd.jsxs)(Bi,{container:!0,children:[(0,Rd.jsx)(mm,{src:e.photoURL}),(0,Rd.jsx)("div",{children:e.displayName})]}),(0,Rd.jsx)("div",{children:e.text})]})}))}),(0,Rd.jsxs)(Bi,{container:!0,direction:"column",alignItems:"flex-end",style:{width:"80%"},children:[(0,Rd.jsx)(hm,{fullWidth:!0,variant:"outlined",rowsMax:2,value:o,onChange:function(e){return u(e.target.value)}}),(0,Rd.jsx)(ya,{variant:"outlined",onClick:h,children:"Send"})]})]})})},TP=[{path:ga,component:(0,Rd.jsx)(mp,{})}],CP=[{path:ba,component:(0,Rd.jsx)(_P,{})}],NP=function(){var e=(0,i.useContext)(cO).auth;return l(Nd(e),1)[0]?(0,Rd.jsx)(ee,{children:(0,Rd.jsxs)(H,{children:[CP.map((function(e){var t=e.path,n=e.component;return(0,Rd.jsx)(K,{path:t,element:n,exact:!0},t)})),(0,Rd.jsx)(K,{path:"*",element:(0,Rd.jsx)(W,{replace:!0,to:ba})})]})}):(0,Rd.jsx)(ee,{children:(0,Rd.jsxs)(H,{children:[TP.map((function(e){var t=e.path,n=e.component;return(0,Rd.jsx)(K,{path:t,element:n,exact:!0},t)})),(0,Rd.jsx)(K,{path:"*",element:(0,Rd.jsx)(W,{replace:!0,to:ga})})]})})};var RP=function(){var e=(0,i.useContext)(cO).auth,t=l(Nd(e),3),n=(t[0],t[1]);return t[2],n?(0,Rd.jsx)(Od,{}):(0,Rd.jsxs)(Z,{children:[(0,Rd.jsx)(Ad,{}),(0,Rd.jsx)(NP,{})]})};function AP(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Bk("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function PP(){if("undefined"===typeof Uint8Array)throw new Bk("unimplemented","Uint8Arrays are not available in this environment.")}function DP(){if("undefined"==typeof atob)throw new Bk("unimplemented","Blobs are unavailable in Firestore in this environment.")}var OP=function(){function e(t){Ra(this,e),this._delegate=t}return he(e,[{key:"toBase64",value:function(){return DP(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return PP(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return DP(),new e(eA.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return PP(),new e(eA.fromUint8Array(t))}}]),e}();function LP(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Ta(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var MP=function(){function e(){Ra(this,e)}return he(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){XR(e=NR(e,WR));var n=KR(e),r=e._freezeSettings(),i=new eR;return HR(n,i,new XN(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){XR(e=NR(e,WR));var t=KR(e),n=e._freezeSettings(),r=new eR;return HR(t,r,new ZN(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Bk(zk.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new qk;return e._queue.enqueueAndForgetEvenWhileRestricted(Na(Pa().mark((function n(){return Pa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Na(Pa().mark((function e(t){var n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oI.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,oI.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(F_(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),FP=function(){function e(t,n,r){var i=this;Ra(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Ew||(this._appCompat=t)}return he(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Mk("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};DR(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return $R(this._delegate)}},{key:"disableNetwork",value:function(){return QR(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&IR("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new qk;return e.asyncQueue.enqueueAndForget(Na(Pa().mark((function n(){return Pa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=gN,n.next=3,gR(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(KR(e=NR(e,WR)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return fP(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Bk("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new JP(this,FR(this._delegate,e))}catch(t){throw qP(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new BP(this,VR(this._delegate,e))}catch(t){throw qP(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new $P(this,function(e,t){if(e=NR(e,PR),SR("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Bk(zk.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new LR(e,null,function(e){return new Ix(lw.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw qP(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return vP(this._delegate,(function(n){return e(new UP(t,n))}))}},{key:"batch",value:function(){var e=this;return KR(this._delegate),new jP(new rP(this._delegate,(function(t){return hP(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return YR(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return JR(this._delegate,e).then((function(e){return e?new $P(t,e):null}))}}]),e}(),VP=function(e){Ea(n,e);var t=_a(n);function n(e){var r;return Ra(this,n),(r=t.call(this)).firestore=e,r}return he(n,[{key:"convertBytes",value:function(e){return new OP(new eA(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return BP.forKey(t,this.firestore,null)}}]),n}(eP);var UP=function(){function e(t,n){Ra(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new VP(t)}return he(e,[{key:"get",value:function(e){var t=this,n=XP(e);return this._delegate.get(n).then((function(e){return new GP(t._firestore,new DA(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=XP(e);return n?(AP("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=XP(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=XP(e);return this._delegate.delete(t),this}}]),e}(),jP=function(){function e(t){Ra(this,e),this._delegate=t}return he(e,[{key:"set",value:function(e,t,n){var r=XP(e);return n?(AP("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=XP(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=XP(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),zP=function(){function e(t,n,r){Ra(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return he(e,[{key:"fromFirestore",value:function(e,t){var n=new OA(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new HP(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new VP(t),n),i.set(n,a)),a}}]),e}();zP.INSTANCES=new WeakMap;var BP=function(){function e(t,n){Ra(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new VP(t)}return he(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new JP(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new JP(this.firestore,FR(this._delegate,e))}catch(t){throw qP(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=co(e))instanceof OR&&UR(this._delegate,e)}},{key:"set",value:function(e,t){t=AP("DocumentReference.set",t);try{return t?sP(this._delegate,e,t):sP(this._delegate,e)}catch(n){throw qP(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?cP(this._delegate,e):cP.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw qP(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return hP(NR(e.firestore,WR),[new wE(e._key,oE.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=WP(n),a=KP(n,(function(t){return new GP(e.firestore,new DA(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return lP(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?oP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=NR(e,OR);var t=NR(e.firestore,WR);return wR(KR(t),e._key,{source:"server"}).then((function(n){return dP(t,e,n)}))}(this._delegate):function(e){e=NR(e,OR);var t=NR(e.firestore,WR);return wR(KR(t),e._key).then((function(n){return dP(t,e,n)}))}(this._delegate),t.then((function(e){return new GP(n.firestore,new DA(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(zP.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Bk("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new OR(n._delegate,r,new Tw(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new OR(n._delegate,r,t))}}]),e}();function qP(e,t,n){return e.message=e.message.replace(t,n),e}function WP(e){var t,n=Ta(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!LP(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function KP(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=LP(e[0])?e[0]:LP(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var GP=function(){function e(t,n){Ra(this,e),this._firestore=t,this._delegate=n}return he(e,[{key:"ref",get:function(){return new BP(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return FA(this._delegate,e._delegate)}}]),e}(),HP=function(e){Ea(n,e);var t=_a(n);function n(){return Ra(this,n),t.apply(this,arguments)}return he(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Vk()}(void 0!==t),t}}]),n}(GP),$P=function(){function e(t,n){Ra(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new VP(t)}return he(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,jA(this._delegate,function(e,t,n){var r=t,i=AA("where",e);return new zA(i,r,n)}(t,n,r)))}catch(i){throw qP(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,jA(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=AA("orderBy",e);return new BA(n,t)}(t,n)))}catch(r){throw qP(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,jA(this._delegate,function(e){return RR("limit",e),new qA("limit",e,"F")}(t)))}catch(n){throw qP(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,jA(this._delegate,function(e){return RR("limitToLast",e),new qA("limitToLast",e,"L")}(t)))}catch(n){throw qP(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,jA(this._delegate,KA.apply(void 0,arguments)))}catch(t){throw qP(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,jA(this._delegate,GA.apply(void 0,arguments)))}catch(t){throw qP(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,jA(this._delegate,$A.apply(void 0,arguments)))}catch(t){throw qP(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,jA(this._delegate,QA.apply(void 0,arguments)))}catch(t){throw qP(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return jR(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?uP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=NR(e,LR);var t=NR(e.firestore,WR),n=KR(t),r=new aP(t);return xR(n,e._query,{source:"server"}).then((function(n){return new LA(t,r,e,n)}))}(this._delegate):function(e){e=NR(e,LR);var t=NR(e.firestore,WR),n=KR(t),r=new aP(t);return VA(e._query),xR(n,e._query).then((function(n){return new LA(t,r,e,n)}))}(this._delegate),t.then((function(e){return new YP(n.firestore,new LA(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=WP(n),a=KP(n,(function(t){return new YP(e.firestore,new LA(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return lP(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(zP.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),QP=function(){function e(t,n){Ra(this,e),this._firestore=t,this._delegate=n}return he(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new HP(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),YP=function(){function e(t,n){Ra(this,e),this._firestore=t,this._delegate=n}return he(e,[{key:"query",get:function(){return new $P(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new HP(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new QP(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new HP(n._firestore,r))}))}},{key:"isEqual",value:function(e){return FA(this._delegate,e._delegate)}}]),e}(),JP=function(e){Ea(n,e);var t=_a(n);function n(e,r){var i;return Ra(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return he(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new BP(this.firestore,e):null}},{key:"doc",value:function(e){try{return new BP(this.firestore,void 0===e?VR(this._delegate):VR(this._delegate,e))}catch(t){throw qP(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=NR(e.firestore,WR),r=VR(e),i=tP(e.converter,t);return hP(n,[lA(cA(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,oE.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new BP(t.firestore,e)}))}},{key:"isEqual",value:function(e){return UR(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(zP.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}($P);function XP(e){return NR(e,OR)}var ZP,eD=function(){function e(){Ra(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Da(ZR,n)}return he(e,[{key:"isEqual",value:function(e){return(e=co(e))instanceof ZR&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(hw.keyField().canonicalString())}}]),e}(),tD=function(){function e(t){Ra(this,e),this._delegate=t}return he(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new dA("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new fA("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=mP.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=yP.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new mA("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),nD={Firestore:FP,GeoPoint:nA,Timestamp:iw,Blob:OP,Transaction:UP,WriteBatch:jP,DocumentReference:BP,DocumentSnapshot:GP,Query:$P,QueryDocumentSnapshot:HP,QuerySnapshot:YP,CollectionReference:JP,FieldPath:eD,FieldValue:tD,setLogLevel:function(e){!function(e){Pk.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};function rD(){return window}(function(e,t){e.INTERNAL.registerComponent(new mo("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},nD)))})(ZP=vp,(function(e,t){return new FP(e,t,new MP)})),ZP.registerVersion("@firebase/firestore-compat","0.1.16");function iD(e,t,n){return aD.apply(this,arguments)}function aD(){return aD=Na(Pa().mark((function e(t,n,r){var i,a,o,u,s;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=rD(),o=a.BuildInfo,Bu(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,fD(n.sessionId);case 4:return u=e.sent,s={},Gs()?s.ibi=o.packageName:qs()?s.apn=o.packageName:Lu(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",dd(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),aD.apply(this,arguments)}function oD(){return oD=Na(Pa().mark((function e(t){var n,r,i;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rD(),r=n.BuildInfo,i={},Gs()?i.iosBundleId=r.packageName:qs()?i.androidPackageName=r.packageName:Lu(t,"operation-not-supported-in-this-environment"),e.next=5,qh(t,i);case 5:case"end":return e.stop()}}),e)}))),oD.apply(this,arguments)}function uD(e){var t=rD().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function sD(e,t,n){return cD.apply(this,arguments)}function cD(){return cD=Na(Pa().mark((function e(t,n,r){var i,a,o;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rD(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Mu(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),qs()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),cD.apply(this,arguments)}function lD(e){var t,n,r,i,a,o,u,s,c,l,f=rD();ju("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ju("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ju("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ju("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ju("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function fD(e){return hD.apply(this,arguments)}function hD(){return(hD=Na(Pa().mark((function e(t){var n,r,i;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=dD(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dD(e){if(Bu(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var pD=function(e){Ea(n,e);var t=_a(n);function n(){var e;return Ra(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return he(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),xa(ka(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(jh);function vD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:kD(),postBody:null,tenantId:e.tenantId,error:Mu(e,"no-auth-event")}}function mD(e,t){return wD()._set(xD(e),t)}function yD(e){return gD.apply(this,arguments)}function gD(){return gD=Na(Pa().mark((function e(t){var n;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wD()._get(xD(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,wD()._remove(xD(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),gD.apply(this,arguments)}function bD(e,t){var n,r,i=function(e){var t=ED(e),n=t.link?decodeURIComponent(t.link):void 0,r=ED(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ED(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=ED(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Mu(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function kD(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function wD(){return Wu(uf)}function xD(e){return Ms("authEvent",e.config.apiKey,e.name)}function ED(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=o(t=n)||ln(t)||s(t)||c();r[0];return io(r.slice(1).join("?"))}var SD=function(){function e(){Ra(this,e),this._redirectPersistence=cf,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Mh}return he(e,[{key:"_initialize",value:function(){var e=Na(Pa().mark((function e(t){var n,r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new pD(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Lu(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Na(Pa().mark((function e(t,n,r,i){var a,o,u,s;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lD(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),kh.clear(),e.next=10,this._originValidation(t);case 10:return o=vD(t,r,i),e.next=13,mD(t,o);case 13:return e.next=15,iD(t,o,n);case 15:return u=e.sent,e.next=18,uD(u);case 18:return s=e.sent,e.abrupt("return",sD(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return oD.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=rD(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Na(Pa().mark((function n(){return Pa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,yD(e);case 2:t.onEvent(_D());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Na(Pa().mark((function n(r){var i,a;return Pa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,yD(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=bD(i,r.url)),t.onEvent(a||_D());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");rD().handleOpenURL=function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),ID=SD;function _D(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Mu("no-auth-event")}}function TD(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function CD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa();return!("file:"!==TD()&&"ionic:"!==TD()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ND(){return $a()&&11===(null===document||void 0===document?void 0:document.documentMode)}function RD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa();return/Edge\/\d+/.test(e)}function AD(){try{var e=self.localStorage,t=hf();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa();return ND()||RD(e)}()||Qa()}catch(n){return PD()&&Qa()}return!1}function PD(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function DD(){return("http:"===TD()||"https:"===TD()||Ga()||CD())&&!(Ha()||Ka())&&AD()&&!PD()}function OD(){return CD()&&"undefined"!==typeof document}function LD(){return MD.apply(this,arguments)}function MD(){return(MD=Na(Pa().mark((function e(){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(OD()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var FD={LOCAL:"local",NONE:"none",SESSION:"session"},VD=ju,UD="persistence";function jD(e,t){VD(Object.values(FD).includes(t),e,"invalid-persistence-type"),Ha()?VD(t!==FD.SESSION,e,"unsupported-persistence-type"):Ka()?VD(t===FD.NONE,e,"unsupported-persistence-type"):PD()?VD(t===FD.NONE||t===FD.LOCAL&&Qa(),e,"unsupported-persistence-type"):VD(t===FD.NONE||AD(),e,"unsupported-persistence-type")}function zD(e){return BD.apply(this,arguments)}function BD(){return BD=Na(Pa().mark((function e(t){var n,r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=qD(),r=Ms(UD,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),BD.apply(this,arguments)}function qD(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var WD=ju,KD=function(){function e(){Ra(this,e),this.browserResolver=Wu(md),this.cordovaResolver=Wu(ID),this.underlyingResolver=null,this._redirectPersistence=cf,this._completeRedirectFn=Mh}return he(e,[{key:"_initialize",value:function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Na(Pa().mark((function e(t,n,r,i){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Na(Pa().mark((function e(t,n,r,i){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return OD()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return WD(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Na(Pa().mark((function e(){var t;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,LD();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function GD(e){return e.unwrap()}function HD(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new XD(e,function(e,t){var n,r=co(e),i=t;return ju(t.customData.operationType,r,"argument-error"),ju(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Xl._fromError(r,i)}(e,t));else if(r){var i=$D(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function $D(e){var t=(e instanceof Ya?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ya)&&"temporaryProof"in t&&"phoneNumber"in t)return ah.credentialFromResult(e);var n,r=t.providerId;if(!r||r===wu)return null;switch(r){case ku:n=qc;break;case gu:n=Bc;break;case bu:n=Wc;break;case xu:n=Hc;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Kc._create(r,u):Nc._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new zc(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Ya?n.credentialFromError(e):n.credentialFromResult(e)}function QD(e,t){return t.catch((function(t){throw t instanceof Ya&&HD(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,$D(t)),additionalUserInfo:Yl(e),user:ZD.getOrCreate(r)}}))}function YD(e,t){return JD.apply(this,arguments)}function JD(){return JD=Na(Pa().mark((function e(t,n){var r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return QD(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),JD.apply(this,arguments)}var XD=function(){function e(t,n){Ra(this,e),this.resolver=n,this.auth=t.wrapped()}return he(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return QD(GD(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),ZD=function(){function e(t){Ra(this,e),this._delegate=t,this.multiFactor=function(e){var t=co(e);return nf.has(t)||nf.set(t,tf._fromUser(t)),nf.get(t)}(t)}return he(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QD(this.auth,pl(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",YD(this.auth,Zf(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QD(this.auth,yh(this._delegate,t,KD)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zD(Xs(this.auth));case 2:return e.abrupt("return",Ph(this._delegate,t,KD));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QD(this.auth,ml(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return YD(this.auth,function(e,t,n){return th.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return QD(this.auth,function(e,t,n){return mh.apply(this,arguments)}(this._delegate,e,KD))}},{key:"reauthenticateWithRedirect",value:function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zD(Xs(this.auth));case 2:return e.abrupt("return",Rh(this._delegate,t,KD));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Fl.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nl(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Bl(co(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Bl(co(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return ih.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return zl.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Vl.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();ZD.USER_MAP=new WeakMap;var eO=ju,tO=function(){function e(t,n){if(Ra(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;eO(r,"invalid-api-key",{appName:t.name}),eO(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?KD:void 0;this._delegate=n.initialize({options:{persistence:rO(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Ru),this.linkUnderlyingAuth()}return he(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?ZD.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){ec(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return _l.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Tl(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Il.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Na(Pa().mark((function e(t,n){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QD(this._delegate,Rl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Ml.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Fc.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Na(Pa().mark((function e(){var t;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eO(DD(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Oh(this._delegate,KD);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",QD(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Xs(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=nO(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=nO(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Pl.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Sl.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Na(Pa().mark((function e(t){var n,r;return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:jD(this._delegate,t),e.t0=t,e.next=e.t0===FD.SESSION?4:e.t0===FD.LOCAL?6:e.t0===FD.NONE?11:13;break;case 4:return n=cf,e.abrupt("break",14);case 6:return e.next=8,Wu(Pf)._isAvailable();case 8:return r=e.sent,n=r?Pf:uf,e.abrupt("break",14);case 11:return n=Ls,e.abrupt("break",14);case 13:return e.abrupt("return",Lu("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return QD(this._delegate,function(e){return Xc.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return QD(this._delegate,hl(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return QD(this._delegate,function(e,t){return kl.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return QD(this._delegate,function(e,t,n){return hl(co(e),Vc.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return QD(this._delegate,function(e,t,n){return Dl.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return YD(this._delegate,function(e,t,n){return Xf.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eO(DD(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",QD(this._delegate,ph(this._delegate,t,KD)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Na(Pa().mark((function e(t){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eO(DD(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,zD(this._delegate);case 3:return e.abrupt("return",Ch(this._delegate,t,KD));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Nl.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function nO(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&ZD.getOrCreate(e))},error:t,complete:n}}function rO(e,t){var n=function(e,t){var n=qD();if(!n)return[];var r=Ms(UD,e,t);switch(n.getItem(r)){case FD.NONE:return[Ls];case FD.LOCAL:return[Pf,cf];case FD.SESSION:return[cf];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Pf)||n.push(Pf),"undefined"!==typeof window)for(var r=0,i=[uf,cf];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Ls)||n.push(Ls),n}tO.Persistence=FD;var iO=function(){function e(){Ra(this,e),this.providerId="phone",this._delegate=new ah(GD(vp.auth()))}return he(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return ah.credential(e,t)}}]),e}();iO.PHONE_SIGN_IN_METHOD=ah.PHONE_SIGN_IN_METHOD,iO.PROVIDER_ID=ah.PROVIDER_ID;var aO=ju,oO=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vp.app();Ra(this,e),aO(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Qf(t,n,i.auth()),this.type=this._delegate.type}return he(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new mo("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new tO(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Eu,PASSWORD_RESET:Su,RECOVER_EMAIL:Iu,REVERT_SECOND_FACTOR_ADDITION:_u,VERIFY_AND_CHANGE_EMAIL:Tu,VERIFY_EMAIL:Cu}},EmailAuthProvider:Vc,FacebookAuthProvider:Bc,GithubAuthProvider:Wc,GoogleAuthProvider:qc,OAuthProvider:zc,SAMLAuthProvider:Gc,PhoneAuthProvider:iO,PhoneMultiFactorGenerator:bd,RecaptchaVerifier:oO,TwitterAuthProvider:Hc,Auth:tO,AuthCredential:rc,Error:Ya}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.11")}(vp);var uO=vp.initializeApp({apiKey:"AIzaSyAn2PO7wTGLc-Wr6sr0xG5RkkgulZPifxw",authDomain:"chat-react-f698d.firebaseapp.com",projectId:"chat-react-f698d",storageBucket:"chat-react-f698d.appspot.com",messagingSenderId:"743715572823",appId:"1:743715572823:web:85db2765e440dcd2d26712",measurementId:"G-4JH19BSE76"}).firestore(),sO=vp.auth(),cO=i.createContext(null);a.render((0,Rd.jsx)(cO.Provider,{value:{firebase:vp,auth:sO,firestore:uO},children:(0,Rd.jsx)(RP,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.3d83a5de.js.map